<!doctype html><html lang=zh class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.87.0"><link rel=canonical type=text/html href=/zh/docs/>
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel="shortcut icon" href=/favicons/favicon.ico>
<link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192>
<title>æ–‡æ¡£ | KLTS.io</title>
<meta name=description content="KLTS çš„å®˜ç½‘"><meta property="og:title" content="æ–‡æ¡£">
<meta property="og:description" content="KLTS çš„å®˜ç½‘">
<meta property="og:type" content="website">
<meta property="og:url" content="/zh/docs/"><meta property="og:site_name" content="KLTS.io">
<meta itemprop=name content="æ–‡æ¡£">
<meta itemprop=description content="KLTS çš„å®˜ç½‘"><meta name=twitter:card content="summary">
<meta name=twitter:title content="æ–‡æ¡£">
<meta name=twitter:description content="KLTS çš„å®˜ç½‘">
<link rel=preload href=/scss/main.min.650bdee92aa16b3ae39822dd8dfd62356c714a590c397f4abe76572440c62901.css as=style>
<link href=/scss/main.min.650bdee92aa16b3ae39822dd8dfd62356c714a590c397f4abe76572440c62901.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script>
</head>
<body class=td-section>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class=navbar-brand href=/zh/>
<span class=navbar-logo><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="text-uppercase font-weight-bold">KLTS.io</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/zh/about/><span>å…³äº</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/zh/docs/><span class=active>æ–‡æ¡£</span></a>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
ä¸­æ–‡ Chinese
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/docs/>English</a>
</div>
</li>
</ul>
</div>
<div class="navbar-nav d-none d-lg-block">
<input type=search class="form-control td-search-input" placeholder="&#xf002; ç«™å†…æœç´¢â€¦" aria-label=ç«™å†…æœç´¢â€¦ autocomplete=off data-offline-search-index-json-src=/offline-search-index.18b531bf3de4dd637e8a0b8bcdbb2181.json data-offline-search-base-href=/ data-offline-search-max-results=10>
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
</div>
<div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
</div>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<div class=td-content>
<div class="pageinfo pageinfo-primary d-print-none">
<p>
è¿™æ˜¯æœ¬èŠ‚çš„å¤šé¡µæ‰“å°è§†å›¾ã€‚
<a href=# onclick="return print(),!1">ç‚¹å‡»æ­¤å¤„æ‰“å°</a>.
</p><p>
<a href=/zh/docs/>è¿”å›æœ¬é¡µå¸¸è§„è§†å›¾</a>.
</p>
</div>
<h1 class=title>æ–‡æ¡£</h1>
<ul>
<li>1: <a href=#pg-18d58d2666f9af2b2086e0baa55f315d>ç®€ä»‹</a></li>
<li>2: <a href=#pg-50ddcb3cdb08fbe2ad5d04311c273b4c>å‡†å¤‡</a></li>
<li>3: <a href=#pg-64407d3e6d5ef382426bdfbcae040c6a>å®‰è£…æ­¥éª¤</a></li>
<li>4: <a href=#pg-c258a50dfe331dfdf852330040bd8f14>åç»­å·¥ä½œ</a></li>
<li>5: <a href=#pg-cf1a7e96c5bc452942429f7b1a8d0306>ä¿®å¤çš„æ¼æ´</a></li>
<ul>
<li>5.1: <a href=#pg-fa6c26ffb59581078942a7046be853db>CVE-2019-1002101</a></li>
<li>5.2: <a href=#pg-678704d1c81cba20ab7f9af62e484052>CVE-2019-11245</a></li>
<li>5.3: <a href=#pg-17adf9e532c044f0bc96bf2fe6fabb70>CVE-2019-11246</a></li>
<li>5.4: <a href=#pg-d902d3ffd5b3d43bf94a51814ab569c7>CVE-2019-11247</a></li>
<li>5.5: <a href=#pg-da5de8654ce647927106ce1dae3b6382>CVE-2019-11248</a></li>
<li>5.6: <a href=#pg-9677918ea7ce2b1d4116bfb9d4d31512>CVE-2019-11249</a></li>
<li>5.7: <a href=#pg-3bb42a6493fbd1d3d06aad85c3d8d1e7>CVE-2019-11251</a></li>
<li>5.8: <a href=#pg-c1ec3633b18a80bee04f17816082420b>CVE-2020-8552</a></li>
<li>5.9: <a href=#pg-5aa68ad2e414f83fec8b9beb2250fdd3>CVE-2020-8558</a></li>
<li>5.10: <a href=#pg-ce240d314dc85c8ab698d26f1466e5a2>CVE-2020-8559</a></li>
<li>5.11: <a href=#pg-d4317cf8912bca37373fe5558d2d6285>CVE-2021-3121</a></li>
<li>5.12: <a href=#pg-66481705776642cc7da302c2a84c2907>nokmem</a></li>
</ul>
<li>6: <a href=#pg-9662232d61bca04520940eafdc2967e8>ç‰ˆæœ¬æ—¥å¿—</a></li>
<ul>
<li>6.1: <a href=#pg-392cbea6b384069ecbb7f7287567796b>v1.10.13</a></li>
<ul>
<li>6.1.1: <a href=#pg-11f4f5c9a4be3821c253586ecc555cbb>v1.10.13-lts.1</a></li>
</ul>
<li>6.2: <a href=#pg-f3da15966c8c4439fb741e2ef8c78204>v1.11.10</a></li>
<ul>
<li>6.2.1: <a href=#pg-9eec5b25731b7e0b81f9b917fe1bce0c>v1.11.10-lts.1</a></li>
</ul>
<li>6.3: <a href=#pg-b3690dbf3b7f69b33c1619edd3bb04ca>v1.12.10</a></li>
<ul>
<li>6.3.1: <a href=#pg-27786078bb9f8ad064a60ea6903bb0fd>v1.12.10-lts.1</a></li>
</ul>
<li>6.4: <a href=#pg-7900b7f9f88a4a74990fe03111a2da05>v1.13.12</a></li>
<ul>
<li>6.4.1: <a href=#pg-d881df1610b2ecdebb624461d03f23c9>v1.13.12-lts.1</a></li>
</ul>
<li>6.5: <a href=#pg-51d890621bb8c9944add326b0a8b37a9>v1.14.10</a></li>
<ul>
<li>6.5.1: <a href=#pg-a0f1f487ff86a6e928f7e5c357ff4b08>v1.14.10-lts.1</a></li>
</ul>
<li>6.6: <a href=#pg-e68cc5fb088f6d1ae33afaf415fddee9>v1.15.12</a></li>
<ul>
<li>6.6.1: <a href=#pg-0de2d52a18da527606a4cafd2f9c2964>v1.15.12-lts.1</a></li>
</ul>
<li>6.7: <a href=#pg-5f38f1e7b6171717787aed14f462ea87>v1.16.15</a></li>
<ul>
<li>6.7.1: <a href=#pg-291fa7036c16b7b6fec50788d3fbd23e>v1.16.15-lts.1</a></li>
</ul>
<li>6.8: <a href=#pg-2115cd3345664b75db988898787bd6c2>v1.17.17</a></li>
<ul>
<li>6.8.1: <a href=#pg-97b8bcc4b64573fbff060a24764ae889>v1.17.17-lts.1</a></li>
</ul>
<li>6.9: <a href=#pg-5c45d9bdb98f73d4ba804be5543aa913>v1.18.20</a></li>
<ul>
<li>6.9.1: <a href=#pg-f30dfdd74c807ee349c09b44ea91b5fa>v1.18.20-lts.1</a></li>
</ul>
</ul>
<li>7: <a href=#pg-a7c9e10a31abdecaec5a338462a220a8>å¼€å‘æŒ‡å—</a></li>
<ul>
<li>7.1: <a href=#pg-8da562538e76378aaf2ff1c50166f299>ä¾èµ–</a></li>
<li>7.2: <a href=#pg-79fcc7e024580df9da30cdb10805eada>å…‹éš†</a></li>
</ul>
</ul>
<div class=content>
</div>
</div>
<div class=td-content>
<h1 id=pg-18d58d2666f9af2b2086e0baa55f315d>1 - ç®€ä»‹</h1>
<h2 id=klts-ver>ç‰ˆæœ¬è¯´æ˜</h2>
<p>æœ¬é¡µä¸ºæ‚¨ä»‹ç» KLTS çš„ Kubernetes ç‰ˆæœ¬æ”¯æŒæœºåˆ¶ã€‚<br>
<img src=../klts_ver.png width=300></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼ŒV1.16.15 æ˜¯ Kubernetes çš„å®Œæ•´å‘è¡Œç‰ˆæœ¬å·ï¼Œå…¶ä¸­ 1.16 æ˜¯å¤§ç‰ˆæœ¬å·ï¼Œ15 æ˜¯ç¤¾åŒºè¡¥ä¸ç‰ˆæœ¬ï¼Œè€Œ lts.0 æ˜¯ KLTS çš„è¡¥ä¸ç‰ˆæœ¬å·ã€‚</p>
<h2 id=klts-job>KLTS ç»´æŠ¤å“ªäº›ç‰ˆæœ¬ï¼Ÿ</h2>
<img src=../klts_job.png width=750>
<p>ä¸Šå›¾ä»¥ 2021 å¹´ 8 æœˆ 31 æ—¥ä¸ºä¾‹ï¼Œå½“æ—¶çš„æœ€æ–°ç‰ˆæœ¬ä¸º 1.22ï¼ŒKubernetes ç¤¾åŒºä»…ç»´æŠ¤ 1.19 â€“ 1.22 å››ä¸ªç‰ˆæœ¬ã€‚è€Œ KLTS åˆ™æä¾›ä» 1.10 åˆ° 1.18 çš„ç‰ˆæœ¬ç»´æŠ¤ï¼Œæ¯ä¸ªç‰ˆæœ¬çš„æ”¯æŒå‘¨æœŸè‡³å°‘ä¸¤å¹´ã€‚å…¶ä¸­ Kubernetes 1.10 æ˜¯ DaoCloud Enterprise 3.0 çš„ç”Ÿäº§å†…æ ¸ï¼Œå…¶ç»´æŠ¤å‘¨æœŸä¼šç›¸å¯¹æ›´é•¿ã€‚æˆ‘ä»¬ä¼šå°†ä¿®å¤ bug åçš„ç¨³å®šç‰ˆæœ¬ä¸Šä¼ è‡³ KLTSï¼Œä¾›ç¤¾åŒºä¸‹è½½ä½¿ç”¨ã€‚</p>
<p>Kubernetes ç¤¾åŒºä¸€èˆ¬æ¯éš” 4 ä¸ªæœˆå·¦å³å‘å¸ƒä¸€ä¸ªå¤§ç‰ˆæœ¬ï¼ŒKLTS ç»´æŠ¤çš„ Kubernetes ç‰ˆæœ¬ä¹Ÿä¼šéšä¹‹å˜åŒ–ã€‚é€šå¸¸åœ¨ Kubernetes ç¤¾åŒºåœæ­¢ç»´æŠ¤æŸä¸ªç‰ˆæœ¬åçš„ä¸€ä¸ªæœˆå†…ï¼ŒKLTS å°†å¼€å§‹ç»´æŠ¤åˆšè¢«ç¤¾åŒºåœæ­¢ç»´æŠ¤çš„ç‰ˆæœ¬ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœç¤¾åŒºæ­£å¼å‘å¸ƒ 1.23 ç‰ˆæœ¬ï¼ŒKLTS ç»´æŠ¤çš„ç‰ˆæœ¬ä¹Ÿä¼šåŠ ä¸€ï¼Œè¾¾åˆ° 1.19ï¼Œä»¥æ­¤ç±»æ¨ã€‚KLTS çš„è¡¥ä¸æ›´æ–°é¢‘ç‡å°†æ ¹æ®å®é™…è§£å†³çš„ bug æƒ…å†µå‘å¸ƒã€‚</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-50ddcb3cdb08fbe2ad5d04311c273b4c>2 - å‡†å¤‡</h1>
<p><img src=https://raw.githubusercontent.com/kubernetes/kubeadm/master/logos/stacked/color/kubeadm-stacked-color.png align=right width=150px>æœ¬é¡µä»‹ç»å®‰è£… Kubernetes ä¹‹å‰éœ€è¦åšå¥½çš„ä¸€äº›å‡†å¤‡å·¥ä½œï¼Œä¾‹å¦‚å…ˆè¦å®‰è£… <code>kubeadm</code> å·¥å…·ç®±ã€‚æœ‰å…³åœ¨å®‰è£…æ­¤å·¥å…·ç®±åå¦‚ä½•ç”¨å…¶åˆ›å»ºé›†ç¾¤ï¼Œè¯·å‚é˜…<a href=/zh/docs/install target>å®‰è£…æ­¥éª¤</a>ã€‚</p>
<h2 id=å‡†å¤‡å·¥ä½œ>å‡†å¤‡å·¥ä½œ</h2>
<ul>
<li>å‡†å¤‡ä¸€å°å…¼å®¹çš„ Linux ä¸»æœºã€‚Kubernetes é¡¹ç›®ä¸ºåŸºäº Debian å’Œ Red Hat çš„ Linux
å‘è¡Œç‰ˆä»¥åŠä¸€äº›ä¸æä¾›åŒ…ç®¡ç†å™¨çš„å‘è¡Œç‰ˆæä¾›é€šç”¨çš„æŒ‡ä»¤ã€‚</li>
<li>æ¯å°ä¸»æœºè‡³å°‘ 2 GB æˆ–æ›´å¤šçš„å†…å­˜ï¼ˆå¦‚æœå†…å­˜å¤ªå°‘å°†å½±å“åº”ç”¨çš„è¿è¡Œï¼‰</li>
<li>CPU 2 æ ¸æˆ–æ›´å¤š</li>
<li>é›†ç¾¤ä¸­æ‰€æœ‰ä¸»æœºçš„ç½‘ç»œè¿é€šï¼ˆå…¬ç½‘å’Œå†…ç½‘ï¼‰</li>
<li>å•ä¸ªèŠ‚ç‚¹ä¸Šä¸èƒ½æœ‰é‡å¤çš„ä¸»æœºåã€MAC åœ°å€æˆ– product_uuidï¼Œè¯·å‚é˜…<a href=#verify-mac-address target=_blank>ç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹ä¸Š MAC åœ°å€å’Œ product_uuid çš„å”¯ä¸€æ€§</a>ã€‚</li>
<li>å¼€å¯ä¸»æœºä¸Šçš„æŸäº›ç«¯å£ï¼Œè¯·å‚é˜…<a href=#check-required-ports target=_blank>æ£€æŸ¥æ‰€éœ€ç«¯å£</a>ã€‚</li>
<li>ç¦ç”¨äº¤æ¢åˆ†åŒºã€‚ä¸ºäº†ä¿è¯ kubelet æ­£å¸¸å·¥ä½œï¼Œæ‚¨<strong>å¿…é¡»</strong>ç¦ç”¨äº¤æ¢åˆ†åŒºã€‚</li>
</ul>
<h2 id=verify-mac-address>ç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹ä¸Š MAC åœ°å€å’Œ product_uuid çš„å”¯ä¸€æ€§ </h2>
<ul>
<li>ä½¿ç”¨å‘½ä»¤ <code>ip link</code> æˆ– <code>ifconfig -a</code> æ¥è·å–ç½‘ç»œæ¥å£çš„ MAC åœ°å€</li>
<li>ä½¿ç”¨ <code>sudo cat /sys/class/dmi/id/product_uuid</code> å‘½ä»¤æ¥æ ¡éªŒ product_uuid</li>
</ul>
<p>ä¸€èˆ¬æ¥è®²ï¼Œç¡¬ä»¶è®¾å¤‡æ‹¥æœ‰å”¯ä¸€çš„åœ°å€ï¼Œä½†æ˜¯æœ‰äº›è™šæ‹Ÿæœºçš„åœ°å€å¯èƒ½ä¼šé‡å¤ã€‚
Kubernetes ä½¿ç”¨ MAC åœ°å€å’Œ product_uuid æ¥ç¡®å®šé›†ç¾¤ä¸­çš„å”¯ä¸€èŠ‚ç‚¹ã€‚
å¦‚æœè¿™äº›å€¼åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šä¸å”¯ä¸€ï¼Œå¯èƒ½ä¼šå¯¼è‡´å®‰è£…<a href=https://github.com/kubernetes/kubeadm/issues/31 target=_blank>å¤±è´¥</a>ã€‚</p>
<h2 id=æ£€æŸ¥ç½‘ç»œé€‚é…å™¨>æ£€æŸ¥ç½‘ç»œé€‚é…å™¨</h2>
<p>å¦‚æœæ‚¨æœ‰ä¸€ä¸ªä»¥ä¸Šçš„ç½‘ç»œé€‚é…å™¨ï¼ŒåŒæ—¶æ‚¨çš„ Kubernetes ç»„ä»¶é€šè¿‡é»˜è®¤è·¯ç”±ä¸å¯è¾¾ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨é¢„å…ˆæ·»åŠ  IP è·¯ç”±è§„åˆ™ï¼Œè¿™æ · Kubernetes é›†ç¾¤å°±å¯ä»¥é€šè¿‡å¯¹åº”çš„é€‚é…å™¨å®Œæˆè¿æ¥ã€‚</p>
<h2 id=å…è®¸-iptables-æ£€æŸ¥æ¡¥æ¥æµé‡>å…è®¸ iptables æ£€æŸ¥æ¡¥æ¥æµé‡</h2>
<p>ç¡®ä¿ <code>br_netfilter</code> æ¨¡å—è¢«åŠ è½½ã€‚è¿™ä¸€æ“ä½œå¯ä»¥é€šè¿‡è¿è¡Œ <code>lsmod | grep br_netfilter</code>
æ¥å®Œæˆã€‚è‹¥è¦æ˜¾å¼åŠ è½½è¯¥æ¨¡å—ï¼Œå¯æ‰§è¡Œå‘½ä»¤ <code>sudo modprobe br_netfilter</code>ã€‚</p>
<p>ä¸ºäº†è®©æ‚¨çš„ Linux èŠ‚ç‚¹ä¸Šçš„ iptables èƒ½å¤Ÿæ­£ç¡®åœ°æŸ¥çœ‹æ¡¥æ¥æµé‡ï¼Œæ‚¨éœ€è¦ç¡®ä¿åœ¨
<code>sysctl</code> é…ç½®ä¸­å°† <code>net.bridge.bridge-nf-call-iptables</code> è®¾ç½®ä¸º 1ã€‚ä¾‹å¦‚ï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt;EOF | sudo tee /etc/modules-load.d/k8s.conf
</span><span style=color:#4e9a06>br_netfilter
</span><span style=color:#4e9a06>EOF</span>

cat <span style=color:#4e9a06>&lt;&lt;EOF | sudo tee /etc/sysctl.d/k8s.conf
</span><span style=color:#4e9a06>net.bridge.bridge-nf-call-ip6tables = 1
</span><span style=color:#4e9a06>net.bridge.bridge-nf-call-iptables = 1
</span><span style=color:#4e9a06>EOF</span>
sudo sysctl --system
</code></pre></div><p>æ›´å¤šç»†èŠ‚è¯·æŸ¥é˜…<a href=https://kubernetes.io/zh/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/#network-plugin-requirements target=_blank>ç½‘ç»œæ’ä»¶éœ€æ±‚</a>é¡µé¢ã€‚</p>
<h2 id=check-required-ports>æ£€æŸ¥æ‰€éœ€ç«¯å£</h2>
<h3 id=æ§åˆ¶å¹³é¢èŠ‚ç‚¹>æ§åˆ¶å¹³é¢èŠ‚ç‚¹</h3>
<table>
<thead>
<tr>
<th>åè®®</th>
<th>æ–¹å‘</th>
<th>ç«¯å£èŒƒå›´</th>
<th>ä½œç”¨</th>
<th>ä½¿ç”¨è€…</th>
</tr>
</thead>
<tbody>
<tr>
<td>TCP</td>
<td>å…¥ç«™</td>
<td>6443</td>
<td>Kubernetes API æœåŠ¡å™¨</td>
<td>æ‰€æœ‰ç»„ä»¶</td>
</tr>
<tr>
<td>TCP</td>
<td>å…¥ç«™</td>
<td>2379-2380</td>
<td>etcd æœåŠ¡å™¨å®¢æˆ·ç«¯ API</td>
<td>kube-apiserverã€etcd</td>
</tr>
<tr>
<td>TCP</td>
<td>å…¥ç«™</td>
<td>10250</td>
<td>Kubelet API</td>
<td>kubelet è‡ªèº«ã€æ§åˆ¶å¹³é¢ç»„ä»¶</td>
</tr>
<tr>
<td>TCP</td>
<td>å…¥ç«™</td>
<td>10251</td>
<td>kube-scheduler</td>
<td>kube-scheduler è‡ªèº«</td>
</tr>
<tr>
<td>TCP</td>
<td>å…¥ç«™</td>
<td>10252</td>
<td>kube-controller-manager</td>
<td>kube-controller-manager è‡ªèº«</td>
</tr>
</tbody>
</table>
<h3 id=å·¥ä½œèŠ‚ç‚¹>å·¥ä½œèŠ‚ç‚¹</h3>
<table>
<thead>
<tr>
<th>åè®®</th>
<th>æ–¹å‘</th>
<th>ç«¯å£èŒƒå›´</th>
<th>ä½œç”¨</th>
<th>ä½¿ç”¨è€…</th>
</tr>
</thead>
<tbody>
<tr>
<td>TCP</td>
<td>å…¥ç«™</td>
<td>10250</td>
<td>Kubelet API</td>
<td>kubelet è‡ªèº«ã€æ§åˆ¶å¹³é¢ç»„ä»¶</td>
</tr>
<tr>
<td>TCP</td>
<td>å…¥ç«™</td>
<td>30000-32767</td>
<td>NodePort æœåŠ¡</td>
<td>æ‰€æœ‰ç»„ä»¶</td>
</tr>
</tbody>
</table>
<p>ä»¥ä¸Šæ˜¯ <a href=https://kubernetes.io/zh/docs/concepts/services-networking/service/ target=_blank>NodePort æœåŠ¡</a>çš„é»˜è®¤ç«¯å£èŒƒå›´ã€‚</p>
<p>ä½¿ç”¨ * æ ‡è®°çš„ä»»æ„ç«¯å£å·éƒ½å¯ä»¥è¢«è¦†ç›–ï¼Œæ‰€ä»¥æ‚¨éœ€è¦ä¿è¯å®šåˆ¶çš„ç«¯å£æ˜¯å¼€æ”¾çš„ã€‚</p>
<p>è™½ç„¶æ§åˆ¶å¹³é¢èŠ‚ç‚¹å·²ç»åŒ…å«äº† etcd çš„ç«¯å£ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„å¤–éƒ¨ etcd é›†ç¾¤ï¼Œæˆ–æŒ‡å®šè‡ªå®šä¹‰ç«¯å£ã€‚</p>
<p>æ‚¨ä½¿ç”¨çš„ Pod ç½‘ç»œæ’ä»¶ (è§ä¸‹) ä¹Ÿå¯èƒ½éœ€è¦æŸäº›ç‰¹å®šç«¯å£å¼€å¯ã€‚ç”±äºå„ä¸ª Pod ç½‘ç»œæ’ä»¶éƒ½æœ‰æ‰€ä¸åŒï¼Œè¯·å‚é˜…ç›¸åº”æ–‡æ¡£ä¸­çš„ç«¯å£è¦æ±‚ã€‚</p>
<h2 id=è®¾ç½®èŠ‚ç‚¹åå­—>è®¾ç½®èŠ‚ç‚¹åå­—</h2>
<p>å‘½ä»¤çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>hostnamectl set-hostname your-new-host-name
<span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#34;127.0.0.1 </span><span style=color:#204a87;font-weight:700>$(</span>hostname<span style=color:#204a87;font-weight:700>)</span><span style=color:#4e9a06>&#34;</span> &gt;&gt; /etc/hosts
<span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#34;::1       </span><span style=color:#204a87;font-weight:700>$(</span>hostname<span style=color:#204a87;font-weight:700>)</span><span style=color:#4e9a06>&#34;</span> &gt;&gt; /etc/hosts
</code></pre></div><h2 id=å…³é—­-swap>å…³é—­ Swap</h2>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å…³é—­ Swapï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>swapoff -a
</code></pre></div><p>å¦‚æœéœ€è¦æ°¸ä¹…å…³é—­ï¼Œè¯·ç¼–è¾‘ <code>/etc/fstab</code> æ–‡ä»¶ï¼Œå°† swap çš„æŒ‚è½½è·¯å¾„æ”¹ä¸ºæ³¨é‡Šã€‚</p>
<h2 id=å…³é—­-selinux>å…³é—­ Selinux</h2>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å…³é—­ Selinuxï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>setenforce <span style=color:#0000cf;font-weight:700>0</span>
</code></pre></div><p>å¦‚æœéœ€è¦æ°¸ä¹…å…³é—­ï¼Œè¯·ç¼–è¾‘ <code>/etc/sysconfig/selinux</code> å°† <code>SELINUX=enforcing</code> æ›¿æ¢ä¸º <code>SELINUX=disabled</code>ã€‚</p>
<h2 id=installing-runtime>å®‰è£… runtime</h2>
<p>ä¸ºäº†åœ¨ Pod ä¸­è¿è¡Œå®¹å™¨ï¼ŒKubernetes ä½¿ç”¨å®¹å™¨è¿è¡Œæ—¶ï¼ˆContainer Runtimeï¼‰ã€‚</p>
<ul class="nav nav-tabs" id=container-runtimes role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#container-runtimes-0 role=tab aria-controls=container-runtimes-0 aria-selected=true>Linux èŠ‚ç‚¹</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#container-runtimes-1 role=tab aria-controls=container-runtimes-1>å…¶å®ƒæ“ä½œç³»ç»Ÿ</a></li></ul>
<div class=tab-content id=container-runtimes><div id=container-runtimes-0 class="tab-pane show active" role=tabpanel aria-labelledby=container-runtimes-0>
<p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒKubernetes ä½¿ç”¨å®¹å™¨è¿è¡Œæ—¶æ¥å£ï¼ˆContainer Runtime Interfaceï¼ŒCRIï¼‰æ¥ä¸æ‚¨æ‰€é€‰æ‹©çš„å®¹å™¨è¿è¡Œæ—¶äº¤äº’ã€‚</p>
<p>å¦‚æœæ‚¨ä¸æŒ‡å®šè¿è¡Œæ—¶ï¼Œåˆ™ kubeadm ä¼šè‡ªåŠ¨å°è¯•æ£€æµ‹ç³»ç»Ÿä¸Šå·²ç»å®‰è£…çš„è¿è¡Œæ—¶ï¼Œæ–¹æ³•æ˜¯æ‰«æä¸€ç»„ä¼—æ‰€å‘¨çŸ¥çš„ Unix åŸŸå¥—æ¥å­—ã€‚</p>
<p>ä¸‹é¢çš„è¡¨æ ¼åˆ—ä¸¾äº†ä¸€äº›å®¹å™¨è¿è¡Œæ—¶åŠå…¶å¯¹åº”çš„å¥—æ¥å­—è·¯å¾„ï¼š</p>
<table>
<thead>
<tr>
<th>è¿è¡Œæ—¶</th>
<th>åŸŸå¥—æ¥å­—</th>
</tr>
</thead>
<tbody>
<tr>
<td>Docker</td>
<td>/var/run/dockershim.sock</td>
</tr>
<tr>
<td>Containerd</td>
<td>/run/containerd/containerd.sock</td>
</tr>
<tr>
<td>CRI-O</td>
<td>/var/run/crio/crio.sock</td>
</tr>
</tbody>
</table>
<br>
å¦‚æœåŒæ—¶æ£€æµ‹åˆ° Docker å’Œ Containerdï¼Œåˆ™ä¼˜å…ˆé€‰æ‹© Dockerã€‚
è¿™æ˜¯å¿…ç„¶çš„ï¼Œå³ä½¿æ‚¨ä»…å®‰è£…äº† Dockerï¼Œå› ä¸º Docker 18.09 é™„å¸¦äº† Containerdï¼Œæ‰€ä»¥ä¸¤è€…éƒ½æ˜¯å¯ä»¥æ£€æµ‹åˆ°çš„ã€‚
å¦‚æœæ£€æµ‹åˆ°å…¶ä»–ä¸¤ä¸ªæˆ–å¤šä¸ªè¿è¡Œæ—¶ï¼Œåˆ™ kubeadm è¾“å‡ºé”™è¯¯ä¿¡æ¯å¹¶é€€å‡ºã€‚
<p>kubelet é€šè¿‡å†…ç½®çš„ <code>dockershim</code> CRI å®ç°ä¸ Docker é›†æˆã€‚</p>
</div>
<div id=container-runtimes-1 class=tab-pane role=tabpanel aria-labelledby=container-runtimes-1>
<p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ kubeadm ä½¿ç”¨ docker ä½œä¸ºå®¹å™¨è¿è¡Œæ—¶ã€‚kubelet é€šè¿‡å†…ç½®çš„ <code>dockershim</code> CRI å®ç°ä¸ Docker é›†æˆã€‚</p>
</div></div>
<ul class="nav nav-tabs" id=tabset-zhdocspre-install-3 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-zhdocspre-install-3-0 role=tab aria-controls=tabset-zhdocspre-install-3-0 aria-selected=true>Docker</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocspre-install-3-1 role=tab aria-controls=tabset-zhdocspre-install-3-1>Containerd</a></li></ul>
<div class=tab-content id=tabset-zhdocspre-install-3><div id=tabset-zhdocspre-install-3-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-zhdocspre-install-3-0>
<p>
<ul class="nav nav-tabs" id=tabset-zhdocspre-install-2 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-zhdocspre-install-2-0 role=tab aria-controls=tabset-zhdocspre-install-2-0 aria-selected=true>åŸºäº Red Hat çš„å‘è¡Œç‰ˆ</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocspre-install-2-1 role=tab aria-controls=tabset-zhdocspre-install-2-1>åŸºäº Debian çš„å‘è¡Œç‰ˆ</a></li></ul>
<div class=tab-content id=tabset-zhdocspre-install-2><div id=tabset-zhdocspre-install-2-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-zhdocspre-install-2-0>
<p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…åŸºäº Red Hat å‘è¡Œç‰ˆçš„ Dockerï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yum install docker
</code></pre></div></div>
<div id=tabset-zhdocspre-install-2-1 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocspre-install-2-1>
<p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…åŸºäº Debian å‘è¡Œç‰ˆçš„ Dockerï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>apt-get install docker.io
</code></pre></div></div></div>
</div>
<div id=tabset-zhdocspre-install-3-1 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocspre-install-3-1>
<p><p>Containerd å®˜æ–¹é»˜è®¤åªæä¾› amd64 æ¶æ„çš„ä¸‹è½½åŒ…ï¼Œå¦‚æœæ‚¨é‡‡ç”¨çš„æ˜¯å…¶ä»–åŸºç¡€æ¶æ„ï¼Œ
å¯ä»¥ä» Docker å®˜æ–¹ä»“åº“å®‰è£… <code>containerd.io</code> è½¯ä»¶åŒ…ã€‚åœ¨<a href=https://docs.docker.com/engine/install/#server target=_blank>å®‰è£… Docker å¼•æ“</a>ä¸­
æ‰¾åˆ°ä¸ºå„è‡ªçš„ Linux å‘è¡Œç‰ˆè®¾ç½® Docker å­˜å‚¨åº“å’Œå®‰è£… containerd.io è½¯ä»¶åŒ…çš„æœ‰å…³è¯´æ˜ã€‚</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æºä»£ç æ„å»ºã€‚</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#000>VERSION</span><span style=color:#ce5c00;font-weight:700>=</span>1.5.4
wget -c https://github.com/containerd/containerd/releases/download/v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>/containerd-<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>-linux-amd64.tar.gz
tar xvf containerd-<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>-linux-amd64.tar.gz -C /usr/local/
mkdir /etc/containerd/ <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> containerd config default &gt; /etc/containerd/config.toml
wget -c -O /etc/systemd/system/containerd.service https://raw.githubusercontent.com/containerd/containerd/main/containerd.service
systemctl start containerd <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> systemctl <span style=color:#204a87>enable</span> containerd
</code></pre></div></div></div>
<p>å‚é˜…<a href=https://kubernetes.io/zh/docs/setup/production-environment/container-runtimes/ target=_blank>å®¹å™¨è¿è¡Œæ—¶</a>ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-64407d3e6d5ef382426bdfbcae040c6a>3 - å®‰è£…æ­¥éª¤</h1>
<p>KLTS æä¾›äº†åŸºäº deb å’Œ rpm è½¯ä»¶æºçš„å®‰è£…æ–¹å¼ï¼Œæ‚¨å¯ä»¥é€‰æ‹©é€‚åˆçš„å®‰è£…æ–¹å¼ã€‚</p>
<p>å®‰è£…å‰è¯·ç¡®è®¤å·²ç»å®Œæˆäº†<a href=/zh/docs/pre-install target>å‡†å¤‡</a>å·¥ä½œã€‚</p>
<h2 id=è®¾ç½®-klts-è½¯ä»¶æº>è®¾ç½® KLTS è½¯ä»¶æº</h2>
<ul class="nav nav-tabs" id=tabset-zhdocsinstall-3 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-zhdocsinstall-3-0 role=tab aria-controls=tabset-zhdocsinstall-3-0 aria-selected=true>åŸºäº Red Hat çš„å‘è¡Œç‰ˆ</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-3-1 role=tab aria-controls=tabset-zhdocsinstall-3-1>åŸºäº Debian çš„å‘è¡Œç‰ˆ</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-3-2 role=tab aria-controls=tabset-zhdocsinstall-3-2>åŸºäº Red Hat çš„å‘è¡Œç‰ˆ, å›½å†…åŠ é€Ÿ ğŸš€</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-3-3 role=tab aria-controls=tabset-zhdocsinstall-3-3>åŸºäº Debian çš„å‘è¡Œç‰ˆ, å›½å†…åŠ é€Ÿ ğŸš€</a></li></ul>
<div class=tab-content id=tabset-zhdocsinstall-3><div id=tabset-zhdocsinstall-3-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-zhdocsinstall-3-0>
<p><p>æ‰§è¡Œä»¥ä¸‹ä»£ç è®¾ç½®ä¸‹è½½ KLTS çš„è½¯ä»¶æºï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; \EOF &gt; /etc/yum.repos.d/klts.repo
</span><span style=color:#4e9a06>[klts]
</span><span style=color:#4e9a06>name=klts
</span><span style=color:#4e9a06>baseurl=https://dl.klts.io/rpm/$basearch/
</span><span style=color:#4e9a06>enabled=1
</span><span style=color:#4e9a06>gpgcheck=0
</span><span style=color:#4e9a06>EOF</span>

yum makecache
</code></pre></div></div>
<div id=tabset-zhdocsinstall-3-1 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-3-1>
<p><p>æ‰§è¡Œä»¥ä¸‹ä»£ç è®¾ç½®ä¸‹è½½ KLTS çš„è½¯ä»¶æºï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; EOF &gt; /etc/apt/sources.list.d/klts.list
</span><span style=color:#4e9a06>deb [trusted=yes] https://dl.klts.io/deb stable main
</span><span style=color:#4e9a06>EOF</span>

apt-get update
</code></pre></div></div>
<div id=tabset-zhdocsinstall-3-2 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-3-2>
<p>
<strong>è¯´æ˜ï¼š</strong>ä»¥ä¸‹åŠ é€Ÿå‡æ¥è‡ªç¬¬ä¸‰æ–¹, å®‰å…¨å’Œç¨³å®šæ€§ä¸åšä¿éšœ, ä»…å»ºè®®æµ‹è¯•ç¯å¢ƒä½¿ç”¨ â—ï¸â—ï¸â—ï¸ <br><br>
æ‰§è¡Œä»¥ä¸‹ä»£ç è®¾ç½®ä¸‹è½½ KLTS çš„è½¯ä»¶æºï¼š
<ul class="nav nav-tabs" id=tabset-zhdocsinstall-1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-zhdocsinstall-1-0 role=tab aria-controls=tabset-zhdocsinstall-1-0 aria-selected=true>/etc/hosts</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-1-1 role=tab aria-controls=tabset-zhdocsinstall-1-1>hub.fastgit.org</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-1-2 role=tab aria-controls=tabset-zhdocsinstall-1-2>ghproxy.com</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-1-3 role=tab aria-controls=tabset-zhdocsinstall-1-3>raw.githubusercontents.com</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-1-4 role=tab aria-controls=tabset-zhdocsinstall-1-4>raw.staticdn.net</a></li></ul>
<div class=tab-content id=tabset-zhdocsinstall-1><div id=tabset-zhdocsinstall-1-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-zhdocsinstall-1-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>curl https://raw.githubusercontent.com/wzshiming/github-hosts/master/hosts &gt;&gt;/etc/hosts

cat <span style=color:#4e9a06>&lt;&lt; \EOF &gt; /etc/yum.repos.d/klts.repo
</span><span style=color:#4e9a06>[klts]
</span><span style=color:#4e9a06>name=klts
</span><span style=color:#4e9a06>baseurl=https://dl.klts.io/rpm/$basearch/
</span><span style=color:#4e9a06>enabled=1
</span><span style=color:#4e9a06>gpgcheck=0
</span><span style=color:#4e9a06>EOF</span>

yum makecache
</code></pre></div></div>
<div id=tabset-zhdocsinstall-1-1 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-1-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; \EOF &gt; /etc/yum.repos.d/klts.repo
</span><span style=color:#4e9a06>[klts]
</span><span style=color:#4e9a06>name=klts
</span><span style=color:#4e9a06>baseurl=https://hub.fastgit.org/klts-io/kubernetes-lts/raw/repos/rpm/$basearch/
</span><span style=color:#4e9a06>enabled=1
</span><span style=color:#4e9a06>gpgcheck=0
</span><span style=color:#4e9a06>EOF</span>

yum makecache
</code></pre></div></div>
<div id=tabset-zhdocsinstall-1-2 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-1-2>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; \EOF &gt; /etc/yum.repos.d/klts.repo
</span><span style=color:#4e9a06>[klts]
</span><span style=color:#4e9a06>name=klts
</span><span style=color:#4e9a06>baseurl=https://ghproxy.com/https://raw.githubusercontent.com/klts-io/kubernetes-lts/repos/rpm/$basearch/
</span><span style=color:#4e9a06>enabled=1
</span><span style=color:#4e9a06>gpgcheck=0
</span><span style=color:#4e9a06>EOF</span>

yum makecache
</code></pre></div></div>
<div id=tabset-zhdocsinstall-1-3 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-1-3>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; \EOF &gt; /etc/yum.repos.d/klts.repo
</span><span style=color:#4e9a06>[klts]
</span><span style=color:#4e9a06>name=klts
</span><span style=color:#4e9a06>baseurl=https://raw.githubusercontents.com/klts-io/kubernetes-lts/repos/rpm/$basearch/
</span><span style=color:#4e9a06>enabled=1
</span><span style=color:#4e9a06>gpgcheck=0
</span><span style=color:#4e9a06>EOF</span>

yum makecache
</code></pre></div></div>
<div id=tabset-zhdocsinstall-1-4 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-1-4>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; \EOF &gt; /etc/yum.repos.d/klts.repo
</span><span style=color:#4e9a06>[klts]
</span><span style=color:#4e9a06>name=klts
</span><span style=color:#4e9a06>baseurl=https://raw.staticdn.net/klts-io/kubernetes-lts/repos/rpm/$basearch/
</span><span style=color:#4e9a06>enabled=1
</span><span style=color:#4e9a06>gpgcheck=0
</span><span style=color:#4e9a06>EOF</span>

yum makecache
</code></pre></div></div></div>
</div>
<div id=tabset-zhdocsinstall-3-3 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-3-3>
<p>
<strong>è¯´æ˜ï¼š</strong>ä»¥ä¸‹åŠ é€Ÿå‡æ¥è‡ªç¬¬ä¸‰æ–¹, å®‰å…¨å’Œç¨³å®šæ€§ä¸åšä¿éšœ, ä»…å»ºè®®æµ‹è¯•ç¯å¢ƒä½¿ç”¨ â—ï¸â—ï¸â—ï¸<br><br>
æ‰§è¡Œä»¥ä¸‹ä»£ç è®¾ç½®ä¸‹è½½ KLTS çš„è½¯ä»¶æºï¼š
<ul class="nav nav-tabs" id=tabset-zhdocsinstall-2 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-zhdocsinstall-2-0 role=tab aria-controls=tabset-zhdocsinstall-2-0 aria-selected=true>/etc/hosts</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-2-1 role=tab aria-controls=tabset-zhdocsinstall-2-1>hub.fastgit.org</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-2-2 role=tab aria-controls=tabset-zhdocsinstall-2-2>ghproxy.com</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-2-3 role=tab aria-controls=tabset-zhdocsinstall-2-3>raw.githubusercontents.com</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-2-4 role=tab aria-controls=tabset-zhdocsinstall-2-4>raw.staticdn.net</a></li></ul>
<div class=tab-content id=tabset-zhdocsinstall-2><div id=tabset-zhdocsinstall-2-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-zhdocsinstall-2-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>curl https://raw.githubusercontent.com/wzshiming/github-hosts/master/hosts &gt;&gt;/etc/hosts

cat <span style=color:#4e9a06>&lt;&lt; EOF &gt; /etc/apt/sources.list.d/klts.list
</span><span style=color:#4e9a06>deb [trusted=yes] https://dl.klts.io/deb stable main
</span><span style=color:#4e9a06>EOF</span>

apt-get update
</code></pre></div></div>
<div id=tabset-zhdocsinstall-2-1 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-2-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; EOF &gt; /etc/apt/sources.list.d/klts.list
</span><span style=color:#4e9a06>deb [trusted=yes] https://hub.fastgit.org/klts-io/kubernetes-lts/raw/repos/deb stable main
</span><span style=color:#4e9a06>EOF</span>

apt-get update
</code></pre></div></div>
<div id=tabset-zhdocsinstall-2-2 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-2-2>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; EOF &gt; /etc/apt/sources.list.d/klts.list
</span><span style=color:#4e9a06>deb [trusted=yes] https://ghproxy.com/https://raw.githubusercontent.com/klts-io/kubernetes-lts/repos/deb stable main
</span><span style=color:#4e9a06>EOF</span>

apt-get update
</code></pre></div></div>
<div id=tabset-zhdocsinstall-2-3 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-2-3>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; EOF &gt; /etc/apt/sources.list.d/klts.list
</span><span style=color:#4e9a06>deb [trusted=yes] https://raw.githubusercontents.com/klts-io/kubernetes-lts/repos/deb stable main
</span><span style=color:#4e9a06>EOF</span>

apt-get update
</code></pre></div></div>
<div id=tabset-zhdocsinstall-2-4 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-2-4>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; EOF &gt; /etc/apt/sources.list.d/klts.list
</span><span style=color:#4e9a06>deb [trusted=yes] https://raw.staticdn.net/klts-io/kubernetes-lts/repos/deb stable main
</span><span style=color:#4e9a06>EOF</span>

apt-get update
</code></pre></div></div></div>
</div></div>
<h2 id=å®‰è£…>å®‰è£…</h2>
<ul class="nav nav-tabs" id=tabset-zhdocsinstall-6 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-zhdocsinstall-6-0 role=tab aria-controls=tabset-zhdocsinstall-6-0 aria-selected=true>å®‰è£…æœ€é«˜ç‰ˆæœ¬</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-6-1 role=tab aria-controls=tabset-zhdocsinstall-6-1>å®‰è£…æŒ‡å®šç‰ˆæœ¬</a></li></ul>
<div class=tab-content id=tabset-zhdocsinstall-6><div id=tabset-zhdocsinstall-6-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-zhdocsinstall-6-0>
<p>
<br>è¿™é‡Œçš„æœ€é«˜ç‰ˆæœ¬æŒ‡çš„æ˜¯ KLTS ç»´æŠ¤çš„æœ€é«˜ç‰ˆæœ¬ã€‚
<ul class="nav nav-tabs" id=tabset-zhdocsinstall-4 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-zhdocsinstall-4-0 role=tab aria-controls=tabset-zhdocsinstall-4-0 aria-selected=true>åŸºäº Red Hat çš„å‘è¡Œç‰ˆ</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-4-1 role=tab aria-controls=tabset-zhdocsinstall-4-1>åŸºäº Debian çš„å‘è¡Œç‰ˆ</a></li></ul>
<div class=tab-content id=tabset-zhdocsinstall-4><div id=tabset-zhdocsinstall-4-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-zhdocsinstall-4-0>
<p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… KLTS å½“å‰ç»´æŠ¤çš„æœ€é«˜ç‰ˆæœ¬çš„ Kubernetesï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yum install kubeadm kubelet kubectl
</code></pre></div></div>
<div id=tabset-zhdocsinstall-4-1 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-4-1>
<p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… KLTS å½“å‰ç»´æŠ¤çš„æœ€é«˜ç‰ˆæœ¬çš„ Kubernetesï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>apt-get install kubeadm kubelet kubectl
</code></pre></div></div></div>
</div>
<div id=tabset-zhdocsinstall-6-1 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-6-1>
<p>
<ul class="nav nav-tabs" id=tabset-zhdocsinstall-5 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-zhdocsinstall-5-0 role=tab aria-controls=tabset-zhdocsinstall-5-0 aria-selected=true>åŸºäº Red Hat çš„å‘è¡Œç‰ˆ</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsinstall-5-1 role=tab aria-controls=tabset-zhdocsinstall-5-1>åŸºäº Debian çš„å‘è¡Œç‰ˆ</a></li></ul>
<div class=tab-content id=tabset-zhdocsinstall-5><div id=tabset-zhdocsinstall-5-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-zhdocsinstall-5-0>
<p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Kubernetesï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#8f5902;font-style:italic># æœç´¢æ”¯æŒçš„ç‰ˆæœ¬</span>
yum search kubeadm --showduplicates <span style=color:#000;font-weight:700>|</span> grep kubeadm-

<span style=color:#8f5902;font-style:italic># å®‰è£…</span>
<span style=color:#000>VERSION</span><span style=color:#ce5c00;font-weight:700>=</span>1.18.20-lts.0
yum install kubeadm-v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span> kubelet-v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span> kubectl-v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>
</code></pre></div></div>
<div id=tabset-zhdocsinstall-5-1 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsinstall-5-1>
<p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Kubernetesï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#8f5902;font-style:italic># æœç´¢æ”¯æŒçš„ç‰ˆæœ¬</span>
apt-cache show kubeadm <span style=color:#000;font-weight:700>|</span> grep Version

<span style=color:#8f5902;font-style:italic># å®‰è£…</span>
<span style=color:#000>VERSION</span><span style=color:#ce5c00;font-weight:700>=</span>1.18.20-lts.0
apt-get install <span style=color:#000>kubeadm</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span> <span style=color:#000>kubelet</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span> <span style=color:#000>kubectl</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>
</code></pre></div></div></div>
</div></div>
<h2 id=å¼€æœºè‡ªåŠ¨å¯åŠ¨-kubelet>å¼€æœºè‡ªåŠ¨å¯åŠ¨ Kubelet</h2>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¼€æœºè‡ªåŠ¨å¯åŠ¨ Kubeletï¼š</p>
<pre><code>systemctl enable kubelet
</code></pre><h2 id=æ‹‰å–ä¾èµ–é•œåƒ>æ‹‰å–ä¾èµ–é•œåƒ</h2>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ pull ä¾èµ–çš„é•œåƒï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#000>VERSION</span><span style=color:#ce5c00;font-weight:700>=</span>1.18.20-lts.0
<span style=color:#000>REPOS</span><span style=color:#ce5c00;font-weight:700>=</span>ghcr.io/klts-io/kubernetes-lts
kubeadm config images pull --image-repository <span style=color:#4e9a06>${</span><span style=color:#000>REPOS</span><span style=color:#4e9a06>}</span> --kubernetes-version v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>
</code></pre></div><p>åç»­å¯¹ kubeadm çš„æ“ä½œéƒ½éœ€è¦åŠ ä¸Š <code>--image-repository</code>ï¼Œ<code>--kubernetes-version</code> ä¸»åŠ¨æŒ‡å®šé•œåƒã€‚</p>
<h2 id=åˆå§‹åŒ–æ§åˆ¶é¢èŠ‚ç‚¹>åˆå§‹åŒ–æ§åˆ¶é¢èŠ‚ç‚¹</h2>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ–æ§åˆ¶é¢çš„èŠ‚ç‚¹ï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#000>VERSION</span><span style=color:#ce5c00;font-weight:700>=</span>1.18.20-lts.0
<span style=color:#000>REPOS</span><span style=color:#ce5c00;font-weight:700>=</span>ghcr.io/klts-io/kubernetes-lts
kubeadm init --image-repository <span style=color:#4e9a06>${</span><span style=color:#000>REPOS</span><span style=color:#4e9a06>}</span> --kubernetes-version v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>
</code></pre></div><p>æœ‰å…³æ›´å¤šå®‰è£…è¯´æ˜ï¼Œè¯·å‚é˜… <a href=https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/ target=_blank>Kubernetes æ“ä½œæŒ‡å—</a>ã€‚</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c258a50dfe331dfdf852330040bd8f14>4 - åç»­å·¥ä½œ</h1>
<p>TODO</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-cf1a7e96c5bc452942429f7b1a8d0306>5 - ä¿®å¤çš„æ¼æ´</h1>
</div>
<div class=td-content>
<h1 id=pg-fa6c26ffb59581078942a7046be853db>5.1 - CVE-2019-1002101</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-1002101 target=_blank>æ¼æ´è¯¦æƒ…</a>
<p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åœ¨ <code>kubectl cp</code> å‘½ä»¤æ‰§è¡Œè§£å‹è¿‡ç¨‹ä¸­ä¿®æ”¹æˆ–ç›‘æ§ç¬¦å·é“¾æ¥å¤´åŒåç›®å½•ä¸‹çš„ä»»æ„æ–‡ä»¶ï¼Œä»è€Œé€ æˆç ´åã€‚</p>
<h2 id=scope>æ¼æ´å½±å“</h2>
<p><code>kubectl cp</code> å‘½ä»¤å…è®¸ç”¨æˆ·åœ¨å®¹å™¨å’Œç”¨æˆ·æœºå™¨ä¹‹é—´æ‹·è´æ–‡ä»¶ï¼Œæ”»å‡»è€…å¯èƒ½é€šè¿‡åœ¨é•œåƒæˆ–è¿è¡Œå®¹å™¨ä¸­æ¤å…¥å¸¦æœ‰ç¬¦å·é“¾æ¥ï¼ˆsymbolic linksï¼‰å¤´çš„æ¶æ„ <code>tar</code> åŒ…ï¼Œåœ¨ <code>cp</code> å‘½ä»¤æ‰§è¡Œè§£å‹è¿‡ç¨‹ä¸­ä¿®æ”¹æˆ–ç›‘æ§ç¬¦å·é“¾æ¥å¤´åŒåç›®å½•ä¸‹çš„ä»»æ„æ–‡ä»¶ï¼Œä»è€Œé€ æˆç ´åã€‚</p>
<h2 id=official-fixed>å®˜æ–¹ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li>1.14.1</li>
<li>1.13.6</li>
<li>1.12.8</li>
<li>1.11.10</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-1002101.1.10.patch target=_blank>CVE-2019-1002101.1.10.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-678704d1c81cba20ab7f9af62e484052>5.2 - CVE-2019-11245</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11245 target=_blank>æ¼æ´è¯¦æƒ…</a>
<p>è¿™æ˜¯ä¸€ä¸ªææƒæ¼æ´ï¼Œé€šå¸¸ä»¥å®¹å™¨ <code>Dockerfile</code> ä¸­æŒ‡å®šçš„ <code>USER</code> è¿è¡Œçš„å®¹å™¨ï¼Œåœ¨å®¹å™¨é‡å¯æ—¶æˆ–è€…å¦‚æœé•œåƒå…ˆå‰è¢«æ‹‰åˆ°èŠ‚ç‚¹æ—¶ï¼Œéƒ½å°†ä»¥ <code>root</code>(uid 0) èº«ä»½è¿è¡Œã€‚</p>
<h2 id=scope>æ¼æ´å½±å“</h2>
<p>æ‰€æœ‰æœªæŒ‡å®š <code>mustRunAsNonRoot: true</code> çš„ <code>Pod</code>ï¼Œåœ¨å®¹å™¨é‡å¯æ—¶æˆ–è€…å¦‚æœé•œåƒå…ˆå‰è¢«æ‹‰åˆ°èŠ‚ç‚¹æ—¶ï¼Œéƒ½å°†ä»¥ <code>root</code>(uid 0) èº«ä»½è¿è¡Œã€‚</p>
<h2 id=prevention>é˜²èŒƒæªæ–½</h2>
<p>ä¸º <code>Pod</code> æŒ‡å®š <code>mustRunAsNonRoot: true</code>ã€‚</p>
<h2 id=official-fixed>å®˜æ–¹ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li>1.14.3</li>
<li>1.13.7</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.12.10/v1.12.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.12.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/78320.patch target=_blank>kubernetes/kubernetes#78320</a></li>
<li><a href=/zh/docs/releases/v1.11.10/v1.11.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/78320.patch target=_blank>kubernetes/kubernetes#78320</a></li>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/78320.patch target=_blank>kubernetes/kubernetes#78320</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-17adf9e532c044f0bc96bf2fe6fabb70>5.3 - CVE-2019-11246</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11246 target=_blank>æ¼æ´è¯¦æƒ…</a>
<p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå† (Path Traversal) çš„æ–¹å¼å°†å®¹å™¨ <code>tar</code> åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚</p>
<h2 id=scope>æ¼æ´å½±å“</h2>
<p>è¯¥æ¼æ´ä¸ä¸ä¹…å‰çš„ <a href=/zh/docs/patches/cve-2019-1002101 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤æ‰§è¡Œè§£å‹è¿‡ç¨‹ä¸­ä¿®æ”¹æˆ–ç›‘æ§ç¬¦å·é“¾æ¥å¤´åŒåç›®å½•ä¸‹çš„ä»»æ„æ–‡ä»¶é€ æˆç ´åã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-1002101</a> æ¼æ´å½±å“ç›¸ä¼¼ã€‚</p>
<p><code>kubectl cp</code> å‘½ä»¤ç”¨äºç”¨æˆ·å®¹å™¨å’Œä¸»æœºä¹‹é—´çš„æ–‡ä»¶æ‹·è´ã€‚å½“ä»å®¹å™¨ä¸­æ‹·è´æ–‡ä»¶æ—¶ï¼Œ<code>Kubernetes</code> é¦–å…ˆä¼šåœ¨å®¹å™¨ä¸­æ‰§è¡Œ <code>tar</code> å‘½ä»¤åˆ›å»ºç›¸åº”çš„å½’æ¡£æ–‡ä»¶ï¼Œç„¶åå‘é€ç»™å®¢æˆ·ç«¯ï¼Œ<code>kubectl</code> ä¼šåœ¨ç”¨æˆ·ä¸»æœºä¸Šè¿›è¡Œç›¸åº”è§£å‹æ“ä½œã€‚</p>
<p>å¦‚æœå®¹å™¨ <code>tar</code> åŒ…ä¸­åŒ…å«æ¶æ„æ–‡ä»¶ï¼Œå½“æ”»å‡»è€…å…·æœ‰ <code>kubectl cp</code> å‘½ä»¤çš„æ‰§è¡Œæƒé™æ—¶ï¼Œå¯ä»¥åˆ©ç”¨è·¯å¾„éå† (Path Traversal) æ–¹å¼å°†æ¶æ„æ–‡ä»¶å†™å…¥ä»»æ„è·¯å¾„ã€‚</p>
<h2 id=official-fixed>å®˜æ–¹ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li>1.14.3</li>
<li>1.13.7</li>
<li>1.12.10</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.11.10/v1.11.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11246.1.11.patch target=_blank>CVE-2019-11246.1.11.patch</a></li>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11246.1.10.patch target=_blank>CVE-2019-11246.1.10.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d902d3ffd5b3d43bf94a51814ab569c7>5.4 - CVE-2019-11247</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11247 target=_blank>æ¼æ´è¯¦æƒ…</a>
<p><code>API Server</code> å…è®¸é€šè¿‡é”™è¯¯çš„èŒƒå›´è®¿é—®è‡ªå®šä¹‰çš„èµ„æºã€‚</p>
<h2 id=scope>æ¼æ´å½±å“</h2>
<p>å¦‚æœæŸä¸ªç”¨æˆ·è¯·æ±‚çš„èµ„æºå·²åˆ’åˆ†åˆ°å‘½åç©ºé—´ï¼ŒKubernetes kube-apiserver å°†é”™è¯¯åœ°å…è®¸è¯¥ç”¨æˆ·è®¿é—®é›†ç¾¤èŒƒå›´å†…çš„è‡ªå®šä¹‰èµ„æºã€‚</p>
<p>ä»¥è¿™ç§æ–¹å¼è®¿é—®èµ„æºå°†ç­‰åŒäºæˆäºˆå‘½åç©ºé—´å†…æ‰€æœ‰è§’è‰²åŠå…¶æƒé™ï¼Œè¿™æ„å‘³ç€æœ¬æ¥åªèƒ½è®¿é—®å‘½åç©ºé—´ä¸­ä¸€ä¸ªèµ„æºçš„ç”¨æˆ·å°†èƒ½å¤Ÿåˆ›å»ºã€æŸ¥çœ‹ã€æ›´æ–°æˆ–åˆ é™¤æ•´ä¸ªé›†ç¾¤èŒƒå›´çš„èµ„æºï¼ˆå…·ä½“å–å†³äºå…¶å‘½åç©ºé—´è§’è‰²æƒé™ï¼‰ã€‚</p>
<h2 id=official-fixed>å®˜æ–¹ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li>1.12.12</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.11.10/v1.11.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11247.1.11.patch target=_blank>CVE-2019-11247.1.11.patch</a></li>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> TODO</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-da5de8654ce647927106ce1dae3b6382>5.5 - CVE-2019-11248</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11248 target=_blank>æ¼æ´è¯¦æƒ…</a>
<p>å¯ä»¥é€šè¿‡å¥åº·æ£€æŸ¥çš„ç«¯å£è®¿é—® <code>/debug/pprof</code>ã€‚</p>
<h2 id=scope>æ¼æ´å½±å“</h2>
<p>è¯¥æ¼æ´å­˜åœ¨äº <code>Kubelet</code> ä¸­ï¼Œç”¨äºæ€§èƒ½è°ƒè¯•çš„ <code>/debug/pprof</code> è·Ÿå¥åº·æ£€æŸ¥ç«¯å£ <code>/healthz</code> ç»‘å®šåœ¨ä¸€èµ·ï¼Œå…¶ä¸­ <code>/debug/pprof</code> ä¼šè¿›è¡Œå®‰å…¨è®¤è¯ï¼Œä½† <code>/healthz</code> æ¥å£å¹¶ä¸è¿›è¡Œè®¤è¯é‰´æƒã€‚æ‰€ä»¥å¦‚æœ <code>Kubelet</code> çš„ <code>healthz</code> åœ°å€æœªä½¿ç”¨ <code>localhost</code>ï¼Œåˆ™ä¼šå­˜åœ¨æ³„éœ²æœºå™¨æ•æ„Ÿä¿¡æ¯çš„é£é™©ã€‚</p>
<h2 id=official-fixed>å®˜æ–¹ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li>1.14.4</li>
<li>1.13.8</li>
<li>1.12.10</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.11.10/v1.11.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11248.1.11.patch target=_blank>CVE-2019-11248.1.11.patch</a></li>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11248.1.11.patch target=_blank>CVE-2019-11248.1.11.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-9677918ea7ce2b1d4116bfb9d4d31512>5.6 - CVE-2019-11249</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11249 target=_blank>æ¼æ´è¯¦æƒ…</a>
<p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ <code>tar</code> åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚</p>
<h2 id=scope>æ¼æ´å½±å“</h2>
<p>è¯¥æ¼æ´ä¸ä¸ä¹…å‰çš„ <a href=/zh/docs/patches/cve-2019-1002101 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤æ‰§è¡Œè§£å‹è¿‡ç¨‹ä¸­ä¿®æ”¹æˆ–ç›‘æ§ç¬¦å·é“¾æ¥å¤´åŒåç›®å½•ä¸‹çš„ä»»æ„æ–‡ä»¶é€ æˆç ´åã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-1002101</a>, <a href=/zh/docs/patches/cve-2019-11246 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå† (Path Traversal) çš„æ–¹å¼å°†å®¹å™¨ tar åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11246</a> æ¼æ´å½±å“ç›¸ä¼¼ã€‚</p>
<p><code>kubectl cp</code> å‘½ä»¤ç”¨äºç”¨æˆ·å®¹å™¨å’Œä¸»æœºä¹‹é—´çš„æ–‡ä»¶æ‹·è´ï¼Œå½“ä»å®¹å™¨ä¸­æ‹·è´æ–‡ä»¶æ—¶ï¼Œ<code>Kubernetes</code> ä¼šé¦–å…ˆåœ¨å®¹å™¨ä¸­æ‰§è¡Œ <code>tar</code> å‘½ä»¤åˆ›å»ºç›¸åº”çš„å½’æ¡£æ–‡ä»¶ï¼Œç„¶åå‘é€ç»™å®¢æˆ·ç«¯ï¼Œ<code>kubectl</code> ä¼šåœ¨ç”¨æˆ·ä¸»æœºä¸Šè¿›è¡Œç›¸åº”è§£å‹æ“ä½œã€‚</p>
<p>å¦‚æœå®¹å™¨ <code>tar</code> åŒ…ä¸­åŒ…å«æ¶æ„æ–‡ä»¶ï¼Œå½“æ”»å‡»è€…å…·æœ‰ <code>kubectl cp</code> å‘½ä»¤çš„æ‰§è¡Œæƒé™æ—¶ï¼Œå¯ä»¥åˆ©ç”¨è·¯å¾„éå†(Path Traversal)ã€‚</p>
<h2 id=official-fixed>å®˜æ–¹ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li>1.15.2</li>
<li>1.14.5</li>
<li>1.13.9</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.12.10/v1.12.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.12.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11249.1.12.patch target=_blank>CVE-2019-11249.1.12.patch</a></li>
<li><a href=/zh/docs/releases/v1.11.10/v1.11.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11249.1.12.patch target=_blank>CVE-2019-11249.1.12.patch</a></li>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11249.1.10.patch target=_blank>CVE-2019-11249.1.10.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3bb42a6493fbd1d3d06aad85c3d8d1e7>5.7 - CVE-2019-11251</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11251 target=_blank>æ¼æ´è¯¦æƒ…</a>
<p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ <code>tar</code> åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚</p>
<h2 id=scope>æ¼æ´å½±å“</h2>
<p>è¯¥æ¼æ´ä¸ä¸ä¹…å‰çš„ <a href=/zh/docs/patches/cve-2019-1002101 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤æ‰§è¡Œè§£å‹è¿‡ç¨‹ä¸­ä¿®æ”¹æˆ–ç›‘æ§ç¬¦å·é“¾æ¥å¤´åŒåç›®å½•ä¸‹çš„ä»»æ„æ–‡ä»¶é€ æˆç ´åã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-1002101</a>, <a href=/zh/docs/patches/cve-2019-11246 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå† (Path Traversal) çš„æ–¹å¼å°†å®¹å™¨ tar åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11246</a>, <a href=/zh/docs/patches/cve-2019-11249 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ tar åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11249</a> æ¼æ´å½±å“ç›¸ä¼¼ã€‚</p>
<p><code>kubectl cp</code> å‘½ä»¤ç”¨äºç”¨æˆ·å®¹å™¨å’Œä¸»æœºä¹‹é—´çš„æ–‡ä»¶æ‹·è´ï¼Œå½“ä»å®¹å™¨ä¸­æ‹·è´æ–‡ä»¶æ—¶ï¼Œ<code>Kubernetes</code> ä¼šé¦–å…ˆåœ¨å®¹å™¨ä¸­æ‰§è¡Œ <code>tar</code> å‘½ä»¤åˆ›å»ºç›¸åº”çš„å½’æ¡£æ–‡ä»¶ï¼Œç„¶åå‘é€ç»™å®¢æˆ·ç«¯ï¼Œ<code>kubectl</code> ä¼šåœ¨ç”¨æˆ·ä¸»æœºä¸Šè¿›è¡Œç›¸åº”è§£å‹æ“ä½œã€‚</p>
<p>å¦‚æœå®¹å™¨ <code>tar</code> åŒ…ä¸­åŒ…å«æ¶æ„æ–‡ä»¶ï¼Œå½“æ”»å‡»è€…å…·æœ‰ <code>kubectl cp</code> å‘½ä»¤çš„æ‰§è¡Œæƒé™æ—¶ï¼Œå¯ä»¥åˆ©ç”¨è·¯å¾„éå†(Path Traversal)ã€‚</p>
<h2 id=official-fixed>å®˜æ–¹ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li>1.15.4</li>
<li>1.14.7</li>
<li>1.13.11</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.12.10/v1.12.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.12.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/82503.patch target=_blank>kubernetes/kubernetes#82503</a></li>
<li><a href=/zh/docs/releases/v1.11.10/v1.11.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/82503.patch target=_blank>kubernetes/kubernetes#82503</a></li>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11251.1.10.patch target=_blank>CVE-2019-11251.1.10.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c1ec3633b18a80bee04f17816082420b>5.8 - CVE-2020-8552</h1>
<a href=https://www.cvedetails.com/cve/CVE-2020-8552 target=_blank>æ¼æ´è¯¦æƒ…</a>
<p>æ­¤æ¼æ´å¯èƒ½ä½¿ <code>API Server</code> å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ <code>API</code> è¯·æ±‚çš„ <code>DoS</code>(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚</p>
<h2 id=scope>æ¼æ´å½±å“</h2>
<p><code>API Server</code> å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ <code>API</code> è¯·æ±‚çš„ <code>DoS</code>(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚</p>
<h2 id=official-fixed>å®˜æ–¹ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li>1.17.3</li>
<li>1.16.7</li>
<li>1.15.10</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.14.10/v1.14.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.14.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2020-8552.1.14.patch target=_blank>CVE-2020-8552.1.14.patch</a></li>
<li><a href=/zh/docs/releases/v1.13.12/v1.13.12-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.13.12 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2020-8552.1.13.patch target=_blank>CVE-2020-8552.1.13.patch</a></li>
<li><a href=/zh/docs/releases/v1.12.10/v1.12.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.12.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2020-8552.1.13.patch target=_blank>CVE-2020-8552.1.13.patch</a></li>
<li><a href=/zh/docs/releases/v1.11.10/v1.11.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2020-8552.1.11.patch target=_blank>CVE-2020-8552.1.11.patch</a></li>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2020-8552.1.11.patch target=_blank>CVE-2020-8552.1.11.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5aa68ad2e414f83fec8b9beb2250fdd3>5.9 - CVE-2020-8558</h1>
<a href=https://www.cvedetails.com/cve/CVE-2020-8558 target=_blank>æ¼æ´è¯¦æƒ…</a>
<p><code>kube-proxy</code> ç»„ä»¶åœ¨ <code>iptables</code> å’Œ <code>ipvs</code> æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° <code>net.ipv4.conf.all.route_localnet=1</code>ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° <code>127.0.0.1</code> ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚</p>
<h2 id=scope>æ¼æ´å½±å“</h2>
<p>å½“æ”»å‡»è€…æ‹¥æœ‰ä¸»æœºç½‘ç»œé…ç½®èƒ½åŠ›æˆ–è¿è¡Œåœ¨ä¸€ä¸ªå…·å¤‡äº† <code>CAP_NET_RAW</code> èƒ½åŠ›çš„å®¹å™¨å®ä¾‹æ—¶ï¼Œå°±å¯ä»¥è·å–åœ¨ç›®æ ‡èŠ‚ç‚¹ä¸Šç›‘å¬äº† <code>127.0.0.1</code> çš„æœåŠ¡ <code>socket</code> ä¿¡æ¯ã€‚å¦‚æœåœ¨ç›®æ ‡ä¸»æœºä¸Šå­˜åœ¨ <code>127.0.0.1</code> å¯ä»¥è®¿é—®åˆ°ä¸”ä¸éœ€è¦ä»»ä½•è®¤è¯é‰´æƒçš„æš´éœ²æœåŠ¡ï¼Œé‚£ä¹ˆè¯¥æœåŠ¡ä¿¡æ¯å°±èƒ½è¢«æ”»å‡»è€…è·å–ã€‚</p>
<h3 id=cvss>æ¼æ´è¯„åˆ†</h3>
<ul>
<li>å¦‚æœé›†ç¾¤ <code>API Server</code> å¼€å¯äº†éè®¤è¯ç«¯å£ï¼ˆé»˜è®¤8080ï¼‰ï¼Œé‚£ä¹ˆæ”»å‡»è€…å¯èƒ½è·å–åˆ° <code>API Server</code> æ¥å£ç›¸å…³ä¿¡æ¯ï¼Œå¨èƒç­‰çº§ä¸ºé«˜å±æ¼æ´ï¼Œè¯„åˆ†ä¸º8.8åˆ†ã€‚</li>
<li>å¦‚æœé›†ç¾¤ <code>API Server</code> é»˜è®¤å…³é—­äº†éè®¤è¯ç«¯å£ï¼Œå¨èƒç­‰çº§ä¸ºä¸­å±æ¼æ´ï¼Œè¯„åˆ†ä¸º5.4åˆ†ã€‚</li>
</ul>
<h2 id=prevention>é˜²èŒƒæªæ–½</h2>
<p>å»ºè®®æ‚¨é‡‡å–ä»¥ä¸‹å®‰å…¨é˜²èŒƒæªæ–½ï¼š</p>
<p>å¦‚æœä¸šåŠ¡å®¹å™¨éœ€ä½¿ç”¨ä¸»æœºç½‘ç»œæ¨¡å¼ä¸”åˆç›‘å¬åœ¨éå®‰å…¨ç«¯å£ä¸Šï¼Œå¯ä»¥é€šè¿‡åœ¨èŠ‚ç‚¹ä¸Šæ‰‹åŠ¨æ·»åŠ  <code>iptables</code> è§„åˆ™æ¥ç¼“è§£æ­¤æ¼æ´ã€‚
æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåœ¨é›†ç¾¤ä¸­é…ç½® <code>iptables</code> è§„åˆ™ï¼Œç”¨äºæ‹’ç»éæœ¬åœ°å¯¹ <code>127.0.0.1</code> çš„è®¿é—®æµé‡ï¼š</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>iptables -I INPUT --dst 127.0.0.0/8 ! --src 127.0.0.0/8 -m conntrack ! --ctstate RELATED,ESTABLISHED,DNAT -j DROP
</code></pre></div><p>å¦‚æœé›†ç¾¤ä¸éœ€è¦å¼€å¯API Server ä¸å®‰å…¨ç«¯å£ï¼Œå¯ä»¥å°† &ndash;insecure-port=0 æ·»åŠ åˆ° kubernetes API æœåŠ¡å™¨å‘½ä»¤è¡Œæ¥ç¦ç”¨ç«¯å£ã€‚</p>
<p>å¦‚é›†ç¾¤å†…è¿è¡Œæœ‰ä¸å—ä¿¡çš„å®¹å™¨ï¼Œå¯ä»¥ç¦æ­¢ <code>Container</code> å¼€å¯ <code>CAP_NET_RAW</code> èƒ½åŠ›ï¼Œå¯ä»¥åœ¨ <code>pod spec</code> ä¸­å…³é—­ <code>Container</code> çš„ <code>CAP_NET_RAW</code> èƒ½åŠ›ã€‚</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>securityContext</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>capabilities</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>drop</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#4e9a06>&#34;NET_RAW&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>é€šè¿‡ <code>PodSecurityPolicy</code> ç­–ç•¥é™åˆ¶éƒ¨ç½²ç‰¹æƒæˆ–å…±äº«ä¸»æœºç½‘ç»œå®¹å™¨ï¼Œå¦å¤–å¯ä»¥é€šè¿‡åœ¨ç­–ç•¥ä¸­é…ç½® <code>requiredDropCapabilities</code> å¼ºåˆ¶å®¹å™¨éƒ¨ç½²å…³é—­ <code>CAP_NET_RAW</code> èƒ½åŠ›ã€‚</p>
<h2 id=official-fixed>å®˜æ–¹ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li>1.18.4</li>
<li>1.17.7</li>
<li>1.16.11</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.15.12/v1.15.12-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.15.12 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.15.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92040.patch target=_blank>kubernetes/kubernetes#92040</a></li>
<li><a href=/zh/docs/releases/v1.14.10/v1.14.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.14.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92040.patch target=_blank>kubernetes/kubernetes#92040</a></li>
<li><a href=/zh/docs/releases/v1.13.12/v1.13.12-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.13.12 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92040.patch target=_blank>kubernetes/kubernetes#92040</a></li>
<li><a href=/zh/docs/releases/v1.12.10/v1.12.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.12.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2020-8558.1.12.patch target=_blank>CVE-2020-8558.1.12.patch</a></li>
<li><a href=/zh/docs/releases/v1.11.10/v1.11.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2020-8558.1.12.patch target=_blank>CVE-2020-8558.1.12.patch</a></li>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> TODO</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ce240d314dc85c8ab698d26f1466e5a2>5.10 - CVE-2020-8559</h1>
<a href=https://www.cvedetails.com/cve/CVE-2020-8559 target=_blank>æ¼æ´è¯¦æƒ…</a>
<p><code>kube-apiserver</code> ç»„ä»¶çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ <code>kubelet</code> çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆèŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚</p>
<h2 id=scope>æ¼æ´å½±å“</h2>
<p>ç”±äº <code>kube-apiserver</code> ä¸­åœ¨å‡çº§è¯·æ±‚çš„ä»£ç†åç«¯ä¸­å…è®¸å°†è¯·æ±‚ä¼ æ’­å›æºå®¢æˆ·ç«¯ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ <code>kubelet</code> çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆè¢«æ”»å‡»èŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚</p>
<h3 id=cvss>æ¼æ´è¯„åˆ†</h3>
<p>è¯¥æ¼æ´ä¸ºä¸­å±æ¼æ´ï¼Œ <code>CVSS</code> è¯„åˆ†ä¸º6.4ã€‚
å¦‚æœæœ‰å¤šä¸ªé›†ç¾¤å…±äº«ä½¿ç”¨äº†ç›¸åŒçš„ <code>CA</code> å’Œè®¤è¯å‡­è¯ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨æ­¤æ¼æ´æ”»å‡»å…¶ä»–é›†ç¾¤ï¼Œè¿™ç§æƒ…å†µä¸‹è¯¥æ¼æ´ä¸ºé«˜å±æ¼æ´ã€‚</p>
<h2 id=prevention>é˜²èŒƒæªæ–½</h2>
<p>å¯¹äºé›†ç¾¤å†…è·¨èŠ‚ç‚¹çš„æ”»å‡»ï¼Œå»ºè®®æ‚¨é‡‡å–ä»¥ä¸‹å®‰å…¨é˜²èŒƒæªæ–½ï¼š</p>
<ul>
<li>åŠæ—¶åŠé”€å¯èƒ½æ³„éœ²çš„ <code>kubeconfig</code> å‡­è¯ï¼Œå¹¶ä¸”éµå¾ªæƒé™æœ€å°åŒ–åŸåˆ™ï¼Œæ”¶æ•›å­è´¦å·ä¸å¿…è¦çš„ <code>pods/exec</code>ã€<code>pods/attach</code>ã€<code>pods/portforward</code>å’Œ <code>proxy</code> ç±»å‹çš„èµ„æºæ¨¡å‹ <code>RBAC</code> æƒé™ã€‚</li>
</ul>
<h2 id=official-fixed>å®˜æ–¹ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li>1.18.6</li>
<li>1.17.9</li>
<li>1.16.13</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.15.12/v1.15.12-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.15.12 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.15.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92971.patch target=_blank>kubernetes/kubernetes#92971</a></li>
<li><a href=/zh/docs/releases/v1.14.10/v1.14.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.14.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92971.patch target=_blank>kubernetes/kubernetes#92971</a></li>
<li><a href=/zh/docs/releases/v1.13.12/v1.13.12-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.13.12 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> TODO</li>
<li><a href=/zh/docs/releases/v1.12.10/v1.12.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.12.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> TODO</li>
<li><a href=/zh/docs/releases/v1.11.10/v1.11.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> TODO</li>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> TODO</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d4317cf8912bca37373fe5558d2d6285>5.11 - CVE-2021-3121</h1>
<a href=https://www.cvedetails.com/cve/CVE-2021-3121 target=_blank>æ¼æ´è¯¦æƒ…</a>
<p>å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ <code>Protobuf</code> æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ <code>Gogo Protobuf</code> ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚</p>
<h2 id=scope>æ¼æ´å½±å“</h2>
<p><code>Kubernetes</code> ç³»ç»Ÿç»„ä»¶ç”±äºè‡ªèº«æœ‰åº”å¯¹å´©æºƒçš„æ¢å¤æœºåˆ¶ï¼Œå½“é‡åˆ°æ¶æ„æäº¤çš„ <code>Protobuf</code> æ¶ˆæ¯æ—¶ä¸ä¼šä¸­æ–­æœåŠ¡ï¼Œæ‰€ä»¥ä¸åœ¨è¯¥æ¼æ´çš„å½±å“èŒƒå›´å†…ã€‚</p>
<p>åœ¨åº”ç”¨ç³»ç»Ÿä¸­ç¨‹åºæ¥æ”¶å¤„ç† <code>Protobuf</code> æ¶ˆæ¯æ—¶ï¼Œå¦‚æœç»„ä»¶æ²¡æœ‰åº”å¯¹å´©æºƒçš„æ¢å¤æœºåˆ¶ï¼Œé‚£ä¹ˆè¿™ç±»ç¨‹åºéƒ½åœ¨è¯¥æ¼æ´å½±å“èŒƒå›´å†…ï¼Œä¸”è¢«æ¶æ„æ”»å‡»æ—¶æœåŠ¡å¯èƒ½ä¼šä¸­æ–­ã€‚</p>
<p><code>Kubernetes</code> ç¤¾åŒºç»è¿‡æµ‹è¯•éªŒè¯ <code>API Server</code> ä¸å—è¯¥æ¼æ´çš„å½±å“ï¼Œä½†ä¸ºäº†é¿å…æ‚¨å—åˆ°è¯¥å®‰å…¨æ¼æ´éšæ‚£çš„å½±å“ï¼Œç¤¾åŒºå¯¹ç›¸å…³ <code>Protobuf</code> æ–‡ä»¶è¿›è¡Œäº†å‡çº§ï¼Œå…·ä½“ä¿®å¤ç‰ˆæœ¬å¦‚ä¸‹:</p>
<h2 id=prevention>é˜²èŒƒæªæ–½</h2>
<p>å¦‚æœåœ¨æ‚¨çš„åº”ç”¨ç³»ç»Ÿä»£ç ä¸­ä½¿ç”¨äº†è‡ªåŠ¨ç”Ÿæˆçš„ <code>Protobuf</code> æ¶ˆæ¯ï¼Œå¹¶ä¸”å‘ç°ç›¸å…³ç»„ä»¶å› ä¸ºä»¥ä¸‹å¼‚å¸¸é€€å‡ºï¼Œåˆ™å¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚</p>
<pre><code>panic: runtime error: index out of range [-9223372036854775804]

goroutine 1 [running]:

v1.(*MessageName).Unmarshal(0xc00006f1e8, 0xc0000281a8, 0xa, 0x10, 0xc00006f1b8, 0x1)

        .../protofile.pb.go:250 +0xb86
</code></pre><p>å¦‚æœæ‚¨ä½¿ç”¨äº† <code>Protobuf</code> æ¶ˆæ¯çš„ç›¸å…³ç»„ä»¶ï¼Œæ¨èå°† <code>Gogo Protobuf</code> ç¼–è¯‘å™¨å‡çº§åˆ°æ¼æ´ä¿®å¤ç‰ˆæœ¬ï¼ˆv1.3.2æˆ–æ›´é«˜çš„ç‰ˆæœ¬ï¼‰ï¼Œå†åŸºäºå‡çº§åçš„Protobuf<code>ç¼–è¯‘å™¨é‡æ–°ç”Ÿæˆç›¸å…³çš„</code>Protobuf` æ¶ˆæ¯ã€‚</p>
<h2 id=official-fixed>å®˜æ–¹ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li>1.21: 1.21.1</li>
<li>1.20: 1.20.7</li>
<li>1.19: 1.19.11</li>
<li>1.18.19</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.17.17/v1.17.17-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.17.17 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.17.17-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/zh/docs/releases/v1.16.15/v1.16.15-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.16.15 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.16.15-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/zh/docs/releases/v1.15.12/v1.15.12-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.15.12 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.15.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/zh/docs/releases/v1.14.10/v1.14.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.14.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/zh/docs/releases/v1.13.12/v1.13.12-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.13.12 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/zh/docs/releases/v1.12.10/v1.12.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.12.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/zh/docs/releases/v1.11.10/v1.11.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-66481705776642cc7da302c2a84c2907>5.12 - nokmem</h1>
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1507149" target=_blank>Bug è¯¦æƒ…</a>
<p>èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º <code>Pod</code></p>
<h2 id=scope>Bug å½±å“</h2>
<p>èŠ‚ç‚¹é•¿æœŸä½¿ç”¨çš„æ—¶å€™æç¤ºå‰©ä½™ç©ºé—´ä¸è¶³çš„é”™è¯¯ï¼Œå…·ä½“å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code>mkdir: cannot create directory '/sys/fs/cgroup/memory/8': No space left on device
</code></pre><p>èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥å’Œè¿™ä¸ªé”™è¯¯, å¹¶ä¸”åˆ›å»º <code>Pod</code> æ€»æ˜¯å¤±è´¥ï¼Œè¿™æ˜¯ä¸€ä¸ªæ½œåœ¨çš„â€œå®šæ—¶ç‚¸å¼¹â€ã€‚</p>
<p>æ‰€æœ‰ä½¿ç”¨ä½ç‰ˆæœ¬å†…æ ¸çš„ç¯å¢ƒï¼Œk8s 1.22 ä¹‹å‰çš„ç‰ˆæœ¬éƒ½å—åˆ°å½±å“, åœ¨ runc 1.0.0-rc94 (<a href=https://github.com/opencontainers/runc/pull/2840 target=_blank>opencontainers/runc#2840</a>) ä¿®å¤(ç›´æ¥ç§»é™¤äº†)</p>
<h2 id=prevention>é˜²èŒƒæªæ–½</h2>
<ul>
<li>å‡çº§ç³»ç»Ÿå†…æ ¸</li>
<li>k8s 1.14 åŠä»¥ä¸Š
<ul>
<li>é‡æ–°æ„å»º Kubelet å¸¦ä¸Š <code>-tags=nokmem</code></li>
</ul>
</li>
<li>k8s 1.14 ä»¥ä¸‹
<ul>
<li>ç¡¬ç¼–ç , å¯ä»¥å‚è€ƒ <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/nokmem.1.13.patch target=_blank>nokmem.1.13.patch</a></li>
</ul>
</li>
</ul>
<h2 id=klts-fixed>KLTS ä¿®å¤çš„ç‰ˆæœ¬</h2>
<ul>
<li><a href=/zh/docs/releases/v1.18.20/v1.18.20-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.18.20 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.18.20-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/nokmem.1.18.patch target=_blank>nokmem.1.18.patch</a></li>
<li><a href=/zh/docs/releases/v1.17.17/v1.17.17-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.17.17 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.17.17-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/nokmem.1.18.patch target=_blank>nokmem.1.18.patch</a></li>
<li><a href=/zh/docs/releases/v1.16.15/v1.16.15-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.16.15 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.16.15-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/nokmem.1.18.patch target=_blank>nokmem.1.18.patch</a></li>
<li><a href=/zh/docs/releases/v1.15.12/v1.15.12-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.15.12 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.15.12-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/nokmem.1.18.patch target=_blank>nokmem.1.18.patch</a></li>
<li><a href=/zh/docs/releases/v1.14.10/v1.14.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.14.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/nokmem.1.18.patch target=_blank>nokmem.1.18.patch</a></li>
<li><a href=/zh/docs/releases/v1.13.12/v1.13.12-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.13.12 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/nokmem.1.13.patch target=_blank>nokmem.1.13.patch</a></li>
<li><a href=/zh/docs/releases/v1.12.10/v1.12.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.12.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/nokmem.1.13.patch target=_blank>nokmem.1.13.patch</a></li>
<li><a href=/zh/docs/releases/v1.11.10/v1.11.10-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/nokmem.1.13.patch target=_blank>nokmem.1.13.patch</a></li>
<li><a href=/zh/docs/releases/v1.10.13/v1.10.13-lts.1 title="è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚" data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/master/patches/nokmem.1.13.patch target=_blank>nokmem.1.13.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-9662232d61bca04520940eafdc2967e8>6 - ç‰ˆæœ¬æ—¥å¿—</h1>
</div>
<div class=td-content>
<h1 id=pg-392cbea6b384069ecbb7f7287567796b>6.1 - v1.10.13</h1>
</div>
<div class=td-content>
<h1 id=pg-11f4f5c9a4be3821c253586ecc555cbb>6.1.1 - v1.10.13-lts.1</h1>
<p>è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.10.13 ä¿®å¤ç‰ˆæœ¬ã€‚</p>
<h2 id=è¡¥ä¸>è¡¥ä¸</h2>
<ul>
<li><a href=/zh/docs/patches/cve-2019-11245 title="è¿™æ˜¯ä¸€ä¸ªææƒæ¼æ´ï¼Œé€šå¸¸ä»¥å®¹å™¨ Dockerfile ä¸­æŒ‡å®šçš„ USER è¿è¡Œçš„å®¹å™¨ï¼Œåœ¨å®¹å™¨é‡å¯æ—¶æˆ–è€…å¦‚æœé•œåƒå…ˆå‰è¢«æ‹‰åˆ°èŠ‚ç‚¹æ—¶ï¼Œéƒ½å°†ä»¥ root(uid 0) èº«ä»½è¿è¡Œã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11245</a><p>è¿™æ˜¯ä¸€ä¸ªææƒæ¼æ´ï¼Œé€šå¸¸ä»¥å®¹å™¨ <code>Dockerfile</code> ä¸­æŒ‡å®šçš„ <code>USER</code> è¿è¡Œçš„å®¹å™¨ï¼Œåœ¨å®¹å™¨é‡å¯æ—¶æˆ–è€…å¦‚æœé•œåƒå…ˆå‰è¢«æ‹‰åˆ°èŠ‚ç‚¹æ—¶ï¼Œéƒ½å°†ä»¥ <code>root</code>(uid 0) èº«ä»½è¿è¡Œã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-1002101 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤æ‰§è¡Œè§£å‹è¿‡ç¨‹ä¸­ä¿®æ”¹æˆ–ç›‘æ§ç¬¦å·é“¾æ¥å¤´åŒåç›®å½•ä¸‹çš„ä»»æ„æ–‡ä»¶é€ æˆç ´åã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-1002101</a><p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤æ‰§è¡Œè§£å‹è¿‡ç¨‹ä¸­ä¿®æ”¹æˆ–ç›‘æ§ç¬¦å·é“¾æ¥å¤´åŒåç›®å½•ä¸‹çš„ä»»æ„æ–‡ä»¶é€ æˆç ´åã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11246 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå† (Path Traversal) çš„æ–¹å¼å°†å®¹å™¨ tar åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11246</a><p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå† (Path Traversal) çš„æ–¹å¼å°†å®¹å™¨ <code>tar</code> åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚</p></li>
<li>TODO <a href=/zh/docs/patches/cve-2019-11247 title="API Server å…è®¸é€šè¿‡é”™è¯¯çš„èŒƒå›´è®¿é—®è‡ªå®šä¹‰çš„èµ„æºã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11247</a><p><code>API Server</code> å…è®¸é€šè¿‡é”™è¯¯çš„èŒƒå›´è®¿é—®è‡ªå®šä¹‰çš„èµ„æºã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11248 title="å¯ä»¥é€šè¿‡å¥åº·æ£€æŸ¥çš„ç«¯å£è®¿é—® /debug/pprofã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11248</a><p>å¯ä»¥é€šè¿‡å¥åº·æ£€æŸ¥çš„ç«¯å£è®¿é—® <code>/debug/pprof</code>ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11249 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ tar åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11249</a><p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ <code>tar</code> åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11251 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ tar åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11251</a><p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ <code>tar</code> åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2020-8552 title="æ­¤æ¼æ´å¯èƒ½ä½¿ API Server å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ API è¯·æ±‚çš„ DoS(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8552</a><p>æ­¤æ¼æ´å¯èƒ½ä½¿ <code>API Server</code> å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ <code>API</code> è¯·æ±‚çš„ <code>DoS</code>(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚</p></li>
<li>TODO <a href=/zh/docs/patches/cve-2020-8558 title="kube-proxy ç»„ä»¶åœ¨ iptables å’Œ ipvs æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° net.ipv4.conf.all.route_localnet=1ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° 127.0.0.1 ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p><code>kube-proxy</code> ç»„ä»¶åœ¨ <code>iptables</code> å’Œ <code>ipvs</code> æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° <code>net.ipv4.conf.all.route_localnet=1</code>ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° <code>127.0.0.1</code> ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚</p></li>
<li>TODO <a href=/zh/docs/patches/cve-2020-8559 title="kube-apiserver ç»„ä»¶çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ kubelet çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆèŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8559</a><p><code>kube-apiserver</code> ç»„ä»¶çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ <code>kubelet</code> çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆèŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2021-3121 title="å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ Protobuf æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ Gogo Protobuf ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ <code>Protobuf</code> æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ <code>Gogo Protobuf</code> ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/nokmem title="èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º Pod" data-toggle=tooltip data-placement=top target>nokmem</a><p>èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º <code>Pod</code></p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f3da15966c8c4439fb741e2ef8c78204>6.2 - v1.11.10</h1>
</div>
<div class=td-content>
<h1 id=pg-9eec5b25731b7e0b81f9b917fe1bce0c>6.2.1 - v1.11.10-lts.1</h1>
<p>è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.11.10 ä¿®å¤ç‰ˆæœ¬ã€‚</p>
<h2 id=è¡¥ä¸>è¡¥ä¸</h2>
<ul>
<li><a href=/zh/docs/patches/cve-2019-11245 title="è¿™æ˜¯ä¸€ä¸ªææƒæ¼æ´ï¼Œé€šå¸¸ä»¥å®¹å™¨ Dockerfile ä¸­æŒ‡å®šçš„ USER è¿è¡Œçš„å®¹å™¨ï¼Œåœ¨å®¹å™¨é‡å¯æ—¶æˆ–è€…å¦‚æœé•œåƒå…ˆå‰è¢«æ‹‰åˆ°èŠ‚ç‚¹æ—¶ï¼Œéƒ½å°†ä»¥ root(uid 0) èº«ä»½è¿è¡Œã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11245</a><p>è¿™æ˜¯ä¸€ä¸ªææƒæ¼æ´ï¼Œé€šå¸¸ä»¥å®¹å™¨ <code>Dockerfile</code> ä¸­æŒ‡å®šçš„ <code>USER</code> è¿è¡Œçš„å®¹å™¨ï¼Œåœ¨å®¹å™¨é‡å¯æ—¶æˆ–è€…å¦‚æœé•œåƒå…ˆå‰è¢«æ‹‰åˆ°èŠ‚ç‚¹æ—¶ï¼Œéƒ½å°†ä»¥ <code>root</code>(uid 0) èº«ä»½è¿è¡Œã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11246 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå† (Path Traversal) çš„æ–¹å¼å°†å®¹å™¨ tar åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11246</a><p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå† (Path Traversal) çš„æ–¹å¼å°†å®¹å™¨ <code>tar</code> åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11247 title="API Server å…è®¸é€šè¿‡é”™è¯¯çš„èŒƒå›´è®¿é—®è‡ªå®šä¹‰çš„èµ„æºã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11247</a><p><code>API Server</code> å…è®¸é€šè¿‡é”™è¯¯çš„èŒƒå›´è®¿é—®è‡ªå®šä¹‰çš„èµ„æºã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11248 title="å¯ä»¥é€šè¿‡å¥åº·æ£€æŸ¥çš„ç«¯å£è®¿é—® /debug/pprofã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11248</a><p>å¯ä»¥é€šè¿‡å¥åº·æ£€æŸ¥çš„ç«¯å£è®¿é—® <code>/debug/pprof</code>ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11249 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ tar åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11249</a><p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ <code>tar</code> åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11251 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ tar åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11251</a><p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ <code>tar</code> åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2020-8552 title="æ­¤æ¼æ´å¯èƒ½ä½¿ API Server å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ API è¯·æ±‚çš„ DoS(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8552</a><p>æ­¤æ¼æ´å¯èƒ½ä½¿ <code>API Server</code> å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ <code>API</code> è¯·æ±‚çš„ <code>DoS</code>(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2020-8558 title="kube-proxy ç»„ä»¶åœ¨ iptables å’Œ ipvs æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° net.ipv4.conf.all.route_localnet=1ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° 127.0.0.1 ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p><code>kube-proxy</code> ç»„ä»¶åœ¨ <code>iptables</code> å’Œ <code>ipvs</code> æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° <code>net.ipv4.conf.all.route_localnet=1</code>ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° <code>127.0.0.1</code> ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚</p></li>
<li>TODO <a href=/zh/docs/patches/cve-2020-8559 title="kube-apiserver ç»„ä»¶çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ kubelet çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆèŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8559</a><p><code>kube-apiserver</code> ç»„ä»¶çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ <code>kubelet</code> çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆèŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2021-3121 title="å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ Protobuf æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ Gogo Protobuf ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ <code>Protobuf</code> æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ <code>Gogo Protobuf</code> ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/nokmem title="èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º Pod" data-toggle=tooltip data-placement=top target>nokmem</a><p>èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º <code>Pod</code></p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b3690dbf3b7f69b33c1619edd3bb04ca>6.3 - v1.12.10</h1>
</div>
<div class=td-content>
<h1 id=pg-27786078bb9f8ad064a60ea6903bb0fd>6.3.1 - v1.12.10-lts.1</h1>
<p>è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.12.10 ä¿®å¤ç‰ˆæœ¬ã€‚</p>
<h2 id=è¡¥ä¸>è¡¥ä¸</h2>
<ul>
<li><a href=/zh/docs/patches/cve-2019-11245 title="è¿™æ˜¯ä¸€ä¸ªææƒæ¼æ´ï¼Œé€šå¸¸ä»¥å®¹å™¨ Dockerfile ä¸­æŒ‡å®šçš„ USER è¿è¡Œçš„å®¹å™¨ï¼Œåœ¨å®¹å™¨é‡å¯æ—¶æˆ–è€…å¦‚æœé•œåƒå…ˆå‰è¢«æ‹‰åˆ°èŠ‚ç‚¹æ—¶ï¼Œéƒ½å°†ä»¥ root(uid 0) èº«ä»½è¿è¡Œã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11245</a><p>è¿™æ˜¯ä¸€ä¸ªææƒæ¼æ´ï¼Œé€šå¸¸ä»¥å®¹å™¨ <code>Dockerfile</code> ä¸­æŒ‡å®šçš„ <code>USER</code> è¿è¡Œçš„å®¹å™¨ï¼Œåœ¨å®¹å™¨é‡å¯æ—¶æˆ–è€…å¦‚æœé•œåƒå…ˆå‰è¢«æ‹‰åˆ°èŠ‚ç‚¹æ—¶ï¼Œéƒ½å°†ä»¥ <code>root</code>(uid 0) èº«ä»½è¿è¡Œã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11247 title="API Server å…è®¸é€šè¿‡é”™è¯¯çš„èŒƒå›´è®¿é—®è‡ªå®šä¹‰çš„èµ„æºã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11247</a><p><code>API Server</code> å…è®¸é€šè¿‡é”™è¯¯çš„èŒƒå›´è®¿é—®è‡ªå®šä¹‰çš„èµ„æºã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11249 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ tar åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11249</a><p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ <code>tar</code> åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2019-11251 title="æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ kubectl cp å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ tar åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚" data-toggle=tooltip data-placement=top target>CVE-2019-11251</a><p>æ­¤æ¼æ´å¯èƒ½å…è®¸æ”»å‡»è€…åˆ©ç”¨ <code>kubectl cp</code> å‘½ä»¤ï¼Œé‡‡ç”¨è·¯å¾„éå†(Path Traversal)çš„æ–¹å¼å°†å®¹å™¨ <code>tar</code> åŒ…ä¸­çš„æ¶æ„æ–‡ä»¶å†™å…¥æ‰€åœ¨ä¸»æœºä¸Šçš„ä»»ä½•è·¯å¾„ï¼Œè¯¥è¿‡ç¨‹ä»…å—æœ¬åœ°ç”¨æˆ·çš„ç³»ç»Ÿæƒé™é™åˆ¶ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2020-8552 title="æ­¤æ¼æ´å¯èƒ½ä½¿ API Server å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ API è¯·æ±‚çš„ DoS(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8552</a><p>æ­¤æ¼æ´å¯èƒ½ä½¿ <code>API Server</code> å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ <code>API</code> è¯·æ±‚çš„ <code>DoS</code>(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2020-8558 title="kube-proxy ç»„ä»¶åœ¨ iptables å’Œ ipvs æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° net.ipv4.conf.all.route_localnet=1ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° 127.0.0.1 ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p><code>kube-proxy</code> ç»„ä»¶åœ¨ <code>iptables</code> å’Œ <code>ipvs</code> æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° <code>net.ipv4.conf.all.route_localnet=1</code>ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° <code>127.0.0.1</code> ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚</p></li>
<li>TODO <a href=/zh/docs/patches/cve-2020-8559 title="kube-apiserver ç»„ä»¶çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ kubelet çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆèŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8559</a><p><code>kube-apiserver</code> ç»„ä»¶çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ <code>kubelet</code> çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆèŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2021-3121 title="å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ Protobuf æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ Gogo Protobuf ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ <code>Protobuf</code> æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ <code>Gogo Protobuf</code> ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/nokmem title="èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º Pod" data-toggle=tooltip data-placement=top target>nokmem</a><p>èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º <code>Pod</code></p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-7900b7f9f88a4a74990fe03111a2da05>6.4 - v1.13.12</h1>
</div>
<div class=td-content>
<h1 id=pg-d881df1610b2ecdebb624461d03f23c9>6.4.1 - v1.13.12-lts.1</h1>
<p>è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.13.12 ä¿®å¤ç‰ˆæœ¬ã€‚</p>
<h2 id=è¡¥ä¸>è¡¥ä¸</h2>
<ul>
<li><a href=/zh/docs/patches/cve-2020-8552 title="æ­¤æ¼æ´å¯èƒ½ä½¿ API Server å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ API è¯·æ±‚çš„ DoS(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8552</a><p>æ­¤æ¼æ´å¯èƒ½ä½¿ <code>API Server</code> å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ <code>API</code> è¯·æ±‚çš„ <code>DoS</code>(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2020-8558 title="kube-proxy ç»„ä»¶åœ¨ iptables å’Œ ipvs æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° net.ipv4.conf.all.route_localnet=1ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° 127.0.0.1 ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p><code>kube-proxy</code> ç»„ä»¶åœ¨ <code>iptables</code> å’Œ <code>ipvs</code> æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° <code>net.ipv4.conf.all.route_localnet=1</code>ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° <code>127.0.0.1</code> ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚</p></li>
<li>TODO <a href=/zh/docs/patches/cve-2020-8559 title="kube-apiserver ç»„ä»¶çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ kubelet çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆèŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8559</a><p><code>kube-apiserver</code> ç»„ä»¶çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ <code>kubelet</code> çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆèŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2021-3121 title="å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ Protobuf æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ Gogo Protobuf ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ <code>Protobuf</code> æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ <code>Gogo Protobuf</code> ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/nokmem title="èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º Pod" data-toggle=tooltip data-placement=top target>nokmem</a><p>èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º <code>Pod</code></p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-51d890621bb8c9944add326b0a8b37a9>6.5 - v1.14.10</h1>
</div>
<div class=td-content>
<h1 id=pg-a0f1f487ff86a6e928f7e5c357ff4b08>6.5.1 - v1.14.10-lts.1</h1>
<p>è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.14.10 ä¿®å¤ç‰ˆæœ¬ã€‚</p>
<h2 id=è¡¥ä¸>è¡¥ä¸</h2>
<ul>
<li><a href=/zh/docs/patches/cve-2020-8552 title="æ­¤æ¼æ´å¯èƒ½ä½¿ API Server å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ API è¯·æ±‚çš„ DoS(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8552</a><p>æ­¤æ¼æ´å¯èƒ½ä½¿ <code>API Server</code> å®¹æ˜“å—åˆ°æ¥è‡ªæˆåŠŸ <code>API</code> è¯·æ±‚çš„ <code>DoS</code>(æ‹’ç»æœåŠ¡æ”»å‡»)ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2020-8558 title="kube-proxy ç»„ä»¶åœ¨ iptables å’Œ ipvs æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° net.ipv4.conf.all.route_localnet=1ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° 127.0.0.1 ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p><code>kube-proxy</code> ç»„ä»¶åœ¨ <code>iptables</code> å’Œ <code>ipvs</code> æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° <code>net.ipv4.conf.all.route_localnet=1</code>ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° <code>127.0.0.1</code> ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2020-8559 title="kube-apiserver ç»„ä»¶çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ kubelet çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆèŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8559</a><p><code>kube-apiserver</code> ç»„ä»¶çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æˆªå–æŸäº›å‘é€è‡³èŠ‚ç‚¹ <code>kubelet</code> çš„å‡çº§è¯·æ±‚ï¼Œé€šè¿‡è¯·æ±‚ä¸­åŸæœ‰çš„è®¿é—®å‡­æ®è½¬å‘è¯·æ±‚è‡³å…¶ä»–ç›®æ ‡èŠ‚ç‚¹ï¼Œä»è€Œé€ æˆèŠ‚ç‚¹çš„æƒé™æå‡æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2021-3121 title="å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ Protobuf æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ Gogo Protobuf ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ <code>Protobuf</code> æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ <code>Gogo Protobuf</code> ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/nokmem title="èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º Pod" data-toggle=tooltip data-placement=top target>nokmem</a><p>èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º <code>Pod</code></p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e68cc5fb088f6d1ae33afaf415fddee9>6.6 - v1.15.12</h1>
</div>
<div class=td-content>
<h1 id=pg-0de2d52a18da527606a4cafd2f9c2964>6.6.1 - v1.15.12-lts.1</h1>
<p>è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.15.12 ä¿®å¤ç‰ˆæœ¬ã€‚</p>
<h2 id=è¡¥ä¸>è¡¥ä¸</h2>
<ul>
<li><a href=/zh/docs/patches/cve-2020-8558 title="kube-proxy ç»„ä»¶åœ¨ iptables å’Œ ipvs æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° net.ipv4.conf.all.route_localnet=1ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° 127.0.0.1 ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚" data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p><code>kube-proxy</code> ç»„ä»¶åœ¨ <code>iptables</code> å’Œ <code>ipvs</code> æ¨¡å¼ä¸‹å‡éœ€è¦è®¾ç½®å†…æ ¸å‚æ•° <code>net.ipv4.conf.all.route_localnet=1</code>ï¼Œ ä»è€Œå…è®¸æœ¬åœ°å›ç¯è®¿é—®ã€‚æ”»å‡»è€…å¯èƒ½é€šè¿‡å…±äº«ä¸»æœºç½‘ç»œçš„å®¹å™¨ï¼Œæˆ–åœ¨é›†ç¾¤èŠ‚ç‚¹è®¿é—®åŒä¸€ä¸ªLANæˆ–äºŒå±‚ç½‘ç»œä¸‹çš„ç›¸é‚»èŠ‚ç‚¹ä¸Šç»‘å®šç›‘å¬äº†æœ¬åœ° <code>127.0.0.1</code> ç«¯å£çš„ TCP/UDP æœåŠ¡ï¼Œä»è€Œè·å–æ¥å£ä¿¡æ¯ã€‚å¦‚æœæœåŠ¡æ²¡æœ‰è®¾ç½®å¿…è¦çš„å®‰å…¨è®¤è¯ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²é£é™©ã€‚</p></li>
<li><a href=/zh/docs/patches/cve-2021-3121 title="å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ Protobuf æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ Gogo Protobuf ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ <code>Protobuf</code> æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ <code>Gogo Protobuf</code> ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/nokmem title="èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º Pod" data-toggle=tooltip data-placement=top target>nokmem</a><p>èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º <code>Pod</code></p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5f38f1e7b6171717787aed14f462ea87>6.7 - v1.16.15</h1>
</div>
<div class=td-content>
<h1 id=pg-291fa7036c16b7b6fec50788d3fbd23e>6.7.1 - v1.16.15-lts.1</h1>
<p>è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.16.15 ä¿®å¤ç‰ˆæœ¬ã€‚</p>
<h2 id=è¡¥ä¸>è¡¥ä¸</h2>
<ul>
<li><a href=/zh/docs/patches/cve-2021-3121 title="å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ Protobuf æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ Gogo Protobuf ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ <code>Protobuf</code> æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ <code>Gogo Protobuf</code> ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/nokmem title="èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º Pod" data-toggle=tooltip data-placement=top target>nokmem</a><p>èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º <code>Pod</code></p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2115cd3345664b75db988898787bd6c2>6.8 - v1.17.17</h1>
</div>
<div class=td-content>
<h1 id=pg-97b8bcc4b64573fbff060a24764ae889>6.8.1 - v1.17.17-lts.1</h1>
<p>è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.17.17 ä¿®å¤ç‰ˆæœ¬ã€‚</p>
<h2 id=è¡¥ä¸>è¡¥ä¸</h2>
<ul>
<li><a href=/zh/docs/patches/cve-2021-3121 title="å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ Protobuf æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ Gogo Protobuf ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚" data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>å­˜åœ¨è¯¥æ¼æ´çš„ç¨‹åºå¯èƒ½ä¼šå› ä¸ºå¤„ç†äº†åŒ…å«æ¶æ„ <code>Protobuf</code> æ¶ˆæ¯è€Œå´©æºƒã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„ <code>Gogo Protobuf</code> ç‰ˆæœ¬è¿‡ä½ï¼Œå¯èƒ½å­˜åœ¨è¯¥æ¼æ´ã€‚</p></li>
<li><a href=/zh/docs/patches/nokmem title="èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º Pod" data-toggle=tooltip data-placement=top target>nokmem</a><p>èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º <code>Pod</code></p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5c45d9bdb98f73d4ba804be5543aa913>6.9 - v1.18.20</h1>
</div>
<div class=td-content>
<h1 id=pg-f30dfdd74c807ee349c09b44ea91b5fa>6.9.1 - v1.18.20-lts.1</h1>
<p>è¿™æ˜¯ KLTS å‘å¸ƒçš„ç¬¬ä¸€ä¸ª v1.18.20 ä¿®å¤ç‰ˆæœ¬ã€‚</p>
<h2 id=è¡¥ä¸>è¡¥ä¸</h2>
<ul>
<li><a href=/zh/docs/patches/nokmem title="èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º Pod" data-toggle=tooltip data-placement=top target>nokmem</a><p>èŠ‚ç‚¹ç£ç›˜å……è¶³ä½†æ˜¯ä¸€ç›´æŠ¥ç£ç›˜ä¸è¶³æ— æ³•åˆ›å»º <code>Pod</code></p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a7c9e10a31abdecaec5a338462a220a8>7 - å¼€å‘æŒ‡å—</h1>
</div>
<div class=td-content>
<h1 id=pg-8da562538e76378aaf2ff1c50166f299>7.1 - ä¾èµ–</h1>
<h2 id=å®‰è£…-yq>å®‰è£… yq</h2>
<ul class="nav nav-tabs" id=tabset-zhdocsdeveloper-guidedependent-1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-zhdocsdeveloper-guidedependent-1-0 role=tab aria-controls=tabset-zhdocsdeveloper-guidedependent-1-0 aria-selected=true>MacOS</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsdeveloper-guidedependent-1-1 role=tab aria-controls=tabset-zhdocsdeveloper-guidedependent-1-1>åŸºäº Red Hat çš„å‘è¡Œç‰ˆ</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocsdeveloper-guidedependent-1-2 role=tab aria-controls=tabset-zhdocsdeveloper-guidedependent-1-2>åŸºäº Debian çš„å‘è¡Œç‰ˆ</a></li></ul>
<div class=tab-content id=tabset-zhdocsdeveloper-guidedependent-1><div id=tabset-zhdocsdeveloper-guidedependent-1-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-zhdocsdeveloper-guidedependent-1-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>brew install jq python@3 <span style=color:#8f5902;font-style:italic># å®‰è£… brew, è¯·çœ‹ https://brew.sh/</span>
pip3 install yq
</code></pre></div></div>
<div id=tabset-zhdocsdeveloper-guidedependent-1-1 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsdeveloper-guidedependent-1-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yum install -y epel-release
yum install -y jq python3
pip3 install yq
</code></pre></div></div>
<div id=tabset-zhdocsdeveloper-guidedependent-1-2 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocsdeveloper-guidedependent-1-2>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>apt-get install -y jq python3 python3-pip
pip3 install yq
</code></pre></div></div></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-79fcc7e024580df9da30cdb10805eada>7.2 - å…‹éš†</h1>
<h2 id=å…‹éš†ä¸»åˆ†æ”¯>å…‹éš†ä¸»åˆ†æ”¯</h2>
<p>è¯·å°è¯•åªå…‹éš†ä¸»åˆ†æ”¯, ç”±äº repos ä»“åº“æ˜¯ä½œä¸º rpm å’Œ deb çš„è½¯ä»¶æºçš„, ç›´æ¥å…‹éš†å…¨éƒ¨çš„è¯ä¼šéå¸¸å¤§</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone --single-branch -b master https://github.com/klts-io/kubernetes-lts
</code></pre></div>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list">
<a class=text-white target=_blank rel=noopener href=https://example.org/mail aria-label="User mailing list">
<i class="fa fa-envelope"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter>
<a class=text-white target=_blank rel=noopener href=https://example.org/twitter aria-label=Twitter>
<i class="fab fa-twitter"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow">
<a class=text-white target=_blank rel=noopener href=https://example.org/stack aria-label="Stack Overflow">
<i class="fab fa-stack-overflow"></i>
</a>
</li>
</ul>
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/klts-io/website aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack>
<a class=text-white target=_blank rel=noopener href=https://example.org/slack aria-label=Slack>
<i class="fab fa-slack"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list">
<a class=text-white target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list">
<i class="fa fa-envelope"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2021 The KLTS.io Authors ç‰ˆæƒæ‰€æœ‰</small>
<p class=mt-2><a href=/zh/about/>å…³äº KLTS</a></p>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script>
<script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script>
</body>
</html>