<!doctype html><html lang=zh class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.87.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel="shortcut icon" href=/favicons/favicon.ico>
<link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192>
<title>准备 | KLTS.io</title>
<meta name=description content="KLTS 的官网"><meta property="og:title" content="准备">
<meta property="og:description" content="本页介绍安装 Kubernetes 之前需要做好的一些准备工作，例如先要安装 kubeadm 工具箱。有关在安装此工具箱后如何用其创建集群，请参阅正常安装。
准备工作  准备一台兼容的 Linux 主机。Kubernetes 项目为基于 Debian 和 Red Hat 的 Linux 发行版以及一些不提供包管理器的发行版提供通用的指令。 每台主机至少 2 GB 或更多的内存（如果内存太少将影响应用的运行） CPU 2 核或更多 集群中所有主机的网络连通（公网和内网） 单个节点上不能有重复的主机名、MAC 地址或 product_uuid，请参阅确保每个节点上 MAC 地址和 product_uuid 的唯一性。 开启主机上的某些端口，请参阅检查所需端口。 禁用交换分区。为了保证 kubelet 正常工作，您必须禁用交换分区。  确保每个节点上 MAC 地址和 product_uuid 的唯一性   使用命令 ip link 或 ifconfig -a 来获取网络接口的 MAC 地址 使用 sudo cat /sys/class/dmi/id/product_uuid 命令来校验 product_uuid  一般来讲，硬件设备拥有唯一的地址，但是有些虚拟机的地址可能会重复。 Kubernetes 使用 MAC 地址和 product_uuid 来确定集群中的唯一节点。 如果这些值在每个节点上不唯一，可能会导致安装失败。
检查网络适配器 如果您有一个以上的网络适配器，同时您的 Kubernetes 组件通过默认路由不可达，我们建议您预先添加 IP 路由规则，这样 Kubernetes 集群就可以通过对应的适配器完成连接。">
<meta property="og:type" content="article">
<meta property="og:url" content="/zh/docs/pre-install/"><meta property="article:section" content="docs">
<meta property="article:modified_time" content="2021-09-08T15:55:49+08:00"><meta property="og:site_name" content="KLTS.io">
<meta itemprop=name content="准备">
<meta itemprop=description content="本页介绍安装 Kubernetes 之前需要做好的一些准备工作，例如先要安装 kubeadm 工具箱。有关在安装此工具箱后如何用其创建集群，请参阅正常安装。
准备工作  准备一台兼容的 Linux 主机。Kubernetes 项目为基于 Debian 和 Red Hat 的 Linux 发行版以及一些不提供包管理器的发行版提供通用的指令。 每台主机至少 2 GB 或更多的内存（如果内存太少将影响应用的运行） CPU 2 核或更多 集群中所有主机的网络连通（公网和内网） 单个节点上不能有重复的主机名、MAC 地址或 product_uuid，请参阅确保每个节点上 MAC 地址和 product_uuid 的唯一性。 开启主机上的某些端口，请参阅检查所需端口。 禁用交换分区。为了保证 kubelet 正常工作，您必须禁用交换分区。  确保每个节点上 MAC 地址和 product_uuid 的唯一性   使用命令 ip link 或 ifconfig -a 来获取网络接口的 MAC 地址 使用 sudo cat /sys/class/dmi/id/product_uuid 命令来校验 product_uuid  一般来讲，硬件设备拥有唯一的地址，但是有些虚拟机的地址可能会重复。 Kubernetes 使用 MAC 地址和 product_uuid 来确定集群中的唯一节点。 如果这些值在每个节点上不唯一，可能会导致安装失败。
检查网络适配器 如果您有一个以上的网络适配器，同时您的 Kubernetes 组件通过默认路由不可达，我们建议您预先添加 IP 路由规则，这样 Kubernetes 集群就可以通过对应的适配器完成连接。">
<meta itemprop=dateModified content="2021-09-08T15:55:49+08:00">
<meta itemprop=wordCount content="369">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="准备">
<meta name=twitter:description content="本页介绍安装 Kubernetes 之前需要做好的一些准备工作，例如先要安装 kubeadm 工具箱。有关在安装此工具箱后如何用其创建集群，请参阅正常安装。
准备工作  准备一台兼容的 Linux 主机。Kubernetes 项目为基于 Debian 和 Red Hat 的 Linux 发行版以及一些不提供包管理器的发行版提供通用的指令。 每台主机至少 2 GB 或更多的内存（如果内存太少将影响应用的运行） CPU 2 核或更多 集群中所有主机的网络连通（公网和内网） 单个节点上不能有重复的主机名、MAC 地址或 product_uuid，请参阅确保每个节点上 MAC 地址和 product_uuid 的唯一性。 开启主机上的某些端口，请参阅检查所需端口。 禁用交换分区。为了保证 kubelet 正常工作，您必须禁用交换分区。  确保每个节点上 MAC 地址和 product_uuid 的唯一性   使用命令 ip link 或 ifconfig -a 来获取网络接口的 MAC 地址 使用 sudo cat /sys/class/dmi/id/product_uuid 命令来校验 product_uuid  一般来讲，硬件设备拥有唯一的地址，但是有些虚拟机的地址可能会重复。 Kubernetes 使用 MAC 地址和 product_uuid 来确定集群中的唯一节点。 如果这些值在每个节点上不唯一，可能会导致安装失败。
检查网络适配器 如果您有一个以上的网络适配器，同时您的 Kubernetes 组件通过默认路由不可达，我们建议您预先添加 IP 路由规则，这样 Kubernetes 集群就可以通过对应的适配器完成连接。">
<link rel=preload href=/scss/main.min.650bdee92aa16b3ae39822dd8dfd62356c714a590c397f4abe76572440c62901.css as=style>
<link href=/scss/main.min.650bdee92aa16b3ae39822dd8dfd62356c714a590c397f4abe76572440c62901.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script>
</head>
<body class=td-page>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class=navbar-brand href=/zh/>
<span class=navbar-logo><svg id="Graph" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><g id="KLTS_-_Graph_-_Light" data-name="KLTS - Graph - Light"><path id="Secondary" d="M174.54 276.539c-23.254 5.244-46.3 13.984-70.386 26.563V249.768A322.072 322.072.0 01153.4 232.2q11.784-3.111 23.743-5.193a84.322 84.322.0 00-2.6 49.53zm54.832-100.2c-18.627-17.387-38.964-31.808-61.2-44.965L119.7 159.357c29.816 15.76 52.067 30.719 69.575 45.639a84.135 84.135.0 0140.097-28.661zm20.63-4.1c1.983-.14 3.979-.237 6-.237a83.588 83.588.0 0141.393 10.916 251.959 251.959.0 00.78-28.448 297.8 297.8.0 00-6.564-53.245L256 80.664l-16.489 9.52c6.65 24.114 10.095 45.37 10.682 65.672Q250.433 164.112 250 172.237zm-64.76 129.007q-4.648 8.227-8.758 16.752a324.529 324.529.0 00-20.49 55.6l43.21 24.947c5.824-24.5 13.469-45.93 23.455-65.437A84.3 84.3.0 01185.242 301.244zM374.19 148.9c-19 18.863-37.743 34.831-58.691 47.809a83.826 83.826.0 0122.786 42.325c25.366-15.381 47.642-34.187 69.561-55.9v-14.8zM298.741 328.308A83.582 83.582.0 01256 340q-2.149.0-4.272-.108c1.842 4.863 3.807 9.68 5.93 14.446 8.355 18.751 19.118 37.369 33 56.991l41.757-24.108c-13.306-18.382-23.351-35.46-30.908-52.419C300.542 332.644 299.63 330.478 298.741 328.308zm40.874-64.358a83.578 83.578.0 01-18.131 44.635c26.246 8.936 54.539 14.141 86.362 16.028v-48.08a284.525 284.525.0 01-57.161-9.231Q345.087 265.763 339.615 263.95z" fill="#fff" opacity=".66"/><path id="Primary" d="M256 71.426l159.846 92.287V348.287L256 440.574 96.154 348.287V163.713L256 71.426M256 16 48.154 136V376L256 496 463.846 376V136L256 16zm0 204a36 36 0 11-25.456 10.544A35.767 35.767.0 01256 220m0-48a84 84 0 1059.4 24.6A83.738 83.738.0 00256 172z" fill="#fff"/><rect id="Frame" width="512" height="512" fill="none"/></g></svg></span><span class="text-uppercase font-weight-bold">KLTS.io</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/zh/about/><span>关于</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/zh/blog/><span>博客</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/zh/docs/><span class=active>文档</span></a>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
中文 Chinese
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/docs/pre-install/>English</a>
</div>
</li>
</ul>
</div>
<div class="navbar-nav d-none d-lg-block">
<input type=search class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label=站内搜索… autocomplete=off data-offline-search-index-json-src=/offline-search-index.4e6c2ffb05cb533734647be7b926ad8e.json data-offline-search-base-href=/ data-offline-search-max-results=10>
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
<div id=td-sidebar-menu class=td-sidebar__inner>
<form class="td-sidebar__search d-flex align-items-center">
<input type=search class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label=站内搜索… autocomplete=off data-offline-search-index-json-src=/offline-search-index.4e6c2ffb05cb533734647be7b926ad8e.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation">
</button>
</form>
<nav class="collapse td-sidebar-nav" id=td-section-nav>
<div class="nav-item dropdown d-block d-lg-none">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
中文 Chinese
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/docs/pre-install/>English</a>
</div>
</div>
<ul class="td-sidebar-nav__section pr-md-3 ul-0">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-zhdocs-li>
<a href=/zh/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-zhdocs><span>文档</span></a>
<ul class=ul-1>
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsintro-li>
<a href=/zh/docs/intro/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsintro><span>简介</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-zhdocspre-install-li>
<a href=/zh/docs/pre-install/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-zhdocspre-install><span class=td-sidebar-nav-active-item>准备</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsinstall-li>
<a href=/zh/docs/install/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsinstall><span>正常安装</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsinstall-with-script-li>
<a href=/zh/docs/install-with-script/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsinstall-with-script><span>脚本一键安装</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocspatches-li>
<a href=/zh/docs/patches/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocspatches><span>修复的漏洞</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2021-25741-li>
<a href=/zh/docs/patches/cve-2021-25741/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2021-25741><span>CVE-2021-25741</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2021-3121-li>
<a href=/zh/docs/patches/cve-2021-3121/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2021-3121><span>CVE-2021-3121</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2020-8559-li>
<a href=/zh/docs/patches/cve-2020-8559/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2020-8559><span>CVE-2020-8559</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2020-8558-li>
<a href=/zh/docs/patches/cve-2020-8558/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2020-8558><span>CVE-2020-8558</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2020-8552-li>
<a href=/zh/docs/patches/cve-2020-8552/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2020-8552><span>CVE-2020-8552</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2019-1002101-li>
<a href=/zh/docs/patches/cve-2019-1002101/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2019-1002101><span>CVE-2019-1002101</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2019-11251-li>
<a href=/zh/docs/patches/cve-2019-11251/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2019-11251><span>CVE-2019-11251</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2019-11248-li>
<a href=/zh/docs/patches/cve-2019-11248/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2019-11248><span>CVE-2019-11248</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2019-11247-li>
<a href=/zh/docs/patches/cve-2019-11247/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2019-11247><span>CVE-2019-11247</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2019-11246-li>
<a href=/zh/docs/patches/cve-2019-11246/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2019-11246><span>CVE-2019-11246</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2019-11245-li>
<a href=/zh/docs/patches/cve-2019-11245/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2019-11245><span>CVE-2019-11245</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchescve-2019-11249-li>
<a href=/zh/docs/patches/cve-2019-11249/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchescve-2019-11249><span>CVE-2019-11249</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocspatchesnokmem-li>
<a href=/zh/docs/patches/nokmem/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocspatchesnokmem><span>nokmem</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsaddpatchadd-patch-li>
<a href=/zh/docs/addpatch/add-patch/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsaddpatchadd-patch><span>添加 CVE 补丁到 klts</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleases-li>
<a href=/zh/docs/releases/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleases><span>版本日志</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv123-li>
<a href=/zh/docs/releases/v1.23/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv123><span>v1.23</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv123v1234-lts1-li>
<a href=/zh/docs/releases/v1.23/v1.23.4-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv123v1234-lts1><span>v1.23.4-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv122-li>
<a href=/zh/docs/releases/v1.22/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv122><span>v1.22</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv122v1227-lts1-li>
<a href=/zh/docs/releases/v1.22/v1.22.7-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv122v1227-lts1><span>v1.22.7-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv121-li>
<a href=/zh/docs/releases/v1.21/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv121><span>v1.21</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv121v12110-lts1-li>
<a href=/zh/docs/releases/v1.21/v1.21.10-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv121v12110-lts1><span>v1.21.10-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv120-li>
<a href=/zh/docs/releases/v1.20/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv120><span>v1.20</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv120v12016-lts1-li>
<a href=/zh/docs/releases/v1.20/v1.20.16-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv120v12016-lts1><span>v1.20.16-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv119-li>
<a href=/zh/docs/releases/v1.19/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv119><span>v1.19</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv119v11916-lts1-li>
<a href=/zh/docs/releases/v1.19/v1.19.16-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv119v11916-lts1><span>v1.19.16-lts.1</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv119v11916-lts2-li>
<a href=/zh/docs/releases/v1.19/v1.19.16-lts.2/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv119v11916-lts2><span>v1.19.16-lts.2</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv118-li>
<a href=/zh/docs/releases/v1.18/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv118><span>v1.18</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv118v11820-lts1-li>
<a href=/zh/docs/releases/v1.18/v1.18.20-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv118v11820-lts1><span>v1.18.20-lts.1</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv118v11820-lts2-li>
<a href=/zh/docs/releases/v1.18/v1.18.20-lts.2/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv118v11820-lts2><span>v1.18.20-lts.2</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv117-li>
<a href=/zh/docs/releases/v1.17/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv117><span>v1.17</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv117v11717-lts1-li>
<a href=/zh/docs/releases/v1.17/v1.17.17-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv117v11717-lts1><span>v1.17.17-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv116-li>
<a href=/zh/docs/releases/v1.16/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv116><span>v1.16</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv116v11615-lts1-li>
<a href=/zh/docs/releases/v1.16/v1.16.15-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv116v11615-lts1><span>v1.16.15-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv115-li>
<a href=/zh/docs/releases/v1.15/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv115><span>v1.15</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv115v11512-lts1-li>
<a href=/zh/docs/releases/v1.15/v1.15.12-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv115v11512-lts1><span>v1.15.12-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv114-li>
<a href=/zh/docs/releases/v1.14/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv114><span>v1.14</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv114v11410-lts1-li>
<a href=/zh/docs/releases/v1.14/v1.14.10-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv114v11410-lts1><span>v1.14.10-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv113-li>
<a href=/zh/docs/releases/v1.13/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv113><span>v1.13</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv113v11312-lts1-li>
<a href=/zh/docs/releases/v1.13/v1.13.12-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv113v11312-lts1><span>v1.13.12-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv112-li>
<a href=/zh/docs/releases/v1.12/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv112><span>v1.12</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv112v11210-lts1-li>
<a href=/zh/docs/releases/v1.12/v1.12.10-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv112v11210-lts1><span>v1.12.10-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv111-li>
<a href=/zh/docs/releases/v1.11/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv111><span>v1.11</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv111v11110-lts1-li>
<a href=/zh/docs/releases/v1.11/v1.11.10-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv111v11110-lts1><span>v1.11.10-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsreleasesv110-li>
<a href=/zh/docs/releases/v1.10/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsreleasesv110><span>v1.10</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsreleasesv110v11013-lts1-li>
<a href=/zh/docs/releases/v1.10/v1.10.13-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsreleasesv110v11013-lts1><span>v1.10.13-lts.1</span></a>
</li>
</ul>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocscontainerd-li>
<a href=/zh/docs/containerd/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocscontainerd><span>Containerd</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocscontainerdpatches-li>
<a href=/zh/docs/containerd/patches/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocscontainerdpatches><span>修复的漏洞</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocscontainerdpatchescve-2021-41103-li>
<a href=/zh/docs/containerd/patches/cve-2021-41103/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocscontainerdpatchescve-2021-41103><span>CVE-2021-41103</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocscontainerdreleases-li>
<a href=/zh/docs/containerd/releases/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocscontainerdreleases><span>版本日志</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocscontainerdreleasesv13-li>
<a href=/zh/docs/containerd/releases/v1.3/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocscontainerdreleasesv13><span>v1.3</span></a>
<ul class="ul-4 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocscontainerdreleasesv13v1310-lts1-li>
<a href=/zh/docs/containerd/releases/v1.3/v1.3.10-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocscontainerdreleasesv13v1310-lts1><span>v1.3.10-lts.1</span></a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-zhdocsdeveloper-guide-li>
<a href=/zh/docs/developer-guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-zhdocsdeveloper-guide><span>开发指南</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsdeveloper-guideclone-li>
<a href=/zh/docs/developer-guide/clone/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsdeveloper-guideclone><span>克隆</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-zhdocsdeveloper-guidedependent-li>
<a href=/zh/docs/developer-guide/dependent/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-zhdocsdeveloper-guidedependent><span>依赖</span></a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
<aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href=https://github.com/klts-io/website/edit/main/content/zh/docs/pre-install.md target=_blank><i class="fa fa-edit fa-fw"></i> 编辑此页</a>
<a href="https://github.com/klts-io/website/new/main/content/zh/docs/pre-install.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> 添加子页面</a>
<a href="https://github.com/klts-io/website/issues/new?title=%e5%87%86%e5%a4%87" target=_blank><i class="fab fa-github fa-fw"></i> 提交文档问题</a>
<a href=https://github.com/klts-io/website/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> 提交项目问题</a>
<a id=print href=/zh/docs/_print/><i class="fa fa-print fa-fw"></i> 整节打印</a>
</div>
<div class=td-toc><nav id=TableOfContents>
<ul>
<li><a href=#准备工作>准备工作</a></li>
<li><a href=#verify-mac-address>确保每个节点上 MAC 地址和 product_uuid 的唯一性 </a></li>
<li><a href=#检查网络适配器>检查网络适配器</a></li>
<li><a href=#允许-iptables-检查桥接流量>允许 iptables 检查桥接流量</a></li>
<li><a href=#check-required-ports>检查所需端口</a>
<ul>
<li><a href=#控制平面节点>控制平面节点</a></li>
<li><a href=#工作节点>工作节点</a></li>
</ul>
</li>
<li><a href=#设置节点名字>设置节点名字</a></li>
<li><a href=#关闭-swap>关闭 Swap</a></li>
<li><a href=#关闭-selinux>关闭 Selinux</a></li>
<li><a href=#installing-runtime>安装 runtime</a></li>
</ul>
</nav></div>
</aside>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<nav aria-label=breadcrumb class="d-none d-md-block d-print-none">
<ol class="breadcrumb spb-1">
<li class=breadcrumb-item>
<a href=/zh/docs/>文档</a>
</li>
<li class="breadcrumb-item active" aria-current=page>
<a href=/zh/docs/pre-install/>准备</a>
</li>
</ol>
</nav>
<div class=td-content>
<h1>准备</h1>
<header class=article-meta>
<p class=reading-time><i class="fa fa-clock" aria-hidden=true></i> 2 分钟 阅读时间</p>
</header>
<p><img src=https://raw.githubusercontent.com/kubernetes/kubeadm/master/logos/stacked/color/kubeadm-stacked-color.png align=right width=150px>本页介绍安装 Kubernetes 之前需要做好的一些准备工作，例如先要安装 <code>kubeadm</code> 工具箱。有关在安装此工具箱后如何用其创建集群，请参阅<a href=/zh/docs/install target>正常安装</a>。</p>
<h2 id=准备工作>准备工作</h2>
<ul>
<li>准备一台兼容的 Linux 主机。Kubernetes 项目为基于 Debian 和 Red Hat 的 Linux
发行版以及一些不提供包管理器的发行版提供通用的指令。</li>
<li>每台主机至少 2 GB 或更多的内存（如果内存太少将影响应用的运行）</li>
<li>CPU 2 核或更多</li>
<li>集群中所有主机的网络连通（公网和内网）</li>
<li>单个节点上不能有重复的主机名、MAC 地址或 product_uuid，请参阅<a href=#verify-mac-address target=_blank>确保每个节点上 MAC 地址和 product_uuid 的唯一性</a>。</li>
<li>开启主机上的某些端口，请参阅<a href=#check-required-ports target=_blank>检查所需端口</a>。</li>
<li>禁用交换分区。为了保证 kubelet 正常工作，您<strong>必须</strong>禁用交换分区。</li>
</ul>
<h2 id=verify-mac-address>确保每个节点上 MAC 地址和 product_uuid 的唯一性 </h2>
<ul>
<li>使用命令 <code>ip link</code> 或 <code>ifconfig -a</code> 来获取网络接口的 MAC 地址</li>
<li>使用 <code>sudo cat /sys/class/dmi/id/product_uuid</code> 命令来校验 product_uuid</li>
</ul>
<p>一般来讲，硬件设备拥有唯一的地址，但是有些虚拟机的地址可能会重复。
Kubernetes 使用 MAC 地址和 product_uuid 来确定集群中的唯一节点。
如果这些值在每个节点上不唯一，可能会导致安装<a href=https://github.com/kubernetes/kubeadm/issues/31 target=_blank>失败</a>。</p>
<h2 id=检查网络适配器>检查网络适配器</h2>
<p>如果您有一个以上的网络适配器，同时您的 Kubernetes 组件通过默认路由不可达，我们建议您预先添加 IP 路由规则，这样 Kubernetes 集群就可以通过对应的适配器完成连接。</p>
<h2 id=允许-iptables-检查桥接流量>允许 iptables 检查桥接流量</h2>
<p>确保 <code>br_netfilter</code> 模块被加载。这一操作可以通过运行 <code>lsmod | grep br_netfilter</code>
来完成。若要显式加载该模块，可执行命令 <code>sudo modprobe br_netfilter</code>。</p>
<p>为了让您的 Linux 节点上的 iptables 能够正确地查看桥接流量，您需要确保在
<code>sysctl</code> 配置中将 <code>net.bridge.bridge-nf-call-iptables</code> 设置为 1。例如：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt;EOF | sudo tee /etc/modules-load.d/k8s.conf
</span><span style=color:#4e9a06>br_netfilter
</span><span style=color:#4e9a06>EOF</span>

cat <span style=color:#4e9a06>&lt;&lt;EOF | sudo tee /etc/sysctl.d/k8s.conf
</span><span style=color:#4e9a06>net.bridge.bridge-nf-call-ip6tables = 1
</span><span style=color:#4e9a06>net.bridge.bridge-nf-call-iptables = 1
</span><span style=color:#4e9a06>EOF</span>
sudo sysctl --system
</code></pre></div><p>更多细节请查阅<a href=https://kubernetes.io/zh/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/#network-plugin-requirements target=_blank>网络插件需求</a>页面。</p>
<h2 id=check-required-ports>检查所需端口</h2>
<h3 id=控制平面节点>控制平面节点</h3>
<table>
<thead>
<tr>
<th>协议</th>
<th>方向</th>
<th>端口范围</th>
<th>作用</th>
<th>使用者</th>
</tr>
</thead>
<tbody>
<tr>
<td>TCP</td>
<td>入站</td>
<td>6443</td>
<td>Kubernetes API 服务器</td>
<td>所有组件</td>
</tr>
<tr>
<td>TCP</td>
<td>入站</td>
<td>2379-2380</td>
<td>etcd 服务器客户端 API</td>
<td>kube-apiserver、etcd</td>
</tr>
<tr>
<td>TCP</td>
<td>入站</td>
<td>10250</td>
<td>Kubelet API</td>
<td>kubelet 自身、控制平面组件</td>
</tr>
<tr>
<td>TCP</td>
<td>入站</td>
<td>10251</td>
<td>kube-scheduler</td>
<td>kube-scheduler 自身</td>
</tr>
<tr>
<td>TCP</td>
<td>入站</td>
<td>10252</td>
<td>kube-controller-manager</td>
<td>kube-controller-manager 自身</td>
</tr>
</tbody>
</table>
<h3 id=工作节点>工作节点</h3>
<table>
<thead>
<tr>
<th>协议</th>
<th>方向</th>
<th>端口范围</th>
<th>作用</th>
<th>使用者</th>
</tr>
</thead>
<tbody>
<tr>
<td>TCP</td>
<td>入站</td>
<td>10250</td>
<td>Kubelet API</td>
<td>kubelet 自身、控制平面组件</td>
</tr>
<tr>
<td>TCP</td>
<td>入站</td>
<td>30000-32767</td>
<td>NodePort 服务</td>
<td>所有组件</td>
</tr>
</tbody>
</table>
<p>以上是 <a href=https://kubernetes.io/zh/docs/concepts/services-networking/service/ target=_blank>NodePort 服务</a>的默认端口范围。</p>
<p>使用 * 标记的任意端口号都可以被覆盖，所以您需要保证定制的端口是开放的。</p>
<p>虽然控制平面节点已经包含了 etcd 的端口，您也可以使用自定义的外部 etcd 集群，或指定自定义端口。</p>
<p>您使用的 Pod 网络插件 (见下) 也可能需要某些特定端口开启。由于各个 Pod 网络插件都有所不同，请参阅相应文档中的端口要求。</p>
<h2 id=设置节点名字>设置节点名字</h2>
<p>命令的语法格式如下：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>hostnamectl set-hostname your-new-host-name
<span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#34;127.0.0.1 </span><span style=color:#204a87;font-weight:700>$(</span>hostname<span style=color:#204a87;font-weight:700>)</span><span style=color:#4e9a06>&#34;</span> &gt;&gt; /etc/hosts
<span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#34;::1       </span><span style=color:#204a87;font-weight:700>$(</span>hostname<span style=color:#204a87;font-weight:700>)</span><span style=color:#4e9a06>&#34;</span> &gt;&gt; /etc/hosts
</code></pre></div><h2 id=关闭-swap>关闭 Swap</h2>
<p>执行以下命令关闭 Swap：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>swapoff -a
</code></pre></div><p>如果需要永久关闭，请编辑 <code>/etc/fstab</code> 文件，将 swap 的挂载路径改为注释。</p>
<h2 id=关闭-selinux>关闭 Selinux</h2>
<p>执行以下命令关闭 Selinux：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>setenforce <span style=color:#0000cf;font-weight:700>0</span>
</code></pre></div><p>如果需要永久关闭，请编辑 <code>/etc/sysconfig/selinux</code> 将 <code>SELINUX=enforcing</code> 替换为 <code>SELINUX=disabled</code>。</p>
<h2 id=installing-runtime>安装 runtime</h2>
<p>为了在 Pod 中运行容器，Kubernetes 使用容器运行时（Container Runtime）。</p>
<ul class="nav nav-tabs" id=container-runtimes role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#container-runtimes-0 role=tab aria-controls=container-runtimes-0 aria-selected=true>Linux 节点</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#container-runtimes-1 role=tab aria-controls=container-runtimes-1>其它操作系统</a></li></ul>
<div class=tab-content id=container-runtimes><div id=container-runtimes-0 class="tab-pane show active" role=tabpanel aria-labelledby=container-runtimes-0>
<p><p>默认情况下，Kubernetes 使用容器运行时接口（Container Runtime Interface，CRI）来与您所选择的容器运行时交互。</p>
<p>如果您不指定运行时，则 kubeadm 会自动尝试检测系统上已经安装的运行时，方法是扫描一组众所周知的 Unix 域套接字。</p>
<p>下面的表格列举了一些容器运行时及其对应的套接字路径：</p>
<table>
<thead>
<tr>
<th>运行时</th>
<th>域套接字</th>
</tr>
</thead>
<tbody>
<tr>
<td>Docker</td>
<td>/var/run/dockershim.sock</td>
</tr>
<tr>
<td>Containerd</td>
<td>/run/containerd/containerd.sock</td>
</tr>
<tr>
<td>CRI-O</td>
<td>/var/run/crio/crio.sock</td>
</tr>
</tbody>
</table>
<br>
如果同时检测到 Docker 和 Containerd，则优先选择 Docker。
这是必然的，即使您仅安装了 Docker，因为 Docker 18.09 附带了 Containerd，所以两者都是可以检测到的。
如果检测到其他两个或多个运行时，则 kubeadm 输出错误信息并退出。
<p>kubelet 通过内置的 <code>dockershim</code> CRI 实现与 Docker 集成。</p>
</div>
<div id=container-runtimes-1 class=tab-pane role=tabpanel aria-labelledby=container-runtimes-1>
<p><p>默认情况下， kubeadm 使用 docker 作为容器运行时。kubelet 通过内置的 <code>dockershim</code> CRI 实现与 Docker 集成。</p>
</div></div>
<ul class="nav nav-tabs" id=tabset-zhdocspre-install-3 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-zhdocspre-install-3-0 role=tab aria-controls=tabset-zhdocspre-install-3-0 aria-selected=true>Docker</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocspre-install-3-1 role=tab aria-controls=tabset-zhdocspre-install-3-1>Containerd</a></li></ul>
<div class=tab-content id=tabset-zhdocspre-install-3><div id=tabset-zhdocspre-install-3-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-zhdocspre-install-3-0>
<p>
<ul class="nav nav-tabs" id=tabset-zhdocspre-install-2 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-zhdocspre-install-2-0 role=tab aria-controls=tabset-zhdocspre-install-2-0 aria-selected=true>基于 Red Hat 的发行版</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-zhdocspre-install-2-1 role=tab aria-controls=tabset-zhdocspre-install-2-1>基于 Debian 的发行版</a></li></ul>
<div class=tab-content id=tabset-zhdocspre-install-2><div id=tabset-zhdocspre-install-2-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-zhdocspre-install-2-0>
<p><p>执行以下命令安装基于 Red Hat 发行版的 Docker：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yum install docker
</code></pre></div></div>
<div id=tabset-zhdocspre-install-2-1 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocspre-install-2-1>
<p><p>执行以下命令安装基于 Debian 发行版的 Docker：</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>apt-get install docker.io
</code></pre></div></div></div>
</div>
<div id=tabset-zhdocspre-install-3-1 class=tab-pane role=tabpanel aria-labelledby=tabset-zhdocspre-install-3-1>
<p><p>Containerd 官方默认只提供 amd64 架构的下载包，如果您采用的是其他基础架构，
可以从 Docker 官方仓库安装 <code>containerd.io</code> 软件包。在<a href=https://docs.docker.com/engine/install/#server target=_blank>安装 Docker 引擎</a>中
找到为各自的 Linux 发行版设置 Docker 存储库和安装 containerd.io 软件包的有关说明。</p>
<p>也可以使用以下源代码构建。</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#000>VERSION</span><span style=color:#ce5c00;font-weight:700>=</span>1.5.4
wget -c https://github.com/containerd/containerd/releases/download/v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>/containerd-<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>-linux-amd64.tar.gz
tar xvf containerd-<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>-linux-amd64.tar.gz -C /usr/local/
mkdir /etc/containerd/ <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> containerd config default &gt; /etc/containerd/config.toml
wget -c -O /etc/systemd/system/containerd.service https://raw.githubusercontent.com/containerd/containerd/main/containerd.service
systemctl start containerd <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> systemctl <span style=color:#204a87>enable</span> containerd
</code></pre></div></div></div>
<p>参阅<a href=https://kubernetes.io/zh/docs/setup/production-environment/container-runtimes/ target=_blank>容器运行时</a>以了解更多信息。</p>
<div class="text-muted mt-5 pt-3 border-top">
最后修改
2021.09.08
: <a href=https://github.com/klts-io/website/commit/570b59e23ab26cf37ce73ff4977e373ae4f8a7e9>minor changes (570b59e2)</a>
</div>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/klts-io aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack>
<a class=text-white target=_blank rel=noopener href=https://klts.slack.com aria-label=Slack>
<i class="fab fa-slack"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list">
<a class=text-white target=_blank rel=noopener href=mailto:klts-io@googlegroups.com aria-label="Developer mailing list">
<i class="fa fa-envelope"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2022 The KLTS.io Authors 版权所有</small>
<p class=mt-2><a href=/zh/about/>关于 KLTS</a></p>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script>
<script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script>
</body>
</html>