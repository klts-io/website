---
title: CVE-2019-11251
weight: -20190011251
short_description: |
  此漏洞可能允许攻击者利用 `kubectl cp` 命令，采用路径遍历(Path Traversal)的方式将容器 `tar` 包中的恶意文件写入所在主机上的任何路径，该过程仅受本地用户的系统权限限制。
---

{{< link text="漏洞详情" url="https://www.cvedetails.com/cve/CVE-2019-11251" >}}

此漏洞可能允许攻击者利用 `kubectl cp` 命令，采用路径遍历(Path Traversal)的方式将容器 `tar` 包中的恶意文件写入所在主机上的任何路径，该过程仅受本地用户的系统权限限制。

## 漏洞影响 {#scope}

该漏洞与不久前的 {{< link url="/docs/kubernetes/patches/cve-2019-1002101/" >}}、{{< link url="/docs/kubernetes/patches/cve-2019-11246/" >}}、{{< link url="/docs/kubernetes/patches/cve-2019-11249/" >}} 漏洞影响相似。

`kubectl cp` 命令用于用户容器和主机之间的文件拷贝，当从容器中拷贝文件时，`Kubernetes` 首先会在容器中执行 `tar` 命令创建相应的归档文件，然后发送给客户端，然后 `kubectl` 会在用户主机上进行相应解压操作。

如果容器 `tar` 包中包含恶意文件，当攻击者具有 `kubectl cp` 命令的执行权限时，可以利用路径遍历(Path Traversal)。

## 官方修复的版本 {#official-fixed}

- v1.15.4
- v1.14.7
- v1.13.11

## KLTS 修复的版本 {#klts-fixed}

- {{< link url="/docs/kubernetes/releases/v1.12/v1.12.10-lts.1/" >}} {{< link text="kubernetes/kubernetes#82503" url="https://github.com/kubernetes/kubernetes/pull/82503.patch" >}}
- {{< link url="/docs/kubernetes/releases/v1.11/v1.11.10-lts.1/" >}} {{< link text="kubernetes/kubernetes#82503" url="https://github.com/kubernetes/kubernetes/pull/82503.patch" >}}
- {{< link url="/docs/kubernetes/releases/v1.10/v1.10.13-lts.1/" >}} {{< link text="CVE-2019-11251.1.10.patch" url="https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2019-11251.1.10.patch" >}}
