<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.87.0"><link rel=canonical type=text/html href=/docs/>
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel="shortcut icon" href=/favicons/favicon.ico>
<link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192>
<title>Document | KLTS.io</title>
<meta name=description content="KLTS.io website"><meta property="og:title" content="Document">
<meta property="og:description" content="KLTS.io website">
<meta property="og:type" content="website">
<meta property="og:url" content="/docs/"><meta property="og:site_name" content="KLTS.io">
<meta itemprop=name content="Document">
<meta itemprop=description content="KLTS.io website"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Document">
<meta name=twitter:description content="KLTS.io website">
<link rel=preload href=/scss/main.min.650bdee92aa16b3ae39822dd8dfd62356c714a590c397f4abe76572440c62901.css as=style>
<link href=/scss/main.min.650bdee92aa16b3ae39822dd8dfd62356c714a590c397f4abe76572440c62901.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script>
</head>
<body class=td-section>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class=navbar-brand href=/>
<span class=navbar-logo><svg id="Graph" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><g id="KLTS_-_Graph_-_Light" data-name="KLTS - Graph - Light"><path id="Secondary" d="M174.54 276.539c-23.254 5.244-46.3 13.984-70.386 26.563V249.768A322.072 322.072.0 01153.4 232.2q11.784-3.111 23.743-5.193a84.322 84.322.0 00-2.6 49.53zm54.832-100.2c-18.627-17.387-38.964-31.808-61.2-44.965L119.7 159.357c29.816 15.76 52.067 30.719 69.575 45.639a84.135 84.135.0 0140.097-28.661zm20.63-4.1c1.983-.14 3.979-.237 6-.237a83.588 83.588.0 0141.393 10.916 251.959 251.959.0 00.78-28.448 297.8 297.8.0 00-6.564-53.245L256 80.664l-16.489 9.52c6.65 24.114 10.095 45.37 10.682 65.672Q250.433 164.112 250 172.237zm-64.76 129.007q-4.648 8.227-8.758 16.752a324.529 324.529.0 00-20.49 55.6l43.21 24.947c5.824-24.5 13.469-45.93 23.455-65.437A84.3 84.3.0 01185.242 301.244zM374.19 148.9c-19 18.863-37.743 34.831-58.691 47.809a83.826 83.826.0 0122.786 42.325c25.366-15.381 47.642-34.187 69.561-55.9v-14.8zM298.741 328.308A83.582 83.582.0 01256 340q-2.149.0-4.272-.108c1.842 4.863 3.807 9.68 5.93 14.446 8.355 18.751 19.118 37.369 33 56.991l41.757-24.108c-13.306-18.382-23.351-35.46-30.908-52.419C300.542 332.644 299.63 330.478 298.741 328.308zm40.874-64.358a83.578 83.578.0 01-18.131 44.635c26.246 8.936 54.539 14.141 86.362 16.028v-48.08a284.525 284.525.0 01-57.161-9.231Q345.087 265.763 339.615 263.95z" fill="#fff" opacity=".66"/><path id="Primary" d="M256 71.426l159.846 92.287V348.287L256 440.574 96.154 348.287V163.713L256 71.426M256 16 48.154 136V376L256 496 463.846 376V136L256 16zm0 204a36 36 0 11-25.456 10.544A35.767 35.767.0 01256 220m0-48a84 84 0 1059.4 24.6A83.738 83.738.0 00256 172z" fill="#fff"/><rect id="Frame" width="512" height="512" fill="none"/></g></svg></span><span class="text-uppercase font-weight-bold">KLTS.io</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/about/><span>About</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/blog/><span>Blog</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/docs/><span class=active>Document</span></a>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/zh/docs/>中文 Chinese</a>
</div>
</li>
</ul>
</div>
<div class="navbar-nav d-none d-lg-block">
<input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.4eaaec5c88b21a84a59499f5f1359751.json data-offline-search-base-href=/ data-offline-search-max-results=10>
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
</div>
<div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
</div>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<div class=td-content>
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.
</p><p>
<a href=/docs/>Return to the regular view of this page</a>.
</p>
</div>
<h1 class=title>Document</h1>
<ul>
<li>1: <a href=#pg-583fb1d89ccf082c48164b7b3e179cf3>Overview</a></li>
<li>2: <a href=#pg-50ddcb3cdb08fbe2ad5d04311c273b4c>Preparation</a></li>
<li>3: <a href=#pg-c170895d2a643e556fcae1338dee8dce>Install with Script</a></li>
<li>4: <a href=#pg-64407d3e6d5ef382426bdfbcae040c6a>Step-By-Step Install</a></li>
<li>5: <a href=#pg-cf1a7e96c5bc452942429f7b1a8d0306>Fixed CVEs</a></li>
<ul>
<li>5.1: <a href=#pg-be897afcde62036b99d0be161d71d482>CVE-2021-25741</a></li>
<li>5.2: <a href=#pg-d4317cf8912bca37373fe5558d2d6285>CVE-2021-3121</a></li>
<li>5.3: <a href=#pg-ce240d314dc85c8ab698d26f1466e5a2>CVE-2020-8559</a></li>
<li>5.4: <a href=#pg-5aa68ad2e414f83fec8b9beb2250fdd3>CVE-2020-8558</a></li>
<li>5.5: <a href=#pg-c1ec3633b18a80bee04f17816082420b>CVE-2020-8552</a></li>
<li>5.6: <a href=#pg-fa6c26ffb59581078942a7046be853db>CVE-2019-1002101</a></li>
<li>5.7: <a href=#pg-3bb42a6493fbd1d3d06aad85c3d8d1e7>CVE-2019-11251</a></li>
<li>5.8: <a href=#pg-da5de8654ce647927106ce1dae3b6382>CVE-2019-11248</a></li>
<li>5.9: <a href=#pg-d902d3ffd5b3d43bf94a51814ab569c7>CVE-2019-11247</a></li>
<li>5.10: <a href=#pg-17adf9e532c044f0bc96bf2fe6fabb70>CVE-2019-11246</a></li>
<li>5.11: <a href=#pg-678704d1c81cba20ab7f9af62e484052>CVE-2019-11245</a></li>
<li>5.12: <a href=#pg-9677918ea7ce2b1d4116bfb9d4d31512>CVE-2019-11249</a></li>
<li>5.13: <a href=#pg-66481705776642cc7da302c2a84c2907>nokmem</a></li>
</ul>
<li>6: <a href=#pg-9662232d61bca04520940eafdc2967e8>Release log</a></li>
<ul>
<li>6.1: <a href=#pg-4fa179b3f919d394dbeffd1ed1605e46>v1.23</a></li>
<ul>
<li>6.1.1: <a href=#pg-0baa225c967bd1ebbf764e2a5b8a571a>v1.23.4-lts.1</a></li>
</ul>
<li>6.2: <a href=#pg-c047e6d1ee8dacb74e7c5d5ab95bebcd>v1.22</a></li>
<ul>
<li>6.2.1: <a href=#pg-0fc555ad48f02740e6bc8881266dd9ff>v1.22.7-lts.1</a></li>
</ul>
<li>6.3: <a href=#pg-01eb7d3a82aab93a8a4b1d1e7efdfef9>v1.21</a></li>
<ul>
<li>6.3.1: <a href=#pg-74446b3a77f744c15bc6cfdae5d25a02>v1.21.10-lts.1</a></li>
</ul>
<li>6.4: <a href=#pg-20753a751036d9825dd1807db9fedb5f>v1.20</a></li>
<ul>
<li>6.4.1: <a href=#pg-d3e3289a812dbea417a18b1b47ce7b91>v1.20.16-lts.1</a></li>
</ul>
<li>6.5: <a href=#pg-f9de07315ec208fab6e5c13024a2ce64>v1.19</a></li>
<ul>
<li>6.5.1: <a href=#pg-101e741dc17aaa2791af948b2cc29d09>v1.19.16-lts.1</a></li>
<li>6.5.2: <a href=#pg-f677a41be7eb5d233978046bb3cf15a0>v1.19.16-lts.2</a></li>
</ul>
<li>6.6: <a href=#pg-6525c9e3fb6b93a7733196db45f3decf>v1.18</a></li>
<ul>
<li>6.6.1: <a href=#pg-3aad22b5fa10ac4b1170fe162f9be940>v1.18.20-lts.1</a></li>
<li>6.6.2: <a href=#pg-b4c871eee2d42bdcff8479ff2298fc97>v1.18.20-lts.2</a></li>
</ul>
<li>6.7: <a href=#pg-2270bff767707e56d3db5151552ee5e7>v1.17</a></li>
<ul>
<li>6.7.1: <a href=#pg-1912fbf1f803c511b573029d327eaab7>v1.17.17-lts.1</a></li>
</ul>
<li>6.8: <a href=#pg-10a9386cc9c8d0a78f738e74e8017feb>v1.16</a></li>
<ul>
<li>6.8.1: <a href=#pg-d809e31f592dc7918fa421d4d5fcad8a>v1.16.15-lts.1</a></li>
</ul>
<li>6.9: <a href=#pg-1c3b45c2635fddab2687cd5bdd3887e5>v1.15</a></li>
<ul>
<li>6.9.1: <a href=#pg-93eb576cef91a97a721b738b99609a65>v1.15.12-lts.1</a></li>
</ul>
<li>6.10: <a href=#pg-b006ac46509d2d3406cd0499bc3f1517>v1.14</a></li>
<ul>
<li>6.10.1: <a href=#pg-73f06559fbf8770b07e5a1b9124b796a>v1.14.10-lts.1</a></li>
</ul>
<li>6.11: <a href=#pg-c07a278d274fb18221e937fe0cf11ad8>v1.13</a></li>
<ul>
<li>6.11.1: <a href=#pg-54d322ad1fac2f6a8afd50a52e4d49fa>v1.13.12-lts.1</a></li>
</ul>
<li>6.12: <a href=#pg-e7a48963a7388a7bdcf3c2e0efa67f24>v1.12</a></li>
<ul>
<li>6.12.1: <a href=#pg-821074ba2798466a54d10d5e0f367ac2>v1.12.10-lts.1</a></li>
</ul>
<li>6.13: <a href=#pg-4505b460b3d867cd384f7ee57eb36337>v1.11</a></li>
<ul>
<li>6.13.1: <a href=#pg-c06aa76c9df9f82bd046eb0f01e0ea9c>v1.11.10-lts.1</a></li>
</ul>
<li>6.14: <a href=#pg-bcc7e5c745acc27b204884b44e0c3cbb>v1.10</a></li>
<ul>
<li>6.14.1: <a href=#pg-ffbcd5ebf3f1c36ebfe008f5a6ad4f0b>v1.10.13-lts.1</a></li>
</ul>
</ul>
<li>7: <a href=#pg-4ea5ec9f40d271955e679919836ca15a>Containerd</a></li>
<ul>
<li>7.1: <a href=#pg-dfed8f673232f42492878a06c4fd00a2>Fixed CVEs</a></li>
<ul>
<li>7.1.1: <a href=#pg-e9361514b1c4a6b356b66541847b30b2>CVE-2021-41103</a></li>
</ul>
<li>7.2: <a href=#pg-3e836e30cf6d82e7ba52f18ff1014469>Release log</a></li>
<ul>
<li>7.2.1: <a href=#pg-76e8223b4f091d4c1cd5a722d63e2101>v1.3.10</a></li>
<ul>
<li>7.2.1.1: <a href=#pg-273c262c63b2a67fab4478f1c1bb2bc3>v1.3.10-lts.1</a></li>
</ul>
</ul>
</ul>
<li>8: <a href=#pg-a7c9e10a31abdecaec5a338462a220a8>Developer Guide</a></li>
<ul>
<li>8.1: <a href=#pg-79fcc7e024580df9da30cdb10805eada>Clone</a></li>
<li>8.2: <a href=#pg-8da562538e76378aaf2ff1c50166f299>Dependencies</a></li>
</ul>
</ul>
<div class=content>
</div>
</div>
<div class=td-content>
<h1 id=pg-583fb1d89ccf082c48164b7b3e179cf3>1 - Overview</h1>
<p>KLTS, known as Kubernetes Long Term Support, has a primary mission to provide free long-term maintenance support for early versions of Kubernetes.</p>
<p>One of the reasons to maintain early versions is the fact that in a real production environment, the latest release is not the best or the most stable. In a normal case, a of Kubernetes is not available until one year after the initial release of a particular version. For details see <a href=#release-cycle>Kubernetes release cycle</a>. After the community aborts maintenance, KLTS will continue to maintain it in the next three years.</p>
<p>Why is the choice of most enterprises today to stay with early versions and not rush to upgrade?</p>
<ul>
<li>
<p>Firstly, the high frequency of upgrades may cause more risks and each upgrade must be fully verified. In the financial industry, the change cycle of a PaaS platform is usually relatively long, because once the updated version has a bug, it needs to be forced to roll back or quickly respond and upgrade to a updated version, which will cause unnecessary expenditures.</p>
</li>
<li>
<p>Secondly, once an enterprise upgrades their the Kubernetes kernel, some functional alternatives may not yet fully ready for production, and incompatibility often occurs in the production environment.</p>
</li>
<li>
<p>Finally, the Kubernetes community only supports minor version upgrades one by one, and does not support cross-version upgrades, because the later upgrades often have some uncontrollable factors that may cause some production problems.</p>
</li>
</ul>
<p>Therefore, the choice of most enterprises today is to stay with early versions and not rush to upgrade. But the Kubernetes community only maintains the most recent three to four releases, how can you keep early versions safe from the CVE bugs and vulnerabilities that the community may discover from time to time? That’s where KLTS comes in! We provide free maintenance support for early versions for up to three years, actively fix the CVE vulnerabilities and critical bugs.</p>
<h2 id=maint-cycle>KLTS release cycle</h2>
<p>Kubernetes versions are expressed as x.y.z, where x is the major version, y is the minor version, and z is the patch version. For the versions maintained by KLTS, it is followed by a string beginning with lts. For the convenience of communication, people often use the first two digits x.y to describe the Kubernetes version.</p>
<p>Assuming that the latest Kubernetes released by the community is x.y, according to the <a href=https://kubernetes.io/releases/version-skew-policy/#supported-versions>Version Skew Policy</a>, the community only maintains the latest three versions, and KLTS currently maintains nearly ten early versions starting from 1.10, as shown in the figure below.</p>
<img src=../klts_job.png width=750>
<p>When the Kubernetes community discovers new CVE vulnerabilities or bugs that may affect production, it may be affected not only the versions that the community is maintaining, but also the early versions that have been discontinued before but are still in use by some enterprises and cannot be upgraded rashly, which are maintained by the KLTS team. The current maintenance cycle of KLTS is as follows:</p>
<p><img src=../whatKLTSdoes.png alt="versions maintained by KLTS"></p>
<p>As shown above, the maintenance cycle of a certain version by the Kubernetes community is usually about one year, and KLTS can provide a long-term maintenance in the next three years until the code is incompatible, and then the corresponding version will be aborted.</p>
<h2 id=bug-fix>Bugs fixed by KLTS</h2>
<p>Some high-priority CVEs or serious bugs in the production environment may cause greater security risks. CVE security issues are the lifeblood of the cluster, so KLTS will fix mid-to-high-risk CVEs, and then fix major bugs to guarantee stable operation of the production environment.</p>
<p>As an example, the <a href=https://www.cvedetails.com/cve/CVE-2021-3121>CVE-2021-3121</a> vulnerability discovered in January 2021 has a CVSS score of 7.5. However, as of September 2021 the Kubernetes community:</p>
<ul>
<li>Only fixed four versions: 1.18, 1.19, 1.20, 1.21</li>
<li>Announced that “all prior versions remain exposed and users should stop using them immediately”</li>
<li>Requests to <a href=https://github.com/kubernetes/kubernetes/issues/101435>fix early versions</a> are denied:</li>
</ul>
<p><img src=../cve2021.png alt=CVE-2021-3121></p>
<p>KLTS addresses this situation by diligently fixing eight earlier versions that were heavily affected by the <a href=https://www.cvedetails.com/cve/CVE-2021-3121>CVE-2021-3121</a> vulnerability. No complaints, no demands!</p>
<ul>
<li>v1.17.17</li>
<li>v1.16.15</li>
<li>v1.15.12</li>
<li>v1.14.10</li>
<li>v1.13.12</li>
<li>v1.12.10</li>
<li>v1.11.10</li>
<li>v1.10.13</li>
</ul>
<p>If you feel that the KLTS team’s efforts are valuable and interesting to you, don’t hesitate to join the <a href=https://github.com/klts-io>KLTS community</a> to talk and contribute.</p>
<h2 id=klts-benefits>Welcome to talk and join</h2>
<p>After careful maintenance and diligent support by developers, KLTS brings the following results to these early versions:</p>
<ul>
<li><strong>Three-year maintenance period</strong>: KLTS will provide continuous maintenance for up to three years once the Kubernetes community aborts maintenance.</li>
<li><strong>Safe and stable</strong>: Minor version upgrades are safer with high compatibility. This kind of progressive upgrade is more stable. For example, the new features provided by the latest version may be very attractive, but it may not be able to meet the standards available for production and require a long time to adapt.</li>
<li><strong>Easy to install</strong>: Combined with domestic image acceleration, it natively supports Kubeadm, and CentOS, Ubuntu, and openSUSE, and also provides a one-click installation script.</li>
<li><strong>Open and transparent</strong>: KLTS is an open source project hosted on GitHub and the whole process is open.</li>
<li><strong>more in roadmap</strong>: Long-term maintenance of Containerd and other components will be added later.</li>
</ul>
<p>Here is a sincere invitation to developers. If you feel that the KLTS team’s contributions are valuable and make you trustworthy, you are welcome to join the KLTS community to talk and contribute. We look forward to any comments, suggestions, or solutions.</p>
<ul>
<li><a href=https://github.com/klts-io>KLTS community</a></li>
<li><a href=https://klts.slack.com/archives/C02H8DMB6SZ>KLTS Slack channel</a></li>
</ul>
<h2 id=release-cycle>Kubernetes release cycle</h2>
<p>The release cycle of recent ten versions by the Kubernetes community are as follows:</p>
<table>
<thead>
<tr>
<th style=text-align:left><strong>Ver.</strong></th>
<th style=text-align:left><strong>Initial date</strong></th>
<th style=text-align:left><strong>EOL date</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style=text-align:left>1.10</td>
<td style=text-align:left>2018-03-27</td>
<td style=text-align:left>2019-02-13</td>
</tr>
<tr>
<td style=text-align:left>1.11</td>
<td style=text-align:left>2018-07-28</td>
<td style=text-align:left>2019-05-01</td>
</tr>
<tr>
<td style=text-align:left>1.12</td>
<td style=text-align:left>2018-09-28</td>
<td style=text-align:left>2019-07-08</td>
</tr>
<tr>
<td style=text-align:left>1.13</td>
<td style=text-align:left>2018-12-04</td>
<td style=text-align:left>2019-10-15</td>
</tr>
<tr>
<td style=text-align:left>1.14</td>
<td style=text-align:left>2019-03-25</td>
<td style=text-align:left>2019-12-11</td>
</tr>
<tr>
<td style=text-align:left>1.15</td>
<td style=text-align:left>2019-07-20</td>
<td style=text-align:left>2020-05-06</td>
</tr>
<tr>
<td style=text-align:left>1.16</td>
<td style=text-align:left>2019-09-18</td>
<td style=text-align:left>2020-09-02</td>
</tr>
<tr>
<td style=text-align:left>1.17</td>
<td style=text-align:left>2019-12-08</td>
<td style=text-align:left>2021-01-13</td>
</tr>
<tr>
<td style=text-align:left>1.18</td>
<td style=text-align:left>2020-03-25</td>
<td style=text-align:left>2021-06-18</td>
</tr>
<tr>
<td style=text-align:left>1.19</td>
<td style=text-align:left>2020-08-26</td>
<td style=text-align:left>2021-10-28</td>
</tr>
<tr>
<td style=text-align:left>1.20</td>
<td style=text-align:left>2020-12-08</td>
<td style=text-align:left>2022-02-28</td>
</tr>
<tr>
<td style=text-align:left>1.21</td>
<td style=text-align:left>2021-04-08</td>
<td style=text-align:left>2022-06-28</td>
</tr>
<tr>
<td style=text-align:left>1.22</td>
<td style=text-align:left>2021-08-04</td>
<td style=text-align:left>2022-10-28</td>
</tr>
</tbody>
</table>
<p>An initial date refers to the date of first official release of a minor version such as 1.10.0, 1.11.0 … 1.22.0, etc.</p>
<p>An EOL date refers to the date of End Of Life (EOL) release, i.e., the community will not maintain this version from then on. This is the final bug-fix release about one year after the initial release.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-50ddcb3cdb08fbe2ad5d04311c273b4c>2 - Preparation</h1>
<p><img src=https://raw.githubusercontent.com/kubernetes/kubeadm/master/logos/stacked/color/kubeadm-stacked-color.png align=right width=150px>This page introduces some preparations before installation. For example, it is required to install the <code>kubeadm</code> toolbox to get started. For information on how to create a cluster with kubeadm, see the <a href=/docs/install target>Step-By-Step Install</a> page.</p>
<h2 id=before-you-start>Before you start</h2>
<p>You should prepare or perform the following actions:</p>
<ul>
<li>A compatible Linux host. The Kubernetes project provides generic instructions for Linux distributions based on Debian and Red Hat, and those distributions without a package manager.</li>
<li>2 GB or more of RAM per host (any less will leave little room for your apps.)</li>
<li>2 CPUs or more per host.</li>
<li>Good network connectivity between all nodes in the cluster (either public or on-premise network.)</li>
<li>The hostname, MAC address, and product_uuid shall be unique for every node. See <a href=#verify-mac-address target=_blank>here</a> for more details.</li>
<li>Open the required ports on the host. See <a href=#check-required-ports target=_blank>Check required ports</a> for more details.</li>
<li>Disable the swap partition. You <strong>MUST</strong> disable the swap partition to keep the kubelet working properly.</li>
</ul>
<h2 id=verify-mac-address>Verify the MAC address and product_uuid</h2>
<p>Verify the MAC address and product_uuid are unique for every node. Perform the following actions:</p>
<ul>
<li>Get the MAC address of the network interfaces using the command <code>ip link</code> or <code>ifconfig -a</code></li>
<li>Check the product_uuid using the command <code>sudo cat /sys/class/dmi/id/product_uuid</code></li>
</ul>
<p>It is very likely that hardware devices have unique addresses although some virtual machines may use identical addresses. Kubernetes uses these addresses to uniquely identify the nodes in the cluster. If these addresses are not unique to each node, the installation process may fail due to <a href=https://github.com/kubernetes/kubeadm/issues/31 target=_blank>some issues</a>.</p>
<h2 id=check-network-adapters>Check network adapters</h2>
<p>If you have more than one network adapter and your Kubernetes components are not reachable via the default route, it is recommended to add IP route(s) so the Kubernetes cluster can set up proper connections via the appropriate adapter.</p>
<h2 id=enable-iptables-discover-the-bridged-traffic>Enable iptables discover the bridged traffic</h2>
<p>Make sure that the <code>br_netfilter</code> module is loaded. This can be done by running <code>lsmod | grep br_netfilter</code>. To load it explicitly, you can run the command <code>sudo modprobe br_netfilter</code>.</p>
<p>To enable the iptables on your Linux node to correctly discover the bridged traffic, you should ensure <code>net.bridge.bridge-nf-call-iptables</code> is set to 1 in your <code>sysctl</code> config file, for example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt;EOF | sudo tee /etc/modules-load.d/k8s.conf
</span><span style=color:#4e9a06>br_netfilter
</span><span style=color:#4e9a06>EOF</span>

cat <span style=color:#4e9a06>&lt;&lt;EOF | sudo tee /etc/sysctl.d/k8s.conf
</span><span style=color:#4e9a06>net.bridge.bridge-nf-call-ip6tables = 1
</span><span style=color:#4e9a06>net.bridge.bridge-nf-call-iptables = 1
</span><span style=color:#4e9a06>EOF</span>
sudo sysctl --system
</code></pre></div><p>For more details see the <a href=https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/#network-plugin-requirements target=_blank>Network Plugin Requirements</a> page.</p>
<h2 id=check-required-ports>Check required ports</h2>
<p>This section lists all ports that you may use on your nodes.</p>
<h3 id=control-plane-nodes>Control-plane node(s)</h3>
<table>
<thead>
<tr>
<th>Protocol</th>
<th>Direction</th>
<th>Port Range</th>
<th>Purpose</th>
<th>Used By</th>
</tr>
</thead>
<tbody>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>6443*</td>
<td>Kubernetes API server</td>
<td>All</td>
</tr>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>2379-2380</td>
<td>etcd server client API</td>
<td>kube-apiserver, etcd</td>
</tr>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>10250</td>
<td>kubelet API</td>
<td>Self, Control plane</td>
</tr>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>10251</td>
<td>kube-scheduler</td>
<td>Self</td>
</tr>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>10252</td>
<td>kube-controller-manager</td>
<td>Self</td>
</tr>
</tbody>
</table>
<h3 id=worker-nodes>Worker node(s)</h3>
<table>
<thead>
<tr>
<th>Protocol</th>
<th>Direction</th>
<th>Port Range</th>
<th>Purpose</th>
<th>Used By</th>
</tr>
</thead>
<tbody>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>10250</td>
<td>kubelet API</td>
<td>Self, Control plane</td>
</tr>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>30000-32767</td>
<td>NodePort Services</td>
<td>All</td>
</tr>
</tbody>
</table>
<p>Above is the default port range for <a href=https://kubernetes.io/docs/concepts/services-networking/service/ target=_blank>NodePort Services</a>.</p>
<p>Any port numbers marked with * are overridable, so you will need to ensure any custom ports you provide are also open.</p>
<p>Although etcd ports are included in control-plane nodes, you can also host your own etcd cluster externally or on custom ports.</p>
<p>The pod network plugin you use (see below) may also require certain ports to be open. Since this differs with each pod network plugin, see the documentation for the plugins about what port(s) they need.</p>
<h2 id=set-a-host-name>Set a host name</h2>
<p>Set a hostname for your host by using the following command:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>hostnamectl set-hostname your-new-host-name
<span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#34;127.0.0.1 </span><span style=color:#204a87;font-weight:700>$(</span>hostname<span style=color:#204a87;font-weight:700>)</span><span style=color:#4e9a06>&#34;</span> &gt;&gt; /etc/hosts
<span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#34;::1       </span><span style=color:#204a87;font-weight:700>$(</span>hostname<span style=color:#204a87;font-weight:700>)</span><span style=color:#4e9a06>&#34;</span> &gt;&gt; /etc/hosts
</code></pre></div><h2 id=disable-swap>Disable Swap</h2>
<p>Run the following command to disable the partition swap:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>swapoff -a
</code></pre></div><p>If you want to disable swap permanently, edit the <code>/etc/fstab</code> file to comment out the swap mount.</p>
<h2 id=disable-selinux>Disable Selinux</h2>
<p>Run the following command to disable the selinux:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>setenforce <span style=color:#0000cf;font-weight:700>0</span>
</code></pre></div><p>If you want to disable selinux permanently, edit <code>/etc/sysconfig/selinux</code> and replace <code>SELINUX=enforcing</code> with <code>SELINUX=disabled</code>.</p>
<h2 id=installing-runtime>Install Runtime</h2>
<p>To run containers in Pods, Kubernetes uses a Container Runtime Interface (CRI).</p>
<ul class="nav nav-tabs" id=container-runtimes role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#container-runtimes-0 role=tab aria-controls=container-runtimes-0 aria-selected=true>Linux Node</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#container-runtimes-1 role=tab aria-controls=container-runtimes-1>Other OS</a></li></ul>
<div class=tab-content id=container-runtimes><div id=container-runtimes-0 class="tab-pane show active" role=tabpanel aria-labelledby=container-runtimes-0>
<p><p>By default, Kubernetes uses a CRI to interface with your chosen container runtime.</p>
<p>If you don&rsquo;t specify a runtime, kubeadm automatically tries to detect an installed container runtime by scanning through a list of well-known Unix domain sockets. The following table lists container runtimes and their associated socket paths:</p>
<table>
<thead>
<tr>
<th>Runtime</th>
<th>Path to Unix domain socket</th>
</tr>
</thead>
<tbody>
<tr>
<td>Docker</td>
<td>/var/run/dockershim.sock</td>
</tr>
<tr>
<td>Containerd</td>
<td>/run/containerd/containerd.sock</td>
</tr>
<tr>
<td>CRI-O</td>
<td>/var/run/crio/crio.sock</td>
</tr>
</tbody>
</table>
<br>
If both Docker and Containerd are detected, Docker takes precedence. This is inevitable because Docker 18.09 ships with Containerd and both are detectable even if you only installed Docker. If any other two or more runtimes are detected, kubeadm exits with an error.
<p>The kubelet integrates with Docker through the built-in <code>dockershim</code> CRI implementation.</p>
</div>
<div id=container-runtimes-1 class=tab-pane role=tabpanel aria-labelledby=container-runtimes-1>
<p><p>By default, kubeadm uses Docker as the container runtime. The kubelet integrates with Docker through the built-in <code>dockershim</code> CRI implementation.</p>
</div></div>
<ul class="nav nav-tabs" id=tabset-docspre-install-3 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-docspre-install-3-0 role=tab aria-controls=tabset-docspre-install-3-0 aria-selected=true>Docker</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-docspre-install-3-1 role=tab aria-controls=tabset-docspre-install-3-1>Containerd</a></li></ul>
<div class=tab-content id=tabset-docspre-install-3><div id=tabset-docspre-install-3-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-docspre-install-3-0>
<p>
<ul class="nav nav-tabs" id=tabset-docspre-install-2 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-docspre-install-2-0 role=tab aria-controls=tabset-docspre-install-2-0 aria-selected=true>Red Hat-based distributions</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-docspre-install-2-1 role=tab aria-controls=tabset-docspre-install-2-1>Debian-based distributions</a></li></ul>
<div class=tab-content id=tabset-docspre-install-2><div id=tabset-docspre-install-2-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-docspre-install-2-0>
<p><p>Run the following command to install a Red Hat-based distribution:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yum install docker
</code></pre></div></div>
<div id=tabset-docspre-install-2-1 class=tab-pane role=tabpanel aria-labelledby=tabset-docspre-install-2-1>
<p><p>Run the following command to install a Debian-based distribution:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>apt-get install docker.io
</code></pre></div></div></div>
</div>
<div id=tabset-docspre-install-3-1 class=tab-pane role=tabpanel aria-labelledby=tabset-docspre-install-3-1>
<p><p>By default, Containerd only provides download packages for the amd64 architecture. If you are using a different architecture, you can install the <code>containerd.io</code> package from the official Docker repository. Instructions for setting up the Docker repository and installing the <code>containerd.io</code> package for your respective Linux distribution can be found in <a href=https://docs.docker.com/engine/install/#server target=_blank>Installing the Docker Engine</a>.</p>
<p>You can also use the following source code to build.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#000>VERSION</span><span style=color:#ce5c00;font-weight:700>=</span>1.5.4
wget -c https://github.com/containerd/containerd/releases/download/v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>/containerd-<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>-linux-amd64.tar.gz
tar xvf containerd-<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>-linux-amd64.tar.gz -C /usr/local/
mkdir /etc/containerd/ <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> containerd config default &gt; /etc/containerd/config.toml
wget -c -O /etc/systemd/system/containerd.service https://raw.githubusercontent.com/containerd/containerd/main/containerd.service
systemctl start containerd <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> systemctl <span style=color:#204a87>enable</span> containerd
</code></pre></div></div></div>
<p>See <a href=https://kubernetes.io/docs/setup/production-environment/container-runtimes/ target=_blank>container runtimes</a> for more information.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c170895d2a643e556fcae1338dee8dce>3 - Install with Script</h1>
<p>KLTS provides a script that automates the installation process.</p>
<h2 id=install>Install</h2>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>wget https://github.com/klts-io/klts/raw/main/install.sh
chmod +x install.sh
./install.sh
</code></pre></div><pre><code class=language-console data-lang=console>Usage: ./install.sh [OPTIONS]
  -h, --help : Display this help and exit
  --kubernetes-container-registry=ghcr.io/klts-io/kubernetes-lts : Kubernetes container registry
  --kubernetes-version=1.18.20-lts.1 : Kubernetes version to install
  --containerd-version=1.3.10-lts.0 : Containerd version to install
  --runc-version=1.0.2-lts.0 : Runc version to install
  --kubernetes-rpm-source=https://github.com/klts-io/kubernetes-lts/raw/rpm-v1.18.20-lts.2 : Kubernetes RPM source
  --containerd-rpm-source=https://github.com/klts-io/containerd-lts/raw/rpm-v1.3.10-lts.0 : Containerd RPM source
  --runc-rpm-source=https://github.com/klts-io/runc-lts/raw/rpm-v1.0.2-lts.0 : Runc RPM source
  --others-rpm-source=https://github.com/klts-io/others/raw/rpm : Other RPM source
  --kubernetes-deb-source=https://github.com/klts-io/kubernetes-lts/raw/deb-v1.18.20-lts.2 : Kubernetes DEB source
  --containerd-deb-source=https://github.com/klts-io/containerd-lts/raw/deb-v1.3.10-lts.0 : Containerd DEB source
  --runc-deb-source=https://github.com/klts-io/runc-lts/raw/deb-v1.0.2-lts.0 : Runc DEB source
  --others-deb-source=https://github.com/klts-io/others/raw/deb : Other DEB source
  --focus=enable-iptables-discover-bridged-traffic,disable-swap,disable-selinux,setup-source,install-kubernetes,install-containerd,install-runc,install-crictl,install-cniplugins,setup-crictl-config,setup-containerd-cni-config,setup-kubelet-config,setup-containerd-config,daemon-reload,start-containerd,status-containerd,enable-containerd,start-kubelet,status-kubelet,enable-kubelet,images-pull,control-plane-init,status-nodes,show-join-command : Focus on specific step
  --skip='' : Skip on specific step
</code></pre>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-64407d3e6d5ef382426bdfbcae040c6a>4 - Step-By-Step Install</h1>
<p>KLTS provides a way to install source packages based on Deb and RPM. You can choose the installation method that suits your system.</p>
<p>Before installation, ensure that your <a href=/docs/pre-install target>Preparation</a> is good enough.</p>
<h2 id=set-the-klts-source-package>Set the KLTS source package</h2>
<ul class="nav nav-tabs" id=tabset-docsinstall-1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-docsinstall-1-0 role=tab aria-controls=tabset-docsinstall-1-0 aria-selected=true>Red Hat-based distributions</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-docsinstall-1-1 role=tab aria-controls=tabset-docsinstall-1-1>Debian-based distributions</a></li></ul>
<div class=tab-content id=tabset-docsinstall-1><div id=tabset-docsinstall-1-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-docsinstall-1-0>
<p><p>Run the following code to set the source of downloading a proper distribution:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; \EOF &gt; /etc/yum.repos.d/klts.repo
</span><span style=color:#4e9a06>[klts]
</span><span style=color:#4e9a06>name=klts
</span><span style=color:#4e9a06>baseurl=https://dl.klts.io/rpm/$basearch/
</span><span style=color:#4e9a06>enabled=1
</span><span style=color:#4e9a06>gpgcheck=0
</span><span style=color:#4e9a06>EOF</span>

yum makecache
</code></pre></div></div>
<div id=tabset-docsinstall-1-1 class=tab-pane role=tabpanel aria-labelledby=tabset-docsinstall-1-1>
<p><p>Run the following code to set the source of downloading a proper distribution:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#4e9a06>&lt;&lt; EOF &gt; /etc/apt/sources.list.d/klts.list
</span><span style=color:#4e9a06>deb [trusted=yes] https://dl.klts.io/deb stable main
</span><span style=color:#4e9a06>EOF</span>

apt-get update
</code></pre></div></div></div>
<h2 id=install>Install</h2>
<ul class="nav nav-tabs" id=tabset-docsinstall-4 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-docsinstall-4-0 role=tab aria-controls=tabset-docsinstall-4-0 aria-selected=true>Install</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-docsinstall-4-1 role=tab aria-controls=tabset-docsinstall-4-1>Install the specified releases</a></li></ul>
<div class=tab-content id=tabset-docsinstall-4><div id=tabset-docsinstall-4-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-docsinstall-4-0>
<p>
<ul class="nav nav-tabs" id=tabset-docsinstall-2 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-docsinstall-2-0 role=tab aria-controls=tabset-docsinstall-2-0 aria-selected=true>Red Hat-based distributions</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-docsinstall-2-1 role=tab aria-controls=tabset-docsinstall-2-1>Debian-based distributions</a></li></ul>
<div class=tab-content id=tabset-docsinstall-2><div id=tabset-docsinstall-2-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-docsinstall-2-0>
<p><p>Run the following code to install a proper distribution:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yum install kubeadm kubelet kubectl
</code></pre></div></div>
<div id=tabset-docsinstall-2-1 class=tab-pane role=tabpanel aria-labelledby=tabset-docsinstall-2-1>
<p><p>Run the following code to install a proper distribution:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>apt-get install kubeadm kubelet kubectl
</code></pre></div></div></div>
</div>
<div id=tabset-docsinstall-4-1 class=tab-pane role=tabpanel aria-labelledby=tabset-docsinstall-4-1>
<p>
<ul class="nav nav-tabs" id=tabset-docsinstall-3 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-docsinstall-3-0 role=tab aria-controls=tabset-docsinstall-3-0 aria-selected=true>Red Hat-based distributions</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-docsinstall-3-1 role=tab aria-controls=tabset-docsinstall-3-1>Debian-based distributions</a></li></ul>
<div class=tab-content id=tabset-docsinstall-3><div id=tabset-docsinstall-3-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-docsinstall-3-0>
<p><p>Run the following code to install a proper distribution:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#8f5902;font-style:italic># Search for supported releases</span>
yum search kubeadm --showduplicates <span style=color:#000;font-weight:700>|</span> grep kubeadm-

<span style=color:#8f5902;font-style:italic># Install</span>
<span style=color:#000>VERSION</span><span style=color:#ce5c00;font-weight:700>=</span>1.18.20-lts.2
yum install kubeadm-v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span> kubelet-v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span> kubectl-v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>
</code></pre></div></div>
<div id=tabset-docsinstall-3-1 class=tab-pane role=tabpanel aria-labelledby=tabset-docsinstall-3-1>
<p><p>Run the following code to install a proper distribution:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#8f5902;font-style:italic># Search for supported releases</span>
apt-cache show kubeadm <span style=color:#000;font-weight:700>|</span> grep Version

<span style=color:#8f5902;font-style:italic># Install</span>
<span style=color:#000>VERSION</span><span style=color:#ce5c00;font-weight:700>=</span>1.18.20-lts.2
apt-get install <span style=color:#000>kubeadm</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span> <span style=color:#000>kubelet</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span> <span style=color:#000>kubectl</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>
</code></pre></div></div></div>
</div></div>
<h2 id=auto-start-kubelet-on-boot>Auto-start Kubelet on boot</h2>
<p>Run the following code to start Kubelet on boot:</p>
<pre><code>systemctl enable kubelet
</code></pre><h2 id=pull-the-dependency-image>Pull the dependency image</h2>
<p>Run the following code to pull the dependency image:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#000>VERSION</span><span style=color:#ce5c00;font-weight:700>=</span>1.18.20-lts.2
<span style=color:#000>REPOS</span><span style=color:#ce5c00;font-weight:700>=</span>ghcr.io/klts-io/kubernetes-lts
kubeadm config images pull --image-repository <span style=color:#4e9a06>${</span><span style=color:#000>REPOS</span><span style=color:#4e9a06>}</span> --kubernetes-version v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>
</code></pre></div><p>All subsequent operations on Kubeadm need to include <code>--image-repository</code> and <code>--kubernetes-version</code> to actively specify the image.</p>
<h2 id=initialize-the-control-plane-node>Initialize the control plane node</h2>
<p>Run the following code to initialize the control plane node:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#000>VERSION</span><span style=color:#ce5c00;font-weight:700>=</span>1.18.20-lts.2
<span style=color:#000>REPOS</span><span style=color:#ce5c00;font-weight:700>=</span>ghcr.io/klts-io/kubernetes-lts
kubeadm init --image-repository <span style=color:#4e9a06>${</span><span style=color:#000>REPOS</span><span style=color:#4e9a06>}</span> --kubernetes-version v<span style=color:#4e9a06>${</span><span style=color:#000>VERSION</span><span style=color:#4e9a06>}</span>
</code></pre></div><p>For details see <a href=https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/ target=_blank>Create a cluster with kubeadm</a>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-cf1a7e96c5bc452942429f7b1a8d0306>5 - Fixed CVEs</h1>
</div>
<div class=td-content>
<h1 id=pg-be897afcde62036b99d0be161d71d482>5.1 - CVE-2021-25741</h1>
<a href=https://www.cvedetails.com/cve/CVE-2021-25741/ target=_blank>Vulnerability details</a>
<p>This is a volume security issue related to permission access. A user can access files and directories outside the volume mounting directory, including the host&rsquo;s file system, through the volume mounting method of <code>subpath</code> in the created container.</p>
<h2 id=scope>Scope</h2>
<p>This vulnerability affects related behaviors of <code>kubelet</code>, and the issue is particularly serious for cluster administrators who may strictly restrict the creation of <code>hostPath</code>.</p>
<h3 id=cvss>CVSS scores</h3>
<p>This vulnerability is rated as medium-risk with a <code>CVSS</code> score of 5.5.</p>
<h2 id=prevention>Prevention</h2>
<p>For users who do not want to upgrade kubelet, they can use two preventative measures:</p>
<ul>
<li>Disable <code>VolumeSubpath</code> for <code>kubelet</code> and <code>kube-apiserver</code> and remove all <code>pods</code> that are using this feature.</li>
<li>Use <code>admission control</code> to prevent users with low trust levels from running the container with the <code>root</code> permission.</li>
</ul>
<h2 id=official-fixed>Fixed by official</h2>
<ul>
<li>v1.22.2</li>
<li>v1.21.5</li>
<li>v1.20.11</li>
<li>v1.19.15</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.18/v1.18.20-lts.1 title="This is the first fixed release by KLTS for v1.18.20." data-toggle=tooltip data-placement=top target>v1.18.20-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/104253.patch target=_blank>kubernetes/kubernetes#104253</a></li>
<li><a href=/docs/releases/v1.17/v1.17.17-lts.1 title="This is the first fixed release by KLTS for v1.17.17." data-toggle=tooltip data-placement=top target>v1.17.17-lts.1</a> TODO</li>
<li><a href=/docs/releases/v1.16/v1.16.15-lts.1 title="This is the first fixed release by KLTS for v1.16.15." data-toggle=tooltip data-placement=top target>v1.16.15-lts.1</a> TODO</li>
<li><a href=/docs/releases/v1.15/v1.15.12-lts.1 title="This is the first fixed release by KLTS for v1.15.12." data-toggle=tooltip data-placement=top target>v1.15.12-lts.1</a> TODO</li>
<li><a href=/docs/releases/v1.14/v1.14.10-lts.1 title="This is the first fixed release by KLTS for v1.14.10." data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> TODO</li>
<li><a href=/docs/releases/v1.13/v1.13.12-lts.1 title="This is the first fixed release by KLTS for v1.13.12." data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> TODO</li>
<li><a href=/docs/releases/v1.12/v1.12.10-lts.1 title="This is the first fixed release by KLTS for v1.12.10." data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> TODO</li>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> TODO</li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> TODO</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d4317cf8912bca37373fe5558d2d6285>5.2 - CVE-2021-3121</h1>
<a href=https://www.cvedetails.com/cve/CVE-2021-3121 target=_blank>Vulnerability details</a>
<p>A program with this vulnerability may crash because of processing some messages that contain malicious <code>Protobuf</code>. If the version of <code>Gogo Protobuf</code> you are using is too low, this vulnerability may exist.</p>
<h2 id=scope>Scope</h2>
<p>The <code>Kubernetes</code> system component has its own recovery mechanism to deal with crashes and will not interrupt service when encountering a maliciously submitted <code>Protobuf</code> message, so it is not within the scope affected by the vulnerability.</p>
<p>When the program receives and processes the <code>Protobuf</code> message in the application system, if the component does not have a recovery mechanism to deal with the crash, then such programs are within the scope of the vulnerability, and the service may be interrupted when such a malicious attack comes.</p>
<p>The <code>Kubernetes</code> community has tested and verified that <code>API Server</code> is not affected by this vulnerability, but in order to prevent you from being affected by the hidden risk of this security vulnerability, the community has upgraded the relevant <code>Protobuf</code> files.</p>
<h2 id=prevention>Prevention</h2>
<p>If you use the automatically generated <code>Protobuf</code> message in your application code and find that the relevant component exits due to the following exception, the vulnerability may exist.</p>
<pre><code>panic: runtime error: index out of range [-9223372036854775804]

goroutine 1 [running]:

v1.(*MessageName).Unmarshal(0xc00006f1e8, 0xc0000281a8, 0xa, 0x10, 0xc00006f1b8, 0x1)

        .../protofile.pb.go:250 +0xb86
</code></pre><p>If you use a component related to the <code>Protobuf</code> message, it is recommended to upgrade the <code>Gogo Protobuf</code> compiler to the bug-fixed version (v1.3.2 or higher), and then regenerate the relevant <code>Protobuf</code> message based on the upgraded <code>Protobuf</code> compiler.</p>
<h2 id=official-fixed>Fixed by official</h2>
<ul>
<li>v1.21.1</li>
<li>v1.20.7</li>
<li>v1.19.11</li>
<li>v1.18.19</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.17/v1.17.17-lts.1 title="This is the first fixed release by KLTS for v1.17.17." data-toggle=tooltip data-placement=top target>v1.17.17-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/docs/releases/v1.16/v1.16.15-lts.1 title="This is the first fixed release by KLTS for v1.16.15." data-toggle=tooltip data-placement=top target>v1.16.15-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/docs/releases/v1.15/v1.15.12-lts.1 title="This is the first fixed release by KLTS for v1.15.12." data-toggle=tooltip data-placement=top target>v1.15.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/docs/releases/v1.14/v1.14.10-lts.1 title="This is the first fixed release by KLTS for v1.14.10." data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/docs/releases/v1.13/v1.13.12-lts.1 title="This is the first fixed release by KLTS for v1.13.12." data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/docs/releases/v1.12/v1.12.10-lts.1 title="This is the first fixed release by KLTS for v1.12.10." data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/101327.patch target=_blank>kubernetes/kubernetes#101327</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ce240d314dc85c8ab698d26f1466e5a2>5.3 - CVE-2020-8559</h1>
<a href=https://www.cvedetails.com/cve/CVE-2020-8559 target=_blank>Vulnerability details</a>
<p>This is a security vulnerability of the <code>kube-apiserver</code> component. An attacker can intercept certain upgrade requests sent to the node <code>kubelet</code>, and forward the request to other target nodes through the original access credentials in the request that could allow an attacker to escalate privileges from a node compromise to a full cluster compromise.</p>
<h2 id=scope>Scope</h2>
<p>Since <code>kube-apiserver</code> allows the request to be propagated back to the source client in the proxied upgrade request, the attacker can intercept certain upgrade requests sent to the node <code>kubelet</code>, and then use the original access credentials in the request to forward requests to other target nodes, resulting in a privilege escalation vulnerability on the attacked node.</p>
<h3 id=cvss>CVSS scores</h3>
<p>This vulnerability is rated as medium-risk with a <code>CVSS</code> score of 6.4. If multiple clusters share the same <code>CA</code> and authentication credentials, an attacker can use this vulnerability to attack other clusters. In this case, it is a high-risk vulnerability.</p>
<h2 id=prevention>Prevention</h2>
<p>For cross-node attacks in the cluster, it is recommended that you take the following preventative measures:</p>
<ul>
<li>Timely revoke <code>kubeconfig</code> credentials that may cause leakage potentially, and follow the least principle of minimum permissions to converge unnecessary <code>pods/exec</code>, <code>pods/attach</code>, <code>pods/portforward</code> and <code>proxy</code> resource models with the <code>RBAC</code> permission.</li>
</ul>
<h2 id=official-fixed>Fixed by official</h2>
<ul>
<li>v1.18.6</li>
<li>v1.17.9</li>
<li>v1.16.13</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.15/v1.15.12-lts.1 title="This is the first fixed release by KLTS for v1.15.12." data-toggle=tooltip data-placement=top target>v1.15.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92971.patch target=_blank>kubernetes/kubernetes#92971</a></li>
<li><a href=/docs/releases/v1.14/v1.14.10-lts.1 title="This is the first fixed release by KLTS for v1.14.10." data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92971.patch target=_blank>kubernetes/kubernetes#92971</a></li>
<li><a href=/docs/releases/v1.13/v1.13.12-lts.1 title="This is the first fixed release by KLTS for v1.13.12." data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> TODO</li>
<li><a href=/docs/releases/v1.12/v1.12.10-lts.1 title="This is the first fixed release by KLTS for v1.12.10." data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> TODO</li>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> TODO</li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> TODO</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5aa68ad2e414f83fec8b9beb2250fdd3>5.4 - CVE-2020-8558</h1>
<a href=https://www.cvedetails.com/cve/CVE-2020-8558 target=_blank>Vulnerability details</a>
<p>The <code>kube-proxy</code> component was found to set the kernel parameter <code>net.ipv4.conf.all.route_localnet=1</code> in both <code>iptables</code> and <code>ipvs</code> modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local <code>127.0.0.1</code> on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage.</p>
<h2 id=scope>Scope</h2>
<p>When an attacker has the capability of configuring host network or can access a container instance with the <code>CAP_NET_RAW</code> capability, he can get the <code>socket</code> service information by listening to <code>127.0.0.1</code> on the target node. If there is an exposed service that can be accessed by <code>127.0.0.1</code> and does not require any authentication on the target host, then the service information can be obtained by the attacker.</p>
<h3 id=cvss>CVSS scores</h3>
<ul>
<li>If the cluster <code>API Server</code> opens the non-authenticated port (default 8080), then the attacker may obtain information about the <code>API Server</code> interface, the threat level is high-risk vulnerabilities, and the score is 8.8.</li>
<li>If the cluster <code>API Server</code> closes non-authenticated ports by default, the threat level is medium-risk vulnerability, and the score is 5.4.</li>
</ul>
<h2 id=prevention>Prevention</h2>
<p>It is recommended that you take the following preventative measures:</p>
<p>If the business container needs to use the host network mode and listen on a non-secure port, you can mitigate this vulnerability by manually adding the <code>iptables</code> rule on the node.</p>
<p>Run the following command to configure the <code>iptables</code> rule in the cluster to deny non-local access traffic to <code>127.0.0.1</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>iptables -I INPUT --dst 127.0.0.0/8 ! --src 127.0.0.0/8 -m conntrack ! --ctstate RELATED,ESTABLISHED,DNAT -j DROP
</code></pre></div><p>If the cluster does not need to open the API Server insecure port, you can add <code>--insecure-port=0</code> to the kubernetes API server command line to disable the port.</p>
<p>If untrusted containers are running in the cluster, you can prohibit <code>Container</code> from enabling the <code>CAP_NET_RAW</code> capability, and disable the <code>Container</code>&rsquo;s <code>CAP_NET_RAW</code> capability in <code>pod spec</code>.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>securityContext</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>capabilities</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>drop</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#4e9a06>&#34;NET_RAW&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>Use <code>PodSecurityPolicy</code> to restrict deployment privileges or shared host network containers. In addition, you can configure <code>requiredDropCapabilities</code> in the policy to force container deployment to close the <code>CAP_NET_RAW</code> capability.</p>
<h2 id=official-fixed>Fixed by official</h2>
<ul>
<li>v1.18.4</li>
<li>v1.17.7</li>
<li>v1.16.11</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.15/v1.15.12-lts.1 title="This is the first fixed release by KLTS for v1.15.12." data-toggle=tooltip data-placement=top target>v1.15.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92040.patch target=_blank>kubernetes/kubernetes#92040</a></li>
<li><a href=/docs/releases/v1.14/v1.14.10-lts.1 title="This is the first fixed release by KLTS for v1.14.10." data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92040.patch target=_blank>kubernetes/kubernetes#92040</a></li>
<li><a href=/docs/releases/v1.13/v1.13.12-lts.1 title="This is the first fixed release by KLTS for v1.13.12." data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92040.patch target=_blank>kubernetes/kubernetes#92040</a></li>
<li><a href=/docs/releases/v1.12/v1.12.10-lts.1 title="This is the first fixed release by KLTS for v1.12.10." data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2020-8558.1.12.patch target=_blank>CVE-2020-8558.1.12.patch</a></li>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2020-8558.1.12.patch target=_blank>CVE-2020-8558.1.12.patch</a></li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> TODO</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c1ec3633b18a80bee04f17816082420b>5.5 - CVE-2020-8552</h1>
<a href=https://www.cvedetails.com/cve/CVE-2020-8552 target=_blank>Vulnerability details</a>
<p>This vulnerability may make the <code>API Server</code> vulnerable to a <code>DoS</code> (Denial of Service) attack caused by successful <code>API</code> requests.</p>
<h2 id=scope>Scope</h2>
<p><code>API Server</code> is vulnerable to a denial of service attack via successful <code>API</code> requests.</p>
<h2 id=official-fixed>Fixed by Official</h2>
<ul>
<li>v1.17.3</li>
<li>v1.16.7</li>
<li>v1.15.10</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.14/v1.14.10-lts.1 title="This is the first fixed release by KLTS for v1.14.10." data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2020-8552.1.14.patch target=_blank>CVE-2020-8552.1.14.patch</a></li>
<li><a href=/docs/releases/v1.13/v1.13.12-lts.1 title="This is the first fixed release by KLTS for v1.13.12." data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2020-8552.1.13.patch target=_blank>CVE-2020-8552.1.13.patch</a></li>
<li><a href=/docs/releases/v1.12/v1.12.10-lts.1 title="This is the first fixed release by KLTS for v1.12.10." data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2020-8552.1.13.patch target=_blank>CVE-2020-8552.1.13.patch</a></li>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2020-8552.1.11.patch target=_blank>CVE-2020-8552.1.11.patch</a></li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2020-8552.1.11.patch target=_blank>CVE-2020-8552.1.11.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-fa6c26ffb59581078942a7046be853db>5.6 - CVE-2019-1002101</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-1002101 target=_blank>Vulnerability details</a>
<p>This vulnerability may allow an attacker to modify or monitor any file in the directory with the same name in the symbolic link header during the unpacking process of the <code>kubectl cp</code> command, thereby causing damage.</p>
<h2 id=scope>Scope</h2>
<p>The <code>kubectl cp</code> command allows copying files between containers and the user machine. An attacker may implant a malicious <code>tar</code> package with a symbolic link header into the image or running container, and modify or monitor any file in the directory that has the same name as the symbolic link header during the unpacking process of the <code>cp</code> command, thereby causing damage.</p>
<h2 id=official-fixed>Fixed by Official</h2>
<ul>
<li>v1.14.1</li>
<li>v1.13.6</li>
<li>v1.12.8</li>
<li>v1.11.10</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2019-1002101.1.10.patch target=_blank>CVE-2019-1002101.1.10.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3bb42a6493fbd1d3d06aad85c3d8d1e7>5.7 - CVE-2019-11251</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11251 target=_blank>Vulnerability details</a>
<p>This vulnerability may allow an attacker to use the <code>kubectl cp</code> command to write malicious files in the container <code>tar</code> package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user.</p>
<h2 id=scope>Scope</h2>
<p>This vulnerability has a similar impact caused by <a href=/docs/patches/cve-2019-1002101 title="This vulnerability may allow an attacker to modify or monitor any file in the directory with the same name in the symbolic link header during the unpacking process of the kubectl cp command, thereby causing damage." data-toggle=tooltip data-placement=top target>CVE-2019-1002101</a>, <a href=/docs/patches/cve-2019-11246 title="This vulnerability may allow an attacker to use the kubectl cp command to write malicious files in the container tar package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user." data-toggle=tooltip data-placement=top target>CVE-2019-11246</a>, and <a href=/docs/patches/cve-2019-11249 title="This vulnerability may allow an attacker to use the kubectl cp command to write malicious files in the container tar package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user." data-toggle=tooltip data-placement=top target>CVE-2019-11249</a> that were found not long before.</p>
<p>The <code>kubectl cp</code> command allows copying files between containers and the user machine. To copy files from a container, <code>Kubernetes</code> runs <code>tar</code> inside the container to create a tar archive, copies it over the network, and <code>kubectl</code> unpacks it on the user’s machine.</p>
<p>If the tar binary in the container is malicious, it could run any code and output unexpected, malicious results. An attacker could use this to write files to any path (Path Traversal) on the user’s machine when kubectl cp is called.</p>
<h2 id=official-fixed>Fixed by Official</h2>
<ul>
<li>v1.15.4</li>
<li>v1.14.7</li>
<li>v1.13.11</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.12/v1.12.10-lts.1 title="This is the first fixed release by KLTS for v1.12.10." data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/82503.patch target=_blank>kubernetes/kubernetes#82503</a></li>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/82503.patch target=_blank>kubernetes/kubernetes#82503</a></li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2019-11251.1.10.patch target=_blank>CVE-2019-11251.1.10.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-da5de8654ce647927106ce1dae3b6382>5.8 - CVE-2019-11248</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11248 target=_blank>Vulnerability details</a>
<p>The debugging endpoint <code>/debug/pprof</code> is exposed over the unauthenticated Kubelet healthz port.</p>
<h2 id=scope>Scope</h2>
<p>The <code>go pprof</code> endpoint is exposed over the <code>Kubelet</code>&rsquo;s healthz port. This debugging endpoint can potentially leak sensitive information such as internal <code>Kubelet</code> memory addresses and configuration, or for limited denial of service. The issue is of medium severity, but not exposed by the default configuration.</p>
<h2 id=official-fixed>Fixed by Official</h2>
<ul>
<li>v1.14.4</li>
<li>v1.13.8</li>
<li>v1.12.10</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2019-11248.1.11.patch target=_blank>CVE-2019-11248.1.11.patch</a></li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2019-11248.1.11.patch target=_blank>CVE-2019-11248.1.11.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d902d3ffd5b3d43bf94a51814ab569c7>5.9 - CVE-2019-11247</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11247 target=_blank>Vulnerability details</a>
<p><code>API Server</code> mistakenly allows access to a cluster-scoped custom resource.</p>
<h2 id=scope>Scope</h2>
<p>The Kubernetes kube-apiserver mistakenly allows access to a cluster-scoped custom resource if the request is made as if the resource were namespaced.</p>
<p>Authorizations for the resource accessed in this manner are enforced using roles and role bindings within the namespace, meaning that a user with access only to a resource in one namespace could create, view update or delete the cluster-scoped resource (according to their namespace role privileges).</p>
<h2 id=official-fixed>Fixed by Official</h2>
<ul>
<li>v1.12.12</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2019-11247.1.11.patch target=_blank>CVE-2019-11247.1.11.patch</a></li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> TODO</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-17adf9e532c044f0bc96bf2fe6fabb70>5.10 - CVE-2019-11246</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11246 target=_blank>Vulnerability details</a>
<p>This vulnerability may allow an attacker to use the <code>kubectl cp</code> command to write malicious files in the container <code>tar</code> package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user.</p>
<h2 id=scope>Scope</h2>
<p>This vulnerability has a similar impact caused by <a href=/docs/patches/cve-2019-1002101 title="This vulnerability may allow an attacker to modify or monitor any file in the directory with the same name in the symbolic link header during the unpacking process of the kubectl cp command, thereby causing damage." data-toggle=tooltip data-placement=top target>CVE-2019-1002101</a> that was found not long before.</p>
<p>The <code>kubectl cp</code> command allows copying files between containers and the user machine. To copy files from a container, Kubernetes runs <code>tar</code> inside the container to create a tar archive, copies it over the network, and <code>kubectl</code> unpacks it on the user’s machine.</p>
<p>If the <code>tar</code> binary in the container is malicious, it could run any code and output unexpected, malicious results. An attacker could use this to write files to any path (Path Traversal) on the user’s machine when <code>kubectl cp</code> is called.</p>
<h2 id=official-fixed>Fixed by Official</h2>
<ul>
<li>v1.14.3</li>
<li>v1.13.7</li>
<li>v1.12.10</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2019-11246.1.11.patch target=_blank>CVE-2019-11246.1.11.patch</a></li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2019-11246.1.10.patch target=_blank>CVE-2019-11246.1.10.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-678704d1c81cba20ab7f9af62e484052>5.11 - CVE-2019-11245</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11245 target=_blank>Vulnerability details</a>
<p>Containers for pods that do not specify an explicit runAsUser attempt to run as <code>uid 0</code> (root) on container restart, or if the image was previously pulled to the node. If the pod specified <code>mustRunAsNonRoot: true</code>, the kubelet will refuse to start the container as root. If the pod did not specify <code>mustRunAsNonRoot: true</code>, the kubelet will run the container as <code>uid 0</code>.</p>
<h2 id=scope>Scope</h2>
<p>If a pod specifies <code>mustRunAsNonRoot: true</code>, the pod will run as <code>uid 0</code> when it restarts or the image is pulled on to a node.</p>
<h2 id=prevention>Prevention</h2>
<p>Specify <code>mustRunAsNonRoot: true</code> for pods.</p>
<h2 id=official-fixed>Fixed by Official</h2>
<ul>
<li>v1.14.3</li>
<li>v1.13.7</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.12/v1.12.10-lts.1 title="This is the first fixed release by KLTS for v1.12.10." data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/78320.patch target=_blank>kubernetes/kubernetes#78320</a></li>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/78320.patch target=_blank>kubernetes/kubernetes#78320</a></li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/78320.patch target=_blank>kubernetes/kubernetes#78320</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-9677918ea7ce2b1d4116bfb9d4d31512>5.12 - CVE-2019-11249</h1>
<a href=https://www.cvedetails.com/cve/CVE-2019-11249 target=_blank>Vulnerability details</a>
<p>This vulnerability may allow an attacker to use the <code>kubectl cp</code> command to write malicious files in the container <code>tar</code> package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user.</p>
<h2 id=scope>Scope</h2>
<p>This vulnerability has a similar impact caused by <a href=/docs/patches/cve-2019-1002101 title="This vulnerability may allow an attacker to modify or monitor any file in the directory with the same name in the symbolic link header during the unpacking process of the kubectl cp command, thereby causing damage." data-toggle=tooltip data-placement=top target>CVE-2019-1002101</a> and <a href=/docs/patches/cve-2019-11246 title="This vulnerability may allow an attacker to use the kubectl cp command to write malicious files in the container tar package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user." data-toggle=tooltip data-placement=top target>CVE-2019-11246</a> that were found not long before.</p>
<p>The <code>kubectl cp</code> command allows copying files between containers and the user machine. To copy files from a container, <code>Kubernetes</code> runs <code>tar</code> inside the container to create a tar archive, copies it over the network, and <code>kubectl</code> unpacks it on the user’s machine.</p>
<p>If the tar binary in the container is malicious, it could run any code and output unexpected, malicious results. An attacker could use this to write files to any path (Path Traversal) on the user’s machine when kubectl cp is called.</p>
<h2 id=official-fixed>Fixed by Official</h2>
<ul>
<li>v1.15.2</li>
<li>v1.14.5</li>
<li>v1.13.9</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.12/v1.12.10-lts.1 title="This is the first fixed release by KLTS for v1.12.10." data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2019-11249.1.12.patch target=_blank>CVE-2019-11249.1.12.patch</a></li>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2019-11249.1.12.patch target=_blank>CVE-2019-11249.1.12.patch</a></li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2019-11249.1.10.patch target=_blank>CVE-2019-11249.1.10.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-66481705776642cc7da302c2a84c2907>5.13 - nokmem</h1>
<a href="https://bugzilla.redhat.com/show_bug.cgi?id=1507149" target=_blank>Bug details</a>
<p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p>
<h2 id=scope>Scope</h2>
<p>When the node is used for a long time, it prompts an error that the remaining space is insufficient. The error message is as follows:</p>
<pre><code>mkdir: cannot create directory '/sys/fs/cgroup/memory/8': No space left on device
</code></pre><p>The node disk is sufficient but reports this error, and the creation of <code>Pod</code> always fails. This is a potential &ldquo;time bomb&rdquo;.</p>
<p>All environments that use early-version kernels and Kubernetes versions before 1.22 will be affected. In runc 1.0.0-rc94 (<a href=https://github.com/opencontainers%20/runc/pull/2840 target=_blank>opencontainers/runc#2840</a>) it has been fixed (removed directly).</p>
<h2 id=prevention>Prevention</h2>
<ul>
<li>Upgrade the system kernel</li>
<li>Kubernetes 1.14 or higher
<ul>
<li>Rebuild Kubelet with <code>-tags=nokmem</code></li>
</ul>
</li>
<li>Kubernetes 1.14 or earlier
<ul>
<li>For hard coding, refer to <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.13.patch target=_blank>nokmem.1.13.patch</a></li>
</ul>
</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.23/v1.23.4-lts.1 title="This is the first fixed release by KLTS for v1.23.4." data-toggle=tooltip data-placement=top target>v1.23.4-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.19.patch target=_blank>nokmem.1.19.patch</a></li>
<li><a href=/docs/releases/v1.22/v1.22.7-lts.1 title="This is the first fixed release by KLTS for v1.22.7." data-toggle=tooltip data-placement=top target>v1.22.7-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.19.patch target=_blank>nokmem.1.19.patch</a></li>
<li><a href=/docs/releases/v1.21/v1.21.10-lts.1 title="This is the first fixed release by KLTS for v1.21.10." data-toggle=tooltip data-placement=top target>v1.21.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.19.patch target=_blank>nokmem.1.19.patch</a></li>
<li><a href=/docs/releases/v1.20/v1.20.16-lts.1 title="This is the first fixed release by KLTS for v1.20.16." data-toggle=tooltip data-placement=top target>v1.20.16-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.19.patch target=_blank>nokmem.1.19.patch</a></li>
<li><a href=/docs/releases/v1.19/v1.19.16-lts.1 title="This is the first fixed release by KLTS for v1.19.16." data-toggle=tooltip data-placement=top target>v1.19.16-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.19.patch target=_blank>nokmem.1.19.patch</a></li>
<li><a href=/docs/releases/v1.18/v1.18.20-lts.1 title="This is the first fixed release by KLTS for v1.18.20." data-toggle=tooltip data-placement=top target>v1.18.20-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.19.patch target=_blank>nokmem.1.19.patch</a></li>
<li><a href=/docs/releases/v1.17/v1.17.17-lts.1 title="This is the first fixed release by KLTS for v1.17.17." data-toggle=tooltip data-placement=top target>v1.17.17-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.19.patch target=_blank>nokmem.1.19.patch</a></li>
<li><a href=/docs/releases/v1.16/v1.16.15-lts.1 title="This is the first fixed release by KLTS for v1.16.15." data-toggle=tooltip data-placement=top target>v1.16.15-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.19.patch target=_blank>nokmem.1.19.patch</a></li>
<li><a href=/docs/releases/v1.15/v1.15.12-lts.1 title="This is the first fixed release by KLTS for v1.15.12." data-toggle=tooltip data-placement=top target>v1.15.12-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.19.patch target=_blank>nokmem.1.19.patch</a></li>
<li><a href=/docs/releases/v1.14/v1.14.10-lts.1 title="This is the first fixed release by KLTS for v1.14.10." data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.19.patch target=_blank>nokmem.1.19.patch</a></li>
<li><a href=/docs/releases/v1.13/v1.13.12-lts.1 title="This is the first fixed release by KLTS for v1.13.12." data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.13.patch target=_blank>nokmem.1.13.patch</a></li>
<li><a href=/docs/releases/v1.12/v1.12.10-lts.1 title="This is the first fixed release by KLTS for v1.12.10." data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.13.patch target=_blank>nokmem.1.13.patch</a></li>
<li><a href=/docs/releases/v1.11/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.13.patch target=_blank>nokmem.1.13.patch</a></li>
<li><a href=/docs/releases/v1.10/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/nokmem.1.13.patch target=_blank>nokmem.1.13.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-9662232d61bca04520940eafdc2967e8>6 - Release log</h1>
</div>
<div class=td-content>
<h1 id=pg-4fa179b3f919d394dbeffd1ed1605e46>6.1 - v1.23</h1>
</div>
<div class=td-content>
<h1 id=pg-0baa225c967bd1ebbf764e2a5b8a571a>6.1.1 - v1.23.4-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.23.4.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c047e6d1ee8dacb74e7c5d5ab95bebcd>6.2 - v1.22</h1>
</div>
<div class=td-content>
<h1 id=pg-0fc555ad48f02740e6bc8881266dd9ff>6.2.1 - v1.22.7-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.22.7.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-01eb7d3a82aab93a8a4b1d1e7efdfef9>6.3 - v1.21</h1>
</div>
<div class=td-content>
<h1 id=pg-74446b3a77f744c15bc6cfdae5d25a02>6.3.1 - v1.21.10-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.21.10.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-20753a751036d9825dd1807db9fedb5f>6.4 - v1.20</h1>
</div>
<div class=td-content>
<h1 id=pg-d3e3289a812dbea417a18b1b47ce7b91>6.4.1 - v1.20.16-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.20.16.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f9de07315ec208fab6e5c13024a2ce64>6.5 - v1.19</h1>
</div>
<div class=td-content>
<h1 id=pg-101e741dc17aaa2791af948b2cc29d09>6.5.1 - v1.19.16-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.19.16.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f677a41be7eb5d233978046bb3cf15a0>6.5.2 - v1.19.16-lts.2</h1>
<p>This is the second fixed release by KLTS for v1.19.16.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/cve-2020-8554 target>/docs/patches/cve-2020-8554/</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6525c9e3fb6b93a7733196db45f3decf>6.6 - v1.18</h1>
</div>
<div class=td-content>
<h1 id=pg-3aad22b5fa10ac4b1170fe162f9be940>6.6.1 - v1.18.20-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.18.20.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
<li><a href=/docs/patches/cve-2021-25741 title="This is a volume security issue related to permission access. A user can access files and directories outside the volume mounting directory, including the host&rsquo;s file system, through the volume mounting method of subpath in the created container." data-toggle=tooltip data-placement=top target>CVE-2021-25741</a><p>This is a volume security issue related to permission access. A user can access files and directories outside the volume mounting directory, including the host&rsquo;s file system, through the volume mounting method of <code>subpath</code> in the created container.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b4c871eee2d42bdcff8479ff2298fc97>6.6.2 - v1.18.20-lts.2</h1>
<p>This is the second fixed release by KLTS for v1.18.20.</p>
<h2 id=patches>Patches</h2>
<ul>
<li>Bugfix: reducing race risk in kubelet for missing KUBERNETES_SERVICE_HOST</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2270bff767707e56d3db5151552ee5e7>6.7 - v1.17</h1>
</div>
<div class=td-content>
<h1 id=pg-1912fbf1f803c511b573029d327eaab7>6.7.1 - v1.17.17-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.17.17.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/cve-2021-3121 title="A program with this vulnerability may crash because of processing some messages that contain malicious Protobuf. If the version of Gogo Protobuf you are using is too low, this vulnerability may exist." data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>A program with this vulnerability may crash because of processing some messages that contain malicious <code>Protobuf</code>. If the version of <code>Gogo Protobuf</code> you are using is too low, this vulnerability may exist.</p></li>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-10a9386cc9c8d0a78f738e74e8017feb>6.8 - v1.16</h1>
</div>
<div class=td-content>
<h1 id=pg-d809e31f592dc7918fa421d4d5fcad8a>6.8.1 - v1.16.15-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.16.15.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/cve-2021-3121 title="A program with this vulnerability may crash because of processing some messages that contain malicious Protobuf. If the version of Gogo Protobuf you are using is too low, this vulnerability may exist." data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>A program with this vulnerability may crash because of processing some messages that contain malicious <code>Protobuf</code>. If the version of <code>Gogo Protobuf</code> you are using is too low, this vulnerability may exist.</p></li>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1c3b45c2635fddab2687cd5bdd3887e5>6.9 - v1.15</h1>
</div>
<div class=td-content>
<h1 id=pg-93eb576cef91a97a721b738b99609a65>6.9.1 - v1.15.12-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.15.12.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/cve-2020-8558 title="The kube-proxy component was found to set the kernel parameter net.ipv4.conf.all.route_localnet=1 in both iptables and ipvs modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local 127.0.0.1 on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage." data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p>The <code>kube-proxy</code> component was found to set the kernel parameter <code>net.ipv4.conf.all.route_localnet=1</code> in both <code>iptables</code> and <code>ipvs</code> modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local <code>127.0.0.1</code> on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage.</p></li>
<li><a href=/docs/patches/cve-2021-3121 title="A program with this vulnerability may crash because of processing some messages that contain malicious Protobuf. If the version of Gogo Protobuf you are using is too low, this vulnerability may exist." data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>A program with this vulnerability may crash because of processing some messages that contain malicious <code>Protobuf</code>. If the version of <code>Gogo Protobuf</code> you are using is too low, this vulnerability may exist.</p></li>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b006ac46509d2d3406cd0499bc3f1517>6.10 - v1.14</h1>
</div>
<div class=td-content>
<h1 id=pg-73f06559fbf8770b07e5a1b9124b796a>6.10.1 - v1.14.10-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.14.10.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/cve-2020-8552 title="This vulnerability may make the API Server vulnerable to a DoS (Denial of Service) attack caused by successful API requests." data-toggle=tooltip data-placement=top target>CVE-2020-8552</a><p>This vulnerability may make the <code>API Server</code> vulnerable to a <code>DoS</code> (Denial of Service) attack caused by successful <code>API</code> requests.</p></li>
<li><a href=/docs/patches/cve-2020-8558 title="The kube-proxy component was found to set the kernel parameter net.ipv4.conf.all.route_localnet=1 in both iptables and ipvs modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local 127.0.0.1 on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage." data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p>The <code>kube-proxy</code> component was found to set the kernel parameter <code>net.ipv4.conf.all.route_localnet=1</code> in both <code>iptables</code> and <code>ipvs</code> modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local <code>127.0.0.1</code> on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage.</p></li>
<li><a href=/docs/patches/cve-2020-8559 title="This is a security vulnerability of the kube-apiserver component. An attacker can intercept certain upgrade requests sent to the node kubelet, and forward the request to other target nodes through the original access credentials in the request that could allow an attacker to escalate privileges from a node compromise to a full cluster compromise." data-toggle=tooltip data-placement=top target>CVE-2020-8559</a><p>This is a security vulnerability of the <code>kube-apiserver</code> component. An attacker can intercept certain upgrade requests sent to the node <code>kubelet</code>, and forward the request to other target nodes through the original access credentials in the request that could allow an attacker to escalate privileges from a node compromise to a full cluster compromise.</p></li>
<li><a href=/docs/patches/cve-2021-3121 title="A program with this vulnerability may crash because of processing some messages that contain malicious Protobuf. If the version of Gogo Protobuf you are using is too low, this vulnerability may exist." data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>A program with this vulnerability may crash because of processing some messages that contain malicious <code>Protobuf</code>. If the version of <code>Gogo Protobuf</code> you are using is too low, this vulnerability may exist.</p></li>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c07a278d274fb18221e937fe0cf11ad8>6.11 - v1.13</h1>
</div>
<div class=td-content>
<h1 id=pg-54d322ad1fac2f6a8afd50a52e4d49fa>6.11.1 - v1.13.12-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.13.12.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/cve-2020-8552 title="This vulnerability may make the API Server vulnerable to a DoS (Denial of Service) attack caused by successful API requests." data-toggle=tooltip data-placement=top target>CVE-2020-8552</a><p>This vulnerability may make the <code>API Server</code> vulnerable to a <code>DoS</code> (Denial of Service) attack caused by successful <code>API</code> requests.</p></li>
<li><a href=/docs/patches/cve-2020-8558 title="The kube-proxy component was found to set the kernel parameter net.ipv4.conf.all.route_localnet=1 in both iptables and ipvs modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local 127.0.0.1 on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage." data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p>The <code>kube-proxy</code> component was found to set the kernel parameter <code>net.ipv4.conf.all.route_localnet=1</code> in both <code>iptables</code> and <code>ipvs</code> modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local <code>127.0.0.1</code> on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage.</p></li>
<li>TODO <a href=/docs/patches/cve-2020-8559 title="This is a security vulnerability of the kube-apiserver component. An attacker can intercept certain upgrade requests sent to the node kubelet, and forward the request to other target nodes through the original access credentials in the request that could allow an attacker to escalate privileges from a node compromise to a full cluster compromise." data-toggle=tooltip data-placement=top target>CVE-2020-8559</a><p>This is a security vulnerability of the <code>kube-apiserver</code> component. An attacker can intercept certain upgrade requests sent to the node <code>kubelet</code>, and forward the request to other target nodes through the original access credentials in the request that could allow an attacker to escalate privileges from a node compromise to a full cluster compromise.</p></li>
<li><a href=/docs/patches/cve-2021-3121 title="A program with this vulnerability may crash because of processing some messages that contain malicious Protobuf. If the version of Gogo Protobuf you are using is too low, this vulnerability may exist." data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>A program with this vulnerability may crash because of processing some messages that contain malicious <code>Protobuf</code>. If the version of <code>Gogo Protobuf</code> you are using is too low, this vulnerability may exist.</p></li>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e7a48963a7388a7bdcf3c2e0efa67f24>6.12 - v1.12</h1>
</div>
<div class=td-content>
<h1 id=pg-821074ba2798466a54d10d5e0f367ac2>6.12.1 - v1.12.10-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.12.10.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/cve-2019-11245 title="Containers for pods that do not specify an explicit runAsUser attempt to run as uid 0 (root) on container restart, or if the image was previously pulled to the node." data-toggle=tooltip data-placement=top target>CVE-2019-11245</a><p>Containers for pods that do not specify an explicit runAsUser attempt to run as uid 0 (root) on container restart, or if the image was previously pulled to the node.</p></li>
<li><a href=/docs/patches/cve-2019-11247 title="API Server mistakenly allows access to a cluster-scoped custom resource." data-toggle=tooltip data-placement=top target>CVE-2019-11247</a><p><code>API Server</code> mistakenly allows access to a cluster-scoped custom resource.</p></li>
<li><a href=/docs/patches/cve-2019-11249 title="This vulnerability may allow an attacker to use the kubectl cp command to write malicious files in the container tar package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user." data-toggle=tooltip data-placement=top target>CVE-2019-11249</a><p>This vulnerability may allow an attacker to use the <code>kubectl cp</code> command to write malicious files in the container <code>tar</code> package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user.</p></li>
<li><a href=/docs/patches/cve-2019-11251 title="This vulnerability may allow an attacker to use the kubectl cp command to write malicious files in the container tar package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user." data-toggle=tooltip data-placement=top target>CVE-2019-11251</a><p>This vulnerability may allow an attacker to use the <code>kubectl cp</code> command to write malicious files in the container <code>tar</code> package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user.</p></li>
<li><a href=/docs/patches/cve-2020-8552 title="This vulnerability may make the API Server vulnerable to a DoS (Denial of Service) attack caused by successful API requests." data-toggle=tooltip data-placement=top target>CVE-2020-8552</a><p>This vulnerability may make the <code>API Server</code> vulnerable to a <code>DoS</code> (Denial of Service) attack caused by successful <code>API</code> requests.</p></li>
<li><a href=/docs/patches/cve-2020-8558 title="The kube-proxy component was found to set the kernel parameter net.ipv4.conf.all.route_localnet=1 in both iptables and ipvs modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local 127.0.0.1 on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage." data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p>The <code>kube-proxy</code> component was found to set the kernel parameter <code>net.ipv4.conf.all.route_localnet=1</code> in both <code>iptables</code> and <code>ipvs</code> modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local <code>127.0.0.1</code> on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage.</p></li>
<li>TODO <a href=/docs/patches/cve-2020-8559 title="This is a security vulnerability of the kube-apiserver component. An attacker can intercept certain upgrade requests sent to the node kubelet, and forward the request to other target nodes through the original access credentials in the request that could allow an attacker to escalate privileges from a node compromise to a full cluster compromise." data-toggle=tooltip data-placement=top target>CVE-2020-8559</a><p>This is a security vulnerability of the <code>kube-apiserver</code> component. An attacker can intercept certain upgrade requests sent to the node <code>kubelet</code>, and forward the request to other target nodes through the original access credentials in the request that could allow an attacker to escalate privileges from a node compromise to a full cluster compromise.</p></li>
<li><a href=/docs/patches/cve-2021-3121 title="A program with this vulnerability may crash because of processing some messages that contain malicious Protobuf. If the version of Gogo Protobuf you are using is too low, this vulnerability may exist." data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>A program with this vulnerability may crash because of processing some messages that contain malicious <code>Protobuf</code>. If the version of <code>Gogo Protobuf</code> you are using is too low, this vulnerability may exist.</p></li>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4505b460b3d867cd384f7ee57eb36337>6.13 - v1.11</h1>
</div>
<div class=td-content>
<h1 id=pg-c06aa76c9df9f82bd046eb0f01e0ea9c>6.13.1 - v1.11.10-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.11.10.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/cve-2019-11245 title="Containers for pods that do not specify an explicit runAsUser attempt to run as uid 0 (root) on container restart, or if the image was previously pulled to the node." data-toggle=tooltip data-placement=top target>CVE-2019-11245</a><p>Containers for pods that do not specify an explicit runAsUser attempt to run as uid 0 (root) on container restart, or if the image was previously pulled to the node.</p></li>
<li><a href=/docs/patches/cve-2019-11246 title="This vulnerability may allow an attacker to use the kubectl cp command to write malicious files in the container tar package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user." data-toggle=tooltip data-placement=top target>CVE-2019-11246</a><p>This vulnerability may allow an attacker to use the <code>kubectl cp</code> command to write malicious files in the container <code>tar</code> package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user.</p></li>
<li><a href=/docs/patches/cve-2019-11247 title="API Server mistakenly allows access to a cluster-scoped custom resource." data-toggle=tooltip data-placement=top target>CVE-2019-11247</a><p><code>API Server</code> mistakenly allows access to a cluster-scoped custom resource.</p></li>
<li><a href=/docs/patches/cve-2019-11248 title="The debugging endpoint /debug/pprof is exposed over the unauthenticated Kubelet healthz port." data-toggle=tooltip data-placement=top target>CVE-2019-11248</a><p>The debugging endpoint <code>/debug/pprof</code> is exposed over the unauthenticated Kubelet healthz port.</p></li>
<li><a href=/docs/patches/cve-2019-11249 title="This vulnerability may allow an attacker to use the kubectl cp command to write malicious files in the container tar package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user." data-toggle=tooltip data-placement=top target>CVE-2019-11249</a><p>This vulnerability may allow an attacker to use the <code>kubectl cp</code> command to write malicious files in the container <code>tar</code> package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user.</p></li>
<li><a href=/docs/patches/cve-2019-11251 title="This vulnerability may allow an attacker to use the kubectl cp command to write malicious files in the container tar package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user." data-toggle=tooltip data-placement=top target>CVE-2019-11251</a><p>This vulnerability may allow an attacker to use the <code>kubectl cp</code> command to write malicious files in the container <code>tar</code> package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user.</p></li>
<li><a href=/docs/patches/cve-2020-8552 title="This vulnerability may make the API Server vulnerable to a DoS (Denial of Service) attack caused by successful API requests." data-toggle=tooltip data-placement=top target>CVE-2020-8552</a><p>This vulnerability may make the <code>API Server</code> vulnerable to a <code>DoS</code> (Denial of Service) attack caused by successful <code>API</code> requests.</p></li>
<li><a href=/docs/patches/cve-2020-8558 title="The kube-proxy component was found to set the kernel parameter net.ipv4.conf.all.route_localnet=1 in both iptables and ipvs modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local 127.0.0.1 on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage." data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p>The <code>kube-proxy</code> component was found to set the kernel parameter <code>net.ipv4.conf.all.route_localnet=1</code> in both <code>iptables</code> and <code>ipvs</code> modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local <code>127.0.0.1</code> on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage.</p></li>
<li>TODO <a href=/docs/patches/cve-2020-8559 title="This is a security vulnerability of the kube-apiserver component. An attacker can intercept certain upgrade requests sent to the node kubelet, and forward the request to other target nodes through the original access credentials in the request that could allow an attacker to escalate privileges from a node compromise to a full cluster compromise." data-toggle=tooltip data-placement=top target>CVE-2020-8559</a><p>This is a security vulnerability of the <code>kube-apiserver</code> component. An attacker can intercept certain upgrade requests sent to the node <code>kubelet</code>, and forward the request to other target nodes through the original access credentials in the request that could allow an attacker to escalate privileges from a node compromise to a full cluster compromise.</p></li>
<li><a href=/docs/patches/cve-2021-3121 title="A program with this vulnerability may crash because of processing some messages that contain malicious Protobuf. If the version of Gogo Protobuf you are using is too low, this vulnerability may exist." data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>A program with this vulnerability may crash because of processing some messages that contain malicious <code>Protobuf</code>. If the version of <code>Gogo Protobuf</code> you are using is too low, this vulnerability may exist.</p></li>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-bcc7e5c745acc27b204884b44e0c3cbb>6.14 - v1.10</h1>
</div>
<div class=td-content>
<h1 id=pg-ffbcd5ebf3f1c36ebfe008f5a6ad4f0b>6.14.1 - v1.10.13-lts.1</h1>
<p>This is the first fixed release by KLTS for v1.10.13.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/patches/cve-2019-11245 title="Containers for pods that do not specify an explicit runAsUser attempt to run as uid 0 (root) on container restart, or if the image was previously pulled to the node." data-toggle=tooltip data-placement=top target>CVE-2019-11245</a><p>Containers for pods that do not specify an explicit runAsUser attempt to run as uid 0 (root) on container restart, or if the image was previously pulled to the node.</p></li>
<li><a href=/docs/patches/cve-2019-1002101 title="This vulnerability may allow an attacker to modify or monitor any file in the directory with the same name in the symbolic link header during the unpacking process of the kubectl cp command, thereby causing damage." data-toggle=tooltip data-placement=top target>CVE-2019-1002101</a><p>This vulnerability may allow an attacker to modify or monitor any file in the directory with the same name in the symbolic link header during the unpacking process of the <code>kubectl cp</code> command, thereby causing damage.</p></li>
<li><a href=/docs/patches/cve-2019-11246 title="This vulnerability may allow an attacker to use the kubectl cp command to write malicious files in the container tar package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user." data-toggle=tooltip data-placement=top target>CVE-2019-11246</a><p>This vulnerability may allow an attacker to use the <code>kubectl cp</code> command to write malicious files in the container <code>tar</code> package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user.</p></li>
<li>TODO <a href=/docs/patches/cve-2019-11247 title="API Server mistakenly allows access to a cluster-scoped custom resource." data-toggle=tooltip data-placement=top target>CVE-2019-11247</a><p><code>API Server</code> mistakenly allows access to a cluster-scoped custom resource.</p></li>
<li><a href=/docs/patches/cve-2019-11248 title="The debugging endpoint /debug/pprof is exposed over the unauthenticated Kubelet healthz port." data-toggle=tooltip data-placement=top target>CVE-2019-11248</a><p>The debugging endpoint <code>/debug/pprof</code> is exposed over the unauthenticated Kubelet healthz port.</p></li>
<li><a href=/docs/patches/cve-2019-11249 title="This vulnerability may allow an attacker to use the kubectl cp command to write malicious files in the container tar package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user." data-toggle=tooltip data-placement=top target>CVE-2019-11249</a><p>This vulnerability may allow an attacker to use the <code>kubectl cp</code> command to write malicious files in the container <code>tar</code> package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user.</p></li>
<li><a href=/docs/patches/cve-2019-11251 title="This vulnerability may allow an attacker to use the kubectl cp command to write malicious files in the container tar package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user." data-toggle=tooltip data-placement=top target>CVE-2019-11251</a><p>This vulnerability may allow an attacker to use the <code>kubectl cp</code> command to write malicious files in the container <code>tar</code> package to any path on the host using Path Traversal. This process is limited only by the system permissions of the local user.</p></li>
<li><a href=/docs/patches/cve-2020-8552 title="This vulnerability may make the API Server vulnerable to a DoS (Denial of Service) attack caused by successful API requests." data-toggle=tooltip data-placement=top target>CVE-2020-8552</a><p>This vulnerability may make the <code>API Server</code> vulnerable to a <code>DoS</code> (Denial of Service) attack caused by successful <code>API</code> requests.</p></li>
<li>TODO <a href=/docs/patches/cve-2020-8558 title="The kube-proxy component was found to set the kernel parameter net.ipv4.conf.all.route_localnet=1 in both iptables and ipvs modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local 127.0.0.1 on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage." data-toggle=tooltip data-placement=top target>CVE-2020-8558</a><p>The <code>kube-proxy</code> component was found to set the kernel parameter <code>net.ipv4.conf.all.route_localnet=1</code> in both <code>iptables</code> and <code>ipvs</code> modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local <code>127.0.0.1</code> on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage.</p></li>
<li>TODO <a href=/docs/patches/cve-2020-8559 title="This is a security vulnerability of the kube-apiserver component. An attacker can intercept certain upgrade requests sent to the node kubelet, and forward the request to other target nodes through the original access credentials in the request that could allow an attacker to escalate privileges from a node compromise to a full cluster compromise." data-toggle=tooltip data-placement=top target>CVE-2020-8559</a><p>This is a security vulnerability of the <code>kube-apiserver</code> component. An attacker can intercept certain upgrade requests sent to the node <code>kubelet</code>, and forward the request to other target nodes through the original access credentials in the request that could allow an attacker to escalate privileges from a node compromise to a full cluster compromise.</p></li>
<li><a href=/docs/patches/cve-2021-3121 title="A program with this vulnerability may crash because of processing some messages that contain malicious Protobuf. If the version of Gogo Protobuf you are using is too low, this vulnerability may exist." data-toggle=tooltip data-placement=top target>CVE-2021-3121</a><p>A program with this vulnerability may crash because of processing some messages that contain malicious <code>Protobuf</code>. If the version of <code>Gogo Protobuf</code> you are using is too low, this vulnerability may exist.</p></li>
<li><a href=/docs/patches/nokmem title="The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod." data-toggle=tooltip data-placement=top target>nokmem</a><p>The node has sufficient disks, but it keeps reporting that the disk is insufficient to create a Pod.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4ea5ec9f40d271955e679919836ca15a>7 - Containerd</h1>
</div>
<div class=td-content>
<h1 id=pg-dfed8f673232f42492878a06c4fd00a2>7.1 - Fixed CVEs</h1>
</div>
<div class=td-content>
<h1 id=pg-e9361514b1c4a6b356b66541847b30b2>7.1.1 - CVE-2021-41103</h1>
<p><a href=https://www.cvedetails.com/cve/CVE-2021-41103 target=_blank>Vulnerability details</a>
<a href="https://github.com/containerd/containerd/security/advisories/GHSA-c2h3-6mxw-7mvq?spm=a2c4g.11186623.0.0.392834c1nttyAo" target=_blank>Vulnerability details(official)</a></p>
<p>allowing otherwise unprivileged Linux users to traverse directory contents and execute programs.</p>
<h2 id=scope>Scope</h2>
<p>When containers included executable programs with extended permission bits (such as setuid), unprivileged Linux users could discover and execute those programs. When the UID of an unprivileged Linux user on the host collided with the file owner or group inside a container, the unprivileged Linux user on the host could discover, read, and modify those files.</p>
<h3 id=cvss>CVSS scores</h3>
<p>This vulnerability is rated as high-risk with a <code>CVSS</code> score of 7.2.</p>
<h2 id=prevention>Prevention</h2>
<p>Ensure that the login users of the cluster nodes are all trusted users, and restrict the access rights of untrusted users to the cluster nodes.
Remove unnecessary extended permissions in the container bundles directory.</p>
<h2 id=official-fixed>Fixed by Official</h2>
<ul>
<li>v1.4.11</li>
<li>v1.5.7</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/containerd/releases/v1.3.10/v1.3.10-lts.1 title="This is the first fixed release by KLTS Containerd for v1.3.10." data-toggle=tooltip data-placement=top target>v1.3.10-lts.1</a> <a href=https://github.com/klts-io/containerd-lts/raw/main/patches/CVE-2021-41103.1.3.patch target=_blank>CVE-2021-41103.1.3.patch</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3e836e30cf6d82e7ba52f18ff1014469>7.2 - Release log</h1>
</div>
<div class=td-content>
<h1 id=pg-76e8223b4f091d4c1cd5a722d63e2101>7.2.1 - v1.3.10</h1>
</div>
<div class=td-content>
<h1 id=pg-273c262c63b2a67fab4478f1c1bb2bc3>7.2.1.1 - v1.3.10-lts.1</h1>
<p>This is the first fixed release by KLTS Containerd for v1.3.10.</p>
<h2 id=patches>Patches</h2>
<ul>
<li><a href=/docs/containerd/patches/cve-2021-41103 title="Where container root directories and some plugins had insufficiently restricted permissions, allowing otherwise unprivileged Linux users to traverse directory contents and execute programs." data-toggle=tooltip data-placement=top target>CVE-2021-41103</a><p>Where container root directories and some plugins had insufficiently restricted permissions, allowing otherwise unprivileged Linux users to traverse directory contents and execute programs.</p></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a7c9e10a31abdecaec5a338462a220a8>8 - Developer Guide</h1>
</div>
<div class=td-content>
<h1 id=pg-79fcc7e024580df9da30cdb10805eada>8.1 - Clone</h1>
<p>This page describes how you can clone a Kubernetes master branch to your local computer.</p>
<h2 id=clone-single-branch>Clone single branch</h2>
<p>Since the <code>repos</code> branch is used as a source package for RPM and DEB, it will be very large to directly clon it, so you shall try to only clone the master branch.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone --single-branch -b master https://github.com/klts-io/kubernetes-lts
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8da562538e76378aaf2ff1c50166f299>8.2 - Dependencies</h1>
<p>This page describes how you can install dependencies on different operating systems.</p>
<h2 id=install-dependencies>Install dependencies</h2>
<ul class="nav nav-tabs" id=tabset-docsdeveloper-guidedependent-1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tabset-docsdeveloper-guidedependent-1-0 role=tab aria-controls=tabset-docsdeveloper-guidedependent-1-0 aria-selected=true>MacOS</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-docsdeveloper-guidedependent-1-1 role=tab aria-controls=tabset-docsdeveloper-guidedependent-1-1>Red Hat-based distributions</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tabset-docsdeveloper-guidedependent-1-2 role=tab aria-controls=tabset-docsdeveloper-guidedependent-1-2>Debian-based distributions</a></li></ul>
<div class=tab-content id=tabset-docsdeveloper-guidedependent-1><div id=tabset-docsdeveloper-guidedependent-1-0 class="tab-pane show active" role=tabpanel aria-labelledby=tabset-docsdeveloper-guidedependent-1-0>
<p><p>Run the following code to install dependencies:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>brew install jq git python@3 <span style=color:#8f5902;font-style:italic># Install brew, See https://brew.sh/</span>
pip3 install yq
</code></pre></div></div>
<div id=tabset-docsdeveloper-guidedependent-1-1 class=tab-pane role=tabpanel aria-labelledby=tabset-docsdeveloper-guidedependent-1-1>
<p><p>Run the following code to install dependencies:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>yum install -y epel-release
yum install -y jq git python3
pip3 install yq
</code></pre></div></div>
<div id=tabset-docsdeveloper-guidedependent-1-2 class=tab-pane role=tabpanel aria-labelledby=tabset-docsdeveloper-guidedependent-1-2>
<p><p>Run the following code to install dependencies:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>apt-get install -y jq git python3 python3-pip
pip3 install yq
</code></pre></div></div></div>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/klts-io aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack>
<a class=text-white target=_blank rel=noopener href=https://klts.slack.com aria-label=Slack>
<i class="fab fa-slack"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list">
<a class=text-white target=_blank rel=noopener href=mailto:klts-io@googlegroups.com aria-label="Developer mailing list">
<i class="fa fa-envelope"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2022 The KLTS.io Authors All Rights Reserved</small>
<p class=mt-2><a href=/about/>About KLTS</a></p>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script>
<script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script>
</body>
</html>