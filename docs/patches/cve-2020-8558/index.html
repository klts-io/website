<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.87.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel="shortcut icon" href=/favicons/favicon.ico>
<link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192>
<title>CVE-2020-8558 | KLTS.io</title>
<meta name=description content="KLTS.io website"><meta property="og:title" content="CVE-2020-8558">
<meta property="og:description" content="Vulnerability details The kube-proxy component was found to set the kernel parameter net.ipv4.conf.all.route_localnet=1 in both iptables and ipvs modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local 127.0.0.1 on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage.">
<meta property="og:type" content="article">
<meta property="og:url" content="/docs/patches/cve-2020-8558/"><meta property="article:section" content="docs">
<meta property="article:modified_time" content="2021-12-30T17:00:24+08:00"><meta property="og:site_name" content="KLTS.io">
<meta itemprop=name content="CVE-2020-8558">
<meta itemprop=description content="Vulnerability details The kube-proxy component was found to set the kernel parameter net.ipv4.conf.all.route_localnet=1 in both iptables and ipvs modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local 127.0.0.1 on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage.">
<meta itemprop=dateModified content="2021-12-30T17:00:24+08:00">
<meta itemprop=wordCount content="390">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="CVE-2020-8558">
<meta name=twitter:description content="Vulnerability details The kube-proxy component was found to set the kernel parameter net.ipv4.conf.all.route_localnet=1 in both iptables and ipvs modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local 127.0.0.1 on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage.">
<link rel=preload href=/scss/main.min.650bdee92aa16b3ae39822dd8dfd62356c714a590c397f4abe76572440c62901.css as=style>
<link href=/scss/main.min.650bdee92aa16b3ae39822dd8dfd62356c714a590c397f4abe76572440c62901.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script>
</head>
<body class=td-page>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
<a class=navbar-brand href=/>
<span class=navbar-logo><svg id="Graph" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><g id="KLTS_-_Graph_-_Light" data-name="KLTS - Graph - Light"><path id="Secondary" d="M174.54 276.539c-23.254 5.244-46.3 13.984-70.386 26.563V249.768A322.072 322.072.0 01153.4 232.2q11.784-3.111 23.743-5.193a84.322 84.322.0 00-2.6 49.53zm54.832-100.2c-18.627-17.387-38.964-31.808-61.2-44.965L119.7 159.357c29.816 15.76 52.067 30.719 69.575 45.639a84.135 84.135.0 0140.097-28.661zm20.63-4.1c1.983-.14 3.979-.237 6-.237a83.588 83.588.0 0141.393 10.916 251.959 251.959.0 00.78-28.448 297.8 297.8.0 00-6.564-53.245L256 80.664l-16.489 9.52c6.65 24.114 10.095 45.37 10.682 65.672Q250.433 164.112 250 172.237zm-64.76 129.007q-4.648 8.227-8.758 16.752a324.529 324.529.0 00-20.49 55.6l43.21 24.947c5.824-24.5 13.469-45.93 23.455-65.437A84.3 84.3.0 01185.242 301.244zM374.19 148.9c-19 18.863-37.743 34.831-58.691 47.809a83.826 83.826.0 0122.786 42.325c25.366-15.381 47.642-34.187 69.561-55.9v-14.8zM298.741 328.308A83.582 83.582.0 01256 340q-2.149.0-4.272-.108c1.842 4.863 3.807 9.68 5.93 14.446 8.355 18.751 19.118 37.369 33 56.991l41.757-24.108c-13.306-18.382-23.351-35.46-30.908-52.419C300.542 332.644 299.63 330.478 298.741 328.308zm40.874-64.358a83.578 83.578.0 01-18.131 44.635c26.246 8.936 54.539 14.141 86.362 16.028v-48.08a284.525 284.525.0 01-57.161-9.231Q345.087 265.763 339.615 263.95z" fill="#fff" opacity=".66"/><path id="Primary" d="M256 71.426l159.846 92.287V348.287L256 440.574 96.154 348.287V163.713L256 71.426M256 16 48.154 136V376L256 496 463.846 376V136L256 16zm0 204a36 36 0 11-25.456 10.544A35.767 35.767.0 01256 220m0-48a84 84 0 1059.4 24.6A83.738 83.738.0 00256 172z" fill="#fff"/><rect id="Frame" width="512" height="512" fill="none"/></g></svg></span><span class="text-uppercase font-weight-bold">KLTS.io</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/about/><span>About</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/blog/><span>Blog</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/docs/><span class=active>Document</span></a>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/zh/docs/patches/cve-2020-8558/>中文 Chinese</a>
</div>
</li>
</ul>
</div>
<div class="navbar-nav d-none d-lg-block">
<input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.2e99b4fde096e252567888e43f4edf60.json data-offline-search-base-href=/ data-offline-search-max-results=10>
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
<div id=td-sidebar-menu class=td-sidebar__inner>
<form class="td-sidebar__search d-flex align-items-center">
<input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.2e99b4fde096e252567888e43f4edf60.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation">
</button>
</form>
<nav class="collapse td-sidebar-nav" id=td-section-nav>
<div class="nav-item dropdown d-block d-lg-none">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/zh/docs/patches/cve-2020-8558/>中文 Chinese</a>
</div>
</div>
<ul class="td-sidebar-nav__section pr-md-3 ul-0">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li>
<a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Document</span></a>
<ul class=ul-1>
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsintro-li>
<a href=/docs/intro/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsintro><span>Overview</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspre-install-li>
<a href=/docs/pre-install/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspre-install><span>Preparation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinstall-with-script-li>
<a href=/docs/install-with-script/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinstall-with-script><span>Install with Script</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinstall-li>
<a href=/docs/install/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinstall><span>Step-By-Step Install</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docspatches-li>
<a href=/docs/patches/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docspatches><span>Fixed CVEs</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchescve-2021-25741-li>
<a href=/docs/patches/cve-2021-25741/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2021-25741><span>CVE-2021-25741</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchescve-2021-3121-li>
<a href=/docs/patches/cve-2021-3121/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2021-3121><span>CVE-2021-3121</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchescve-2020-8559-li>
<a href=/docs/patches/cve-2020-8559/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2020-8559><span>CVE-2020-8559</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docspatchescve-2020-8558-li>
<a href=/docs/patches/cve-2020-8558/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2020-8558><span class=td-sidebar-nav-active-item>CVE-2020-8558</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchescve-2020-8552-li>
<a href=/docs/patches/cve-2020-8552/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2020-8552><span>CVE-2020-8552</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchescve-2019-1002101-li>
<a href=/docs/patches/cve-2019-1002101/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2019-1002101><span>CVE-2019-1002101</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchescve-2019-11251-li>
<a href=/docs/patches/cve-2019-11251/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2019-11251><span>CVE-2019-11251</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchescve-2019-11248-li>
<a href=/docs/patches/cve-2019-11248/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2019-11248><span>CVE-2019-11248</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchescve-2019-11247-li>
<a href=/docs/patches/cve-2019-11247/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2019-11247><span>CVE-2019-11247</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchescve-2019-11246-li>
<a href=/docs/patches/cve-2019-11246/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2019-11246><span>CVE-2019-11246</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchescve-2019-11245-li>
<a href=/docs/patches/cve-2019-11245/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2019-11245><span>CVE-2019-11245</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchescve-2019-11249-li>
<a href=/docs/patches/cve-2019-11249/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchescve-2019-11249><span>CVE-2019-11249</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docspatchesnokmem-li>
<a href=/docs/patches/nokmem/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docspatchesnokmem><span>nokmem</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreleases-li>
<a href=/docs/releases/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreleases><span>Release log</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreleasesv11916-li>
<a href=/docs/releases/v1.19.16/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreleasesv11916><span>v1.19.16</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreleasesv11916v11916-lts1-li>
<a href=/docs/releases/v1.19.16/v1.19.16-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsreleasesv11916v11916-lts1><span>v1.19.16-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreleasesv11820-li>
<a href=/docs/releases/v1.18.20/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreleasesv11820><span>v1.18.20</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreleasesv11820v11820-lts1-li>
<a href=/docs/releases/v1.18.20/v1.18.20-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsreleasesv11820v11820-lts1><span>v1.18.20-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreleasesv11717-li>
<a href=/docs/releases/v1.17.17/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreleasesv11717><span>v1.17.17</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreleasesv11717v11717-lts1-li>
<a href=/docs/releases/v1.17.17/v1.17.17-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsreleasesv11717v11717-lts1><span>v1.17.17-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreleasesv11615-li>
<a href=/docs/releases/v1.16.15/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreleasesv11615><span>v1.16.15</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreleasesv11615v11615-lts1-li>
<a href=/docs/releases/v1.16.15/v1.16.15-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsreleasesv11615v11615-lts1><span>v1.16.15-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreleasesv11512-li>
<a href=/docs/releases/v1.15.12/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreleasesv11512><span>v1.15.12</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreleasesv11512v11512-lts1-li>
<a href=/docs/releases/v1.15.12/v1.15.12-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsreleasesv11512v11512-lts1><span>v1.15.12-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreleasesv11410-li>
<a href=/docs/releases/v1.14.10/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreleasesv11410><span>v1.14.10</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreleasesv11410v11410-lts1-li>
<a href=/docs/releases/v1.14.10/v1.14.10-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsreleasesv11410v11410-lts1><span>v1.14.10-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreleasesv11312-li>
<a href=/docs/releases/v1.13.12/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreleasesv11312><span>v1.13.12</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreleasesv11312v11312-lts1-li>
<a href=/docs/releases/v1.13.12/v1.13.12-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsreleasesv11312v11312-lts1><span>v1.13.12-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreleasesv11210-li>
<a href=/docs/releases/v1.12.10/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreleasesv11210><span>v1.12.10</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreleasesv11210v11210-lts1-li>
<a href=/docs/releases/v1.12.10/v1.12.10-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsreleasesv11210v11210-lts1><span>v1.12.10-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreleasesv11110-li>
<a href=/docs/releases/v1.11.10/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreleasesv11110><span>v1.11.10</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreleasesv11110v11110-lts1-li>
<a href=/docs/releases/v1.11.10/v1.11.10-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsreleasesv11110v11110-lts1><span>v1.11.10-lts.1</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreleasesv11013-li>
<a href=/docs/releases/v1.10.13/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreleasesv11013><span>v1.10.13</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreleasesv11013v11013-lts1-li>
<a href=/docs/releases/v1.10.13/v1.10.13-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsreleasesv11013v11013-lts1><span>v1.10.13-lts.1</span></a>
</li>
</ul>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscontainerd-li>
<a href=/docs/containerd/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscontainerd><span>Containerd</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscontainerdpatches-li>
<a href=/docs/containerd/patches/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscontainerdpatches><span>Fixed CVEs</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscontainerdpatchescve-2021-41103-li>
<a href=/docs/containerd/patches/cve-2021-41103/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscontainerdpatchescve-2021-41103><span>CVE-2021-41103</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscontainerdreleases-li>
<a href=/docs/containerd/releases/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscontainerdreleases><span>Release log</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscontainerdreleasesv1310-li>
<a href=/docs/containerd/releases/v1.3.10/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscontainerdreleasesv1310><span>v1.3.10</span></a>
<ul class="ul-4 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscontainerdreleasesv1310v1310-lts1-li>
<a href=/docs/containerd/releases/v1.3.10/v1.3.10-lts.1/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscontainerdreleasesv1310v1310-lts1><span>v1.3.10-lts.1</span></a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsdeveloper-guide-li>
<a href=/docs/developer-guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsdeveloper-guide><span>Developer Guide</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeveloper-guideclone-li>
<a href=/docs/developer-guide/clone/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeveloper-guideclone><span>Clone</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeveloper-guidedependent-li>
<a href=/docs/developer-guide/dependent/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeveloper-guidedependent><span>Dependencies</span></a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
<aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href=https://github.com/klts-io/website/edit/main/content/en/docs/patches/cve-2020-8558.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/klts-io/website/new/main/content/en/docs/patches/cve-2020-8558.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/klts-io/website/issues/new?title=CVE-2020-8558" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/klts-io/website/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=/docs/patches/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a>
</div>
<div class=td-toc><nav id=TableOfContents>
<ul>
<li><a href=#scope>Scope</a>
<ul>
<li><a href=#cvss>CVSS scores</a></li>
</ul>
</li>
<li><a href=#prevention>Prevention</a></li>
<li><a href=#official-fixed>Fixed by official</a></li>
<li><a href=#klts-fixed>Fixed by KLTS</a></li>
</ul>
</nav></div>
</aside>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<nav aria-label=breadcrumb class="d-none d-md-block d-print-none">
<ol class="breadcrumb spb-1">
<li class=breadcrumb-item>
<a href=/docs/>Document</a>
</li>
<li class=breadcrumb-item>
<a href=/docs/patches/>Fixed CVEs</a>
</li>
<li class="breadcrumb-item active" aria-current=page>
<a href=/docs/patches/cve-2020-8558/>CVE-2020-8558</a>
</li>
</ol>
</nav>
<div class=td-content>
<h1>CVE-2020-8558</h1>
<header class=article-meta>
<p class=reading-time><i class="fa fa-clock" aria-hidden=true></i> 2 minute read</p>
</header>
<a href=https://www.cvedetails.com/cve/CVE-2020-8558 target=_blank>Vulnerability details</a>
<p>The <code>kube-proxy</code> component was found to set the kernel parameter <code>net.ipv4.conf.all.route_localnet=1</code> in both <code>iptables</code> and <code>ipvs</code> modes to allow local loopback access. An attacker may use the container sharing the host network, or bind and listen to the TCP/UDP service of the local <code>127.0.0.1</code> on the cluster node to access the same LAN or adjacent node under the second layer network to obtain interface information. If your service does not set the necessary security certification, it may cause the risk of information leakage.</p>
<h2 id=scope>Scope</h2>
<p>When an attacker has the capability of configuring host network or can access a container instance with the <code>CAP_NET_RAW</code> capability, he can get the <code>socket</code> service information by listening to <code>127.0.0.1</code> on the target node. If there is an exposed service that can be accessed by <code>127.0.0.1</code> and does not require any authentication on the target host, then the service information can be obtained by the attacker.</p>
<h3 id=cvss>CVSS scores</h3>
<ul>
<li>If the cluster <code>API Server</code> opens the non-authenticated port (default 8080), then the attacker may obtain information about the <code>API Server</code> interface, the threat level is high-risk vulnerabilities, and the score is 8.8.</li>
<li>If the cluster <code>API Server</code> closes non-authenticated ports by default, the threat level is medium-risk vulnerability, and the score is 5.4.</li>
</ul>
<h2 id=prevention>Prevention</h2>
<p>It is recommended that you take the following preventative measures:</p>
<p>If the business container needs to use the host network mode and listen on a non-secure port, you can mitigate this vulnerability by manually adding the <code>iptables</code> rule on the node.</p>
<p>Run the following command to configure the <code>iptables</code> rule in the cluster to deny non-local access traffic to <code>127.0.0.1</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>iptables -I INPUT --dst 127.0.0.0/8 ! --src 127.0.0.0/8 -m conntrack ! --ctstate RELATED,ESTABLISHED,DNAT -j DROP
</code></pre></div><p>If the cluster does not need to open the API Server insecure port, you can add <code>--insecure-port=0</code> to the kubernetes API server command line to disable the port.</p>
<p>If untrusted containers are running in the cluster, you can prohibit <code>Container</code> from enabling the <code>CAP_NET_RAW</code> capability, and disable the <code>Container</code>&rsquo;s <code>CAP_NET_RAW</code> capability in <code>pod spec</code>.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>securityContext</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>capabilities</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>drop</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#4e9a06>&#34;NET_RAW&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>Use <code>PodSecurityPolicy</code> to restrict deployment privileges or shared host network containers. In addition, you can configure <code>requiredDropCapabilities</code> in the policy to force container deployment to close the <code>CAP_NET_RAW</code> capability.</p>
<h2 id=official-fixed>Fixed by official</h2>
<ul>
<li>v1.18.4</li>
<li>v1.17.7</li>
<li>v1.16.11</li>
</ul>
<h2 id=klts-fixed>Fixed by KLTS</h2>
<ul>
<li><a href=/docs/releases/v1.15.12/v1.15.12-lts.1 title="This is the first fixed release by KLTS for v1.15.12." data-toggle=tooltip data-placement=top target>v1.15.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92040.patch target=_blank>kubernetes/kubernetes#92040</a></li>
<li><a href=/docs/releases/v1.14.10/v1.14.10-lts.1 title="This is the first fixed release by KLTS for v1.14.10." data-toggle=tooltip data-placement=top target>v1.14.10-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92040.patch target=_blank>kubernetes/kubernetes#92040</a></li>
<li><a href=/docs/releases/v1.13.12/v1.13.12-lts.1 title="This is the first fixed release by KLTS for v1.13.12." data-toggle=tooltip data-placement=top target>v1.13.12-lts.1</a> <a href=https://github.com/kubernetes/kubernetes/pull/92040.patch target=_blank>kubernetes/kubernetes#92040</a></li>
<li><a href=/docs/releases/v1.12.10/v1.12.10-lts.1 title="This is the first fixed release by KLTS for v1.12.10." data-toggle=tooltip data-placement=top target>v1.12.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2020-8558.1.12.patch target=_blank>CVE-2020-8558.1.12.patch</a></li>
<li><a href=/docs/releases/v1.11.10/v1.11.10-lts.1 title="This is the first fixed release by KLTS for v1.11.10." data-toggle=tooltip data-placement=top target>v1.11.10-lts.1</a> <a href=https://github.com/klts-io/kubernetes-lts/raw/main/patches/CVE-2020-8558.1.12.patch target=_blank>CVE-2020-8558.1.12.patch</a></li>
<li><a href=/docs/releases/v1.10.13/v1.10.13-lts.1 title="This is the first fixed release by KLTS for v1.10.13." data-toggle=tooltip data-placement=top target>v1.10.13-lts.1</a> TODO</li>
</ul>
<div class="text-muted mt-5 pt-3 border-top">
Last modified
December 30, 2021
: <a href=https://github.com/klts-io/website/commit/1312b17972451034227ebd5cfc0e87d2976d3a1e>Fix link (1312b179)</a>
</div>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/klts-io aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack>
<a class=text-white target=_blank rel=noopener href=https://klts.slack.com aria-label=Slack>
<i class="fab fa-slack"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list">
<a class=text-white target=_blank rel=noopener href=mailto:klts-io@googlegroups.com aria-label="Developer mailing list">
<i class="fa fa-envelope"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2022 The KLTS.io Authors All Rights Reserved</small>
<p class=mt-2><a href=/about/>About KLTS</a></p>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script>
<script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script>
</body>
</html>